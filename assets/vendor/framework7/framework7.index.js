/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/framework7@8.3.4/framework7.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as e from"dom7";import{getWindow as t,getDocument as r}from"ssr-window";import{compile as a,pathToRegexp as n}from"path-to-regexp";import o from"htm";Object.keys(e).forEach((t=>{"$"!==t&&(e.$.fn[t]=e[t])}));var s=e.$;function i(e){return e<0?-1:0===e?0:1}function l(e,t,r){return(1-r)*e+r*t}function c(e,t,r){return r<e?e:r>t?t:r}function u(e){return(e%=360)<0&&(e+=360),e}function p(e,t){return[e[0]*t[0][0]+e[1]*t[0][1]+e[2]*t[0][2],e[0]*t[1][0]+e[1]*t[1][1]+e[2]*t[1][2],e[0]*t[2][0]+e[1]*t[2][1]+e[2]*t[2][2]]}const d=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],h=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],f=[95.047,100,108.883];function m(e,t,r){return(255<<24|(255&e)<<16|(255&t)<<8|255&r)>>>0}function g(e){return m($(e[0]),$(e[1]),$(e[2]))}function v(e){return e>>16&255}function b(e){return e>>8&255}function y(e){return 255&e}function w(e){return 116*x(function(e){return p([P(v(e)),P(b(e)),P(y(e))],d)}(e)[1]/100)-16}function C(e){return 100*function(e){const t=e*e*e;return t>216/24389?t:(116*e-16)/903.2962962962963}((e+16)/116)}function k(e){return 116*x(e/100)-16}function P(e){const t=e/255;return t<=.040449936?t/12.92*100:100*Math.pow((t+.055)/1.055,2.4)}function $(e){const t=e/100;let r=0;return r=t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,a=0,n=255,(o=Math.round(255*r))<a?a:o>n?n:o;var a,n,o}function x(e){return e>216/24389?Math.pow(e,1/3):(903.2962962962963*e+16)/116}class E{static make(e,t,r,a,n){void 0===e&&(e=f),void 0===t&&(t=200/Math.PI*C(50)/100),void 0===r&&(r=50),void 0===a&&(a=2),void 0===n&&(n=!1);const o=e,s=.401288*o[0]+.650173*o[1]+-.051461*o[2],i=-.250268*o[0]+1.204414*o[1]+.045854*o[2],c=-.002079*o[0]+.048952*o[1]+.953127*o[2],u=.8+a/10,p=u>=.9?l(.59,.69,10*(u-.9)):l(.525,.59,10*(u-.8));let d=n?1:u*(1-1/3.6*Math.exp((-t-42)/92));d=d>1?1:d<0?0:d;const h=u,m=[d*(100/s)+1-d,d*(100/i)+1-d,d*(100/c)+1-d],g=1/(5*t+1),v=g*g*g*g,b=1-v,y=v*t+.1*b*b*Math.cbrt(5*t),w=C(r)/e[1],k=1.48+Math.sqrt(w),P=.725/Math.pow(w,.2),$=P,x=[Math.pow(y*m[0]*s/100,.42),Math.pow(y*m[1]*i/100,.42),Math.pow(y*m[2]*c/100,.42)],M=[400*x[0]/(x[0]+27.13),400*x[1]/(x[1]+27.13),400*x[2]/(x[2]+27.13)];return new E(w,(2*M[0]+M[1]+.05*M[2])*P,P,$,p,h,m,y,Math.pow(y,.25),k)}constructor(e,t,r,a,n,o,s,i,l,c){this.n=e,this.aw=t,this.nbb=r,this.ncb=a,this.c=n,this.nc=o,this.rgbD=s,this.fl=i,this.fLRoot=l,this.z=c}}E.DEFAULT=E.make();class M{constructor(e,t,r,a,n,o,s,i,l){this.hue=e,this.chroma=t,this.j=r,this.q=a,this.m=n,this.s=o,this.jstar=s,this.astar=i,this.bstar=l}distance(e){const t=this.jstar-e.jstar,r=this.astar-e.astar,a=this.bstar-e.bstar,n=Math.sqrt(t*t+r*r+a*a);return 1.41*Math.pow(n,.63)}static fromInt(e){return M.fromIntInViewingConditions(e,E.DEFAULT)}static fromIntInViewingConditions(e,t){const r=(65280&e)>>8,a=255&e,n=P((16711680&e)>>16),o=P(r),s=P(a),l=.41233895*n+.35762064*o+.18051042*s,c=.2126*n+.7152*o+.0722*s,u=.01932141*n+.11916382*o+.95034478*s,p=.401288*l+.650173*c-.051461*u,d=-.250268*l+1.204414*c+.045854*u,h=-.002079*l+.048952*c+.953127*u,f=t.rgbD[0]*p,m=t.rgbD[1]*d,g=t.rgbD[2]*h,v=Math.pow(t.fl*Math.abs(f)/100,.42),b=Math.pow(t.fl*Math.abs(m)/100,.42),y=Math.pow(t.fl*Math.abs(g)/100,.42),w=400*i(f)*v/(v+27.13),C=400*i(m)*b/(b+27.13),k=400*i(g)*y/(y+27.13),$=(11*w+-12*C+k)/11,x=(w+C-2*k)/9,E=(20*w+20*C+21*k)/20,O=(40*w+20*C+k)/20,R=180*Math.atan2(x,$)/Math.PI,T=R<0?R+360:R>=360?R-360:R,S=T*Math.PI/180,B=O*t.nbb,_=100*Math.pow(B/t.aw,t.c*t.z),A=4/t.c*Math.sqrt(_/100)*(t.aw+4)*t.fLRoot,L=T<20.14?T+360:T,D=5e4/13*(.25*(Math.cos(L*Math.PI/180+2)+3.8))*t.nc*t.ncb*Math.sqrt($*$+x*x)/(E+.305),H=Math.pow(D,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),N=H*Math.sqrt(_/100),I=N*t.fLRoot,j=50*Math.sqrt(H*t.c/(t.aw+4)),F=(1+100*.007)*_/(1+.007*_),U=1/.0228*Math.log(1+.0228*I),q=U*Math.cos(S),V=U*Math.sin(S);return new M(T,N,_,A,I,j,F,q,V)}static fromJch(e,t,r){return M.fromJchInViewingConditions(e,t,r,E.DEFAULT)}static fromJchInViewingConditions(e,t,r,a){const n=4/a.c*Math.sqrt(e/100)*(a.aw+4)*a.fLRoot,o=t*a.fLRoot,s=t/Math.sqrt(e/100),i=50*Math.sqrt(s*a.c/(a.aw+4)),l=r*Math.PI/180,c=(1+100*.007)*e/(1+.007*e),u=1/.0228*Math.log(1+.0228*o),p=u*Math.cos(l),d=u*Math.sin(l);return new M(r,t,e,n,o,i,c,p,d)}static fromUcs(e,t,r){return M.fromUcsInViewingConditions(e,t,r,E.DEFAULT)}static fromUcsInViewingConditions(e,t,r,a){const n=t,o=r,s=Math.sqrt(n*n+o*o),i=(Math.exp(.0228*s)-1)/.0228/a.fLRoot;let l=Math.atan2(o,n)*(180/Math.PI);l<0&&(l+=360);const c=e/(1-.007*(e-100));return M.fromJchInViewingConditions(c,i,l,a)}toInt(){return this.viewed(E.DEFAULT)}viewed(e){const t=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(t/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),a=this.hue*Math.PI/180,n=.25*(Math.cos(a+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),s=n*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,c=Math.sin(a),u=Math.cos(a),p=23*(l+.305)*r/(23*s+11*r*u+108*r*c),d=p*u,f=p*c,g=(460*l+451*d+288*f)/1403,v=(460*l-891*d-261*f)/1403,b=(460*l-220*d-6300*f)/1403,y=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),w=i(g)*(100/e.fl)*Math.pow(y,1/.42),C=Math.max(0,27.13*Math.abs(v)/(400-Math.abs(v))),k=i(v)*(100/e.fl)*Math.pow(C,1/.42),P=Math.max(0,27.13*Math.abs(b)/(400-Math.abs(b))),x=i(b)*(100/e.fl)*Math.pow(P,1/.42),E=w/e.rgbD[0],M=k/e.rgbD[1],O=x/e.rgbD[2];return function(e,t,r){const a=h,n=a[0][0]*e+a[0][1]*t+a[0][2]*r,o=a[1][0]*e+a[1][1]*t+a[1][2]*r,s=a[2][0]*e+a[2][1]*t+a[2][2]*r;return m($(n),$(o),$(s))}(1.86206786*E-1.01125463*M+.14918677*O,.38752654*E+.62144744*M-.00897398*O,-.0158415*E-.03412294*M+1.04996444*O)}static fromXyzInViewingConditions(e,t,r,a){const n=.401288*e+.650173*t-.051461*r,o=-.250268*e+1.204414*t+.045854*r,s=-.002079*e+.048952*t+.953127*r,l=a.rgbD[0]*n,c=a.rgbD[1]*o,u=a.rgbD[2]*s,p=Math.pow(a.fl*Math.abs(l)/100,.42),d=Math.pow(a.fl*Math.abs(c)/100,.42),h=Math.pow(a.fl*Math.abs(u)/100,.42),f=400*i(l)*p/(p+27.13),m=400*i(c)*d/(d+27.13),g=400*i(u)*h/(h+27.13),v=(11*f+-12*m+g)/11,b=(f+m-2*g)/9,y=(20*f+20*m+21*g)/20,w=(40*f+20*m+g)/20,C=180*Math.atan2(b,v)/Math.PI,k=C<0?C+360:C>=360?C-360:C,P=k*Math.PI/180,$=w*a.nbb,x=100*Math.pow($/a.aw,a.c*a.z),E=4/a.c*Math.sqrt(x/100)*(a.aw+4)*a.fLRoot,O=k<20.14?k+360:k,R=5e4/13*(1/4*(Math.cos(O*Math.PI/180+2)+3.8))*a.nc*a.ncb*Math.sqrt(v*v+b*b)/(y+.305),T=Math.pow(R,.9)*Math.pow(1.64-Math.pow(.29,a.n),.73),S=T*Math.sqrt(x/100),B=S*a.fLRoot,_=50*Math.sqrt(T*a.c/(a.aw+4)),A=(1+100*.007)*x/(1+.007*x),L=Math.log(1+.0228*B)/.0228,D=L*Math.cos(P),H=L*Math.sin(P);return new M(k,S,x,E,B,_,A,D,H)}xyzInViewingConditions(e){const t=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(t/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),a=this.hue*Math.PI/180,n=.25*(Math.cos(a+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),s=n*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,c=Math.sin(a),u=Math.cos(a),p=23*(l+.305)*r/(23*s+11*r*u+108*r*c),d=p*u,h=p*c,f=(460*l+451*d+288*h)/1403,m=(460*l-891*d-261*h)/1403,g=(460*l-220*d-6300*h)/1403,v=Math.max(0,27.13*Math.abs(f)/(400-Math.abs(f))),b=i(f)*(100/e.fl)*Math.pow(v,1/.42),y=Math.max(0,27.13*Math.abs(m)/(400-Math.abs(m))),w=i(m)*(100/e.fl)*Math.pow(y,1/.42),C=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),k=i(g)*(100/e.fl)*Math.pow(C,1/.42),P=b/e.rgbD[0],$=w/e.rgbD[1],x=k/e.rgbD[2];return[1.86206786*P-1.01125463*$+.14918677*x,.38752654*P+.62144744*$-.00897398*x,-.0158415*P-.03412294*$+1.04996444*x]}}class O{static sanitizeRadians(e){return(e+8*Math.PI)%(2*Math.PI)}static trueDelinearized(e){const t=e/100;let r=0;return r=t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,255*r}static chromaticAdaptation(e){const t=Math.pow(Math.abs(e),.42);return 400*i(e)*t/(t+27.13)}static hueOf(e){const t=p(e,O.SCALED_DISCOUNT_FROM_LINRGB),r=O.chromaticAdaptation(t[0]),a=O.chromaticAdaptation(t[1]),n=O.chromaticAdaptation(t[2]),o=(11*r+-12*a+n)/11,s=(r+a-2*n)/9;return Math.atan2(s,o)}static areInCyclicOrder(e,t,r){return O.sanitizeRadians(t-e)<O.sanitizeRadians(r-e)}static intercept(e,t,r){return(t-e)/(r-e)}static lerpPoint(e,t,r){return[e[0]+(r[0]-e[0])*t,e[1]+(r[1]-e[1])*t,e[2]+(r[2]-e[2])*t]}static setCoordinate(e,t,r,a){const n=O.intercept(e[a],t,r[a]);return O.lerpPoint(e,n,r)}static isBounded(e){return 0<=e&&e<=100}static nthVertex(e,t){const r=O.Y_FROM_LINRGB[0],a=O.Y_FROM_LINRGB[1],n=O.Y_FROM_LINRGB[2],o=t%4<=1?0:100,s=t%2==0?0:100;if(t<4){const t=o,i=s,l=(e-t*a-i*n)/r;return O.isBounded(l)?[l,t,i]:[-1,-1,-1]}if(t<8){const t=o,i=s,l=(e-i*r-t*n)/a;return O.isBounded(l)?[i,l,t]:[-1,-1,-1]}{const t=o,i=s,l=(e-t*r-i*a)/n;return O.isBounded(l)?[t,i,l]:[-1,-1,-1]}}static bisectToSegment(e,t){let r=[-1,-1,-1],a=r,n=0,o=0,s=!1,i=!0;for(let l=0;l<12;l++){const c=O.nthVertex(e,l);if(c[0]<0)continue;const u=O.hueOf(c);s?(i||O.areInCyclicOrder(n,u,o))&&(i=!1,O.areInCyclicOrder(n,t,u)?(a=c,o=u):(r=c,n=u)):(r=c,a=c,n=u,o=u,s=!0)}return[r,a]}static midpoint(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]}static criticalPlaneBelow(e){return Math.floor(e-.5)}static criticalPlaneAbove(e){return Math.ceil(e-.5)}static bisectToLimit(e,t){const r=O.bisectToSegment(e,t);let a=r[0],n=O.hueOf(a),o=r[1];for(let e=0;e<3;e++)if(a[e]!==o[e]){let r=-1,s=255;a[e]<o[e]?(r=O.criticalPlaneBelow(O.trueDelinearized(a[e])),s=O.criticalPlaneAbove(O.trueDelinearized(o[e]))):(r=O.criticalPlaneAbove(O.trueDelinearized(a[e])),s=O.criticalPlaneBelow(O.trueDelinearized(o[e])));for(let i=0;i<8&&!(Math.abs(s-r)<=1);i++){const i=Math.floor((r+s)/2),l=O.CRITICAL_PLANES[i],c=O.setCoordinate(a,l,o,e),u=O.hueOf(c);O.areInCyclicOrder(n,t,u)?(o=c,s=i):(a=c,n=u,r=i)}}return O.midpoint(a,o)}static inverseChromaticAdaptation(e){const t=Math.abs(e),r=Math.max(0,27.13*t/(400-t));return i(e)*Math.pow(r,1/.42)}static findResultByJ(e,t,r){let a=11*Math.sqrt(r);const n=E.DEFAULT,o=1/Math.pow(1.64-Math.pow(.29,n.n),.73),s=.25*(Math.cos(e+2)+3.8)*(5e4/13)*n.nc*n.ncb,i=Math.sin(e),l=Math.cos(e);for(let e=0;e<5;e++){const c=a/100,u=0===t||0===a?0:t/Math.sqrt(c),d=Math.pow(u*o,1/.9),h=n.aw*Math.pow(c,1/n.c/n.z)/n.nbb,f=23*(h+.305)*d/(23*s+11*d*l+108*d*i),m=f*l,v=f*i,b=(460*h+451*m+288*v)/1403,y=(460*h-891*m-261*v)/1403,w=(460*h-220*m-6300*v)/1403,C=p([O.inverseChromaticAdaptation(b),O.inverseChromaticAdaptation(y),O.inverseChromaticAdaptation(w)],O.LINRGB_FROM_SCALED_DISCOUNT);if(C[0]<0||C[1]<0||C[2]<0)return 0;const k=O.Y_FROM_LINRGB[0],P=O.Y_FROM_LINRGB[1],$=O.Y_FROM_LINRGB[2],x=k*C[0]+P*C[1]+$*C[2];if(x<=0)return 0;if(4===e||Math.abs(x-r)<.002)return C[0]>100.01||C[1]>100.01||C[2]>100.01?0:g(C);a-=(x-r)*a/(2*x)}return 0}static solveToInt(e,t,r){if(t<1e-4||r<1e-4||r>99.9999)return function(e){const t=$(C(e));return m(t,t,t)}(r);const a=(e=u(e))/180*Math.PI,n=C(r),o=O.findResultByJ(a,t,n);return 0!==o?o:g(O.bisectToLimit(n,a))}static solveToCam(e,t,r){return M.fromInt(O.solveToInt(e,t,r))}}O.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],O.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],O.Y_FROM_LINRGB=[.2126,.7152,.0722],O.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];class R{static from(e,t,r){return new R(O.solveToInt(e,t,r))}static fromInt(e){return new R(e)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(e){this.setInternalState(O.solveToInt(e,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(e){this.setInternalState(O.solveToInt(this.internalHue,e,this.internalTone))}get tone(){return this.internalTone}set tone(e){this.setInternalState(O.solveToInt(this.internalHue,this.internalChroma,e))}constructor(e){this.argb=e;const t=M.fromInt(e);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=w(e),this.argb=e}setInternalState(e){const t=M.fromInt(e);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=w(e),this.argb=e}inViewingConditions(e){const t=M.fromInt(this.toInt()).xyzInViewingConditions(e),r=M.fromXyzInViewingConditions(t[0],t[1],t[2],E.make());return R.from(r.hue,r.chroma,k(t[1]))}}class T{static harmonize(e,t){const r=R.fromInt(e),a=R.fromInt(t),n=(l=r.hue,c=a.hue,180-Math.abs(Math.abs(l-c)-180)),o=Math.min(.5*n,15),s=u(r.hue+o*(i=r.hue,u(a.hue-i)<=180?1:-1));var i,l,c;return R.from(s,r.chroma,r.tone).toInt()}static hctHue(e,t,r){const a=T.cam16Ucs(e,t,r),n=M.fromInt(a),o=M.fromInt(e);return R.from(n.hue,o.chroma,w(e)).toInt()}static cam16Ucs(e,t,r){const a=M.fromInt(e),n=M.fromInt(t),o=a.jstar,s=a.astar,i=a.bstar,l=o+(n.jstar-o)*r,c=s+(n.astar-s)*r,u=i+(n.bstar-i)*r;return M.fromUcs(l,c,u).toInt()}}class S{static ratioOfTones(e,t){return e=c(0,100,e),t=c(0,100,t),S.ratioOfYs(C(e),C(t))}static ratioOfYs(e,t){const r=e>t?e:t;return(r+5)/((r===t?e:t)+5)}static lighter(e,t){if(e<0||e>100)return-1;const r=C(e),a=t*(r+5)-5,n=S.ratioOfYs(a,r),o=Math.abs(n-t);if(n<t&&o>.04)return-1;const s=k(a)+.4;return s<0||s>100?-1:s}static darker(e,t){if(e<0||e>100)return-1;const r=C(e),a=(r+5)/t-5,n=S.ratioOfYs(r,a),o=Math.abs(n-t);if(n<t&&o>.04)return-1;const s=k(a)-.4;return s<0||s>100?-1:s}static lighterUnsafe(e,t){const r=S.lighter(e,t);return r<0?100:r}static darkerUnsafe(e,t){const r=S.darker(e,t);return r<0?0:r}}class B{static isDisliked(e){const t=Math.round(e.hue)>=90&&Math.round(e.hue)<=111,r=Math.round(e.chroma)>16,a=Math.round(e.tone)<65;return t&&r&&a}static fixIfDisliked(e){return B.isDisliked(e)?R.from(e.hue,e.chroma,70):e}}class _{static fromPalette(e){return new _(e.name??"",e.palette,e.tone,e.isBackground??!1,e.background,e.secondBackground,e.contrastCurve,e.toneDeltaPair)}constructor(e,t,r,a,n,o,s,i){if(this.name=e,this.palette=t,this.tone=r,this.isBackground=a,this.background=n,this.secondBackground=o,this.contrastCurve=s,this.toneDeltaPair=i,this.hctCache=new Map,!n&&o)throw new Error(`Color ${e} has secondBackgrounddefined, but background is not defined.`);if(!n&&s)throw new Error(`Color ${e} has contrastCurvedefined, but background is not defined.`);if(n&&!s)throw new Error(`Color ${e} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(e){return this.getHct(e).toInt()}getHct(e){const t=this.hctCache.get(e);if(null!=t)return t;const r=this.getTone(e),a=this.palette(e).getHct(r);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(e,a),a}getTone(e){const t=e.contrastLevel<0;if(this.toneDeltaPair){const r=this.toneDeltaPair(e),a=r.roleA,n=r.roleB,o=r.delta,s=r.polarity,i=r.stayTogether,l=this.background(e).getTone(e),u="nearer"===s||"lighter"===s&&!e.isDark||"darker"===s&&e.isDark,p=u?a:n,d=u?n:a,h=this.name===p.name,f=e.isDark?1:-1,m=p.contrastCurve.getContrast(e.contrastLevel),g=d.contrastCurve.getContrast(e.contrastLevel),v=p.tone(e);let b=S.ratioOfTones(l,v)>=m?v:_.foregroundTone(l,m);const y=d.tone(e);let w=S.ratioOfTones(l,y)>=g?y:_.foregroundTone(l,g);return t&&(b=_.foregroundTone(l,m),w=_.foregroundTone(l,g)),(w-b)*f>=o||(w=c(0,100,b+o*f),(w-b)*f>=o||(b=c(0,100,w-o*f))),50<=b&&b<60?f>0?(b=60,w=Math.max(w,b+o*f)):(b=49,w=Math.min(w,b+o*f)):50<=w&&w<60&&(i?f>0?(b=60,w=Math.max(w,b+o*f)):(b=49,w=Math.min(w,b+o*f)):w=f>0?60:49),h?b:w}{let r=this.tone(e);if(null==this.background)return r;const a=this.background(e).getTone(e),n=this.contrastCurve.getContrast(e.contrastLevel);if(S.ratioOfTones(a,r)>=n||(r=_.foregroundTone(a,n)),t&&(r=_.foregroundTone(a,n)),this.isBackground&&50<=r&&r<60&&(r=S.ratioOfTones(49,a)>=n?49:60),this.secondBackground){const[t,a]=[this.background,this.secondBackground],[o,s]=[t(e).getTone(e),a(e).getTone(e)],[i,l]=[Math.max(o,s),Math.min(o,s)];if(S.ratioOfTones(i,r)>=n&&S.ratioOfTones(l,r)>=n)return r;const c=S.lighter(i,n),u=S.darker(l,n),p=[];return-1!==c&&p.push(c),-1!==u&&p.push(u),_.tonePrefersLightForeground(o)||_.tonePrefersLightForeground(s)?c<0?100:c:1===p.length?p[0]:u<0?0:u}return r}}static foregroundTone(e,t){const r=S.lighterUnsafe(e,t),a=S.darkerUnsafe(e,t),n=S.ratioOfTones(r,e),o=S.ratioOfTones(a,e);if(_.tonePrefersLightForeground(e)){const e=Math.abs(n-o)<.1&&n<t&&o<t;return n>=t||n>=o||e?r:a}return o>=t||o>=n?a:r}static tonePrefersLightForeground(e){return Math.round(e)<60}static toneAllowsLightForeground(e){return Math.round(e)<=49}static enableLightForeground(e){return _.tonePrefersLightForeground(e)&&!_.toneAllowsLightForeground(e)?49:e}}var A;!function(e){e[e.MONOCHROME=0]="MONOCHROME",e[e.NEUTRAL=1]="NEUTRAL",e[e.TONAL_SPOT=2]="TONAL_SPOT",e[e.VIBRANT=3]="VIBRANT",e[e.EXPRESSIVE=4]="EXPRESSIVE",e[e.FIDELITY=5]="FIDELITY",e[e.CONTENT=6]="CONTENT",e[e.RAINBOW=7]="RAINBOW",e[e.FRUIT_SALAD=8]="FRUIT_SALAD"}(A||(A={}));class L{constructor(e,t,r,a){this.low=e,this.normal=t,this.medium=r,this.high=a}getContrast(e){return e<=-1?this.low:e<0?l(this.low,this.normal,(e- -1)/1):e<.5?l(this.normal,this.medium,(e-0)/.5):e<1?l(this.medium,this.high,(e-.5)/.5):this.high}}class D{constructor(e,t,r,a,n){this.roleA=e,this.roleB=t,this.delta=r,this.polarity=a,this.stayTogether=n}}function H(e){return e.variant===A.FIDELITY||e.variant===A.CONTENT}function N(e){return e.variant===A.MONOCHROME}function I(e,t){const r=e.inViewingConditions(function(e){return E.make(void 0,void 0,e.isDark?30:80,void 0,void 0)}(t));return _.tonePrefersLightForeground(e.tone)&&!_.toneAllowsLightForeground(r.tone)?_.enableLightForeground(e.tone):_.enableLightForeground(r.tone)}class j{static highestSurface(e){return e.isDark?j.surfaceBright:j.surfaceDim}}j.contentAccentToneDelta=15,j.primaryPaletteKeyColor=_.fromPalette({name:"primary_palette_key_color",palette:e=>e.primaryPalette,tone:e=>e.primaryPalette.keyColor.tone}),j.secondaryPaletteKeyColor=_.fromPalette({name:"secondary_palette_key_color",palette:e=>e.secondaryPalette,tone:e=>e.secondaryPalette.keyColor.tone}),j.tertiaryPaletteKeyColor=_.fromPalette({name:"tertiary_palette_key_color",palette:e=>e.tertiaryPalette,tone:e=>e.tertiaryPalette.keyColor.tone}),j.neutralPaletteKeyColor=_.fromPalette({name:"neutral_palette_key_color",palette:e=>e.neutralPalette,tone:e=>e.neutralPalette.keyColor.tone}),j.neutralVariantPaletteKeyColor=_.fromPalette({name:"neutral_variant_palette_key_color",palette:e=>e.neutralVariantPalette,tone:e=>e.neutralVariantPalette.keyColor.tone}),j.background=_.fromPalette({name:"background",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:98,isBackground:!0}),j.onBackground=_.fromPalette({name:"on_background",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:10,background:e=>j.background,contrastCurve:new L(3,3,4.5,7)}),j.surface=_.fromPalette({name:"surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:98,isBackground:!0}),j.surfaceDim=_.fromPalette({name:"surface_dim",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:87,isBackground:!0}),j.surfaceBright=_.fromPalette({name:"surface_bright",palette:e=>e.neutralPalette,tone:e=>e.isDark?24:98,isBackground:!0}),j.surfaceContainerLowest=_.fromPalette({name:"surface_container_lowest",palette:e=>e.neutralPalette,tone:e=>e.isDark?4:100,isBackground:!0}),j.surfaceContainerLow=_.fromPalette({name:"surface_container_low",palette:e=>e.neutralPalette,tone:e=>e.isDark?10:96,isBackground:!0}),j.surfaceContainer=_.fromPalette({name:"surface_container",palette:e=>e.neutralPalette,tone:e=>e.isDark?12:94,isBackground:!0}),j.surfaceContainerHigh=_.fromPalette({name:"surface_container_high",palette:e=>e.neutralPalette,tone:e=>e.isDark?17:92,isBackground:!0}),j.surfaceContainerHighest=_.fromPalette({name:"surface_container_highest",palette:e=>e.neutralPalette,tone:e=>e.isDark?22:90,isBackground:!0}),j.onSurface=_.fromPalette({name:"on_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:10,background:e=>j.highestSurface(e),contrastCurve:new L(4.5,7,11,21)}),j.surfaceVariant=_.fromPalette({name:"surface_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?30:90,isBackground:!0}),j.onSurfaceVariant=_.fromPalette({name:"on_surface_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?80:30,background:e=>j.highestSurface(e),contrastCurve:new L(3,4.5,7,11)}),j.inverseSurface=_.fromPalette({name:"inverse_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:20}),j.inverseOnSurface=_.fromPalette({name:"inverse_on_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?20:95,background:e=>j.inverseSurface,contrastCurve:new L(4.5,7,11,21)}),j.outline=_.fromPalette({name:"outline",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?60:50,background:e=>j.highestSurface(e),contrastCurve:new L(1.5,3,4.5,7)}),j.outlineVariant=_.fromPalette({name:"outline_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?30:80,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7)}),j.shadow=_.fromPalette({name:"shadow",palette:e=>e.neutralPalette,tone:e=>0}),j.scrim=_.fromPalette({name:"scrim",palette:e=>e.neutralPalette,tone:e=>0}),j.surfaceTint=_.fromPalette({name:"surface_tint",palette:e=>e.primaryPalette,tone:e=>e.isDark?80:40,isBackground:!0}),j.primary=_.fromPalette({name:"primary",palette:e=>e.primaryPalette,tone:e=>N(e)?e.isDark?100:0:e.isDark?80:40,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(3,4.5,7,11),toneDeltaPair:e=>new D(j.primaryContainer,j.primary,15,"nearer",!1)}),j.onPrimary=_.fromPalette({name:"on_primary",palette:e=>e.primaryPalette,tone:e=>N(e)?e.isDark?10:90:e.isDark?20:100,background:e=>j.primary,contrastCurve:new L(4.5,7,11,21)}),j.primaryContainer=_.fromPalette({name:"primary_container",palette:e=>e.primaryPalette,tone:e=>H(e)?I(e.sourceColorHct,e):N(e)?e.isDark?85:25:e.isDark?30:90,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.primaryContainer,j.primary,15,"nearer",!1)}),j.onPrimaryContainer=_.fromPalette({name:"on_primary_container",palette:e=>e.primaryPalette,tone:e=>H(e)?_.foregroundTone(j.primaryContainer.tone(e),4.5):N(e)?e.isDark?0:100:e.isDark?90:10,background:e=>j.primaryContainer,contrastCurve:new L(4.5,7,11,21)}),j.inversePrimary=_.fromPalette({name:"inverse_primary",palette:e=>e.primaryPalette,tone:e=>e.isDark?40:80,background:e=>j.inverseSurface,contrastCurve:new L(3,4.5,7,11)}),j.secondary=_.fromPalette({name:"secondary",palette:e=>e.secondaryPalette,tone:e=>e.isDark?80:40,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(3,4.5,7,11),toneDeltaPair:e=>new D(j.secondaryContainer,j.secondary,15,"nearer",!1)}),j.onSecondary=_.fromPalette({name:"on_secondary",palette:e=>e.secondaryPalette,tone:e=>N(e)?e.isDark?10:100:e.isDark?20:100,background:e=>j.secondary,contrastCurve:new L(4.5,7,11,21)}),j.secondaryContainer=_.fromPalette({name:"secondary_container",palette:e=>e.secondaryPalette,tone:e=>{const t=e.isDark?30:90;if(N(e))return e.isDark?30:85;if(!H(e))return t;let r=function(e,t,r,a){let n=r,o=R.from(e,t,r);if(o.chroma<t){let r=o.chroma;for(;o.chroma<t;){n+=a?-1:1;const s=R.from(e,t,n);if(r>s.chroma)break;if(Math.abs(s.chroma-t)<.4)break;Math.abs(s.chroma-t)<Math.abs(o.chroma-t)&&(o=s),r=Math.max(r,s.chroma)}}return n}(e.secondaryPalette.hue,e.secondaryPalette.chroma,t,!e.isDark);return r=I(e.secondaryPalette.getHct(r),e),r},isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.secondaryContainer,j.secondary,15,"nearer",!1)}),j.onSecondaryContainer=_.fromPalette({name:"on_secondary_container",palette:e=>e.secondaryPalette,tone:e=>H(e)?_.foregroundTone(j.secondaryContainer.tone(e),4.5):e.isDark?90:10,background:e=>j.secondaryContainer,contrastCurve:new L(4.5,7,11,21)}),j.tertiary=_.fromPalette({name:"tertiary",palette:e=>e.tertiaryPalette,tone:e=>N(e)?e.isDark?90:25:e.isDark?80:40,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(3,4.5,7,11),toneDeltaPair:e=>new D(j.tertiaryContainer,j.tertiary,15,"nearer",!1)}),j.onTertiary=_.fromPalette({name:"on_tertiary",palette:e=>e.tertiaryPalette,tone:e=>N(e)?e.isDark?10:90:e.isDark?20:100,background:e=>j.tertiary,contrastCurve:new L(4.5,7,11,21)}),j.tertiaryContainer=_.fromPalette({name:"tertiary_container",palette:e=>e.tertiaryPalette,tone:e=>{if(N(e))return e.isDark?60:49;if(!H(e))return e.isDark?30:90;const t=I(e.tertiaryPalette.getHct(e.sourceColorHct.tone),e),r=e.tertiaryPalette.getHct(t);return B.fixIfDisliked(r).tone},isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.tertiaryContainer,j.tertiary,15,"nearer",!1)}),j.onTertiaryContainer=_.fromPalette({name:"on_tertiary_container",palette:e=>e.tertiaryPalette,tone:e=>N(e)?e.isDark?0:100:H(e)?_.foregroundTone(j.tertiaryContainer.tone(e),4.5):e.isDark?90:10,background:e=>j.tertiaryContainer,contrastCurve:new L(4.5,7,11,21)}),j.error=_.fromPalette({name:"error",palette:e=>e.errorPalette,tone:e=>e.isDark?80:40,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(3,4.5,7,11),toneDeltaPair:e=>new D(j.errorContainer,j.error,15,"nearer",!1)}),j.onError=_.fromPalette({name:"on_error",palette:e=>e.errorPalette,tone:e=>e.isDark?20:100,background:e=>j.error,contrastCurve:new L(4.5,7,11,21)}),j.errorContainer=_.fromPalette({name:"error_container",palette:e=>e.errorPalette,tone:e=>e.isDark?30:90,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.errorContainer,j.error,15,"nearer",!1)}),j.onErrorContainer=_.fromPalette({name:"on_error_container",palette:e=>e.errorPalette,tone:e=>e.isDark?90:10,background:e=>j.errorContainer,contrastCurve:new L(4.5,7,11,21)}),j.primaryFixed=_.fromPalette({name:"primary_fixed",palette:e=>e.primaryPalette,tone:e=>N(e)?40:90,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.primaryFixed,j.primaryFixedDim,10,"lighter",!0)}),j.primaryFixedDim=_.fromPalette({name:"primary_fixed_dim",palette:e=>e.primaryPalette,tone:e=>N(e)?30:80,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.primaryFixed,j.primaryFixedDim,10,"lighter",!0)}),j.onPrimaryFixed=_.fromPalette({name:"on_primary_fixed",palette:e=>e.primaryPalette,tone:e=>N(e)?100:10,background:e=>j.primaryFixedDim,secondBackground:e=>j.primaryFixed,contrastCurve:new L(4.5,7,11,21)}),j.onPrimaryFixedVariant=_.fromPalette({name:"on_primary_fixed_variant",palette:e=>e.primaryPalette,tone:e=>N(e)?90:30,background:e=>j.primaryFixedDim,secondBackground:e=>j.primaryFixed,contrastCurve:new L(3,4.5,7,11)}),j.secondaryFixed=_.fromPalette({name:"secondary_fixed",palette:e=>e.secondaryPalette,tone:e=>N(e)?80:90,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.secondaryFixed,j.secondaryFixedDim,10,"lighter",!0)}),j.secondaryFixedDim=_.fromPalette({name:"secondary_fixed_dim",palette:e=>e.secondaryPalette,tone:e=>N(e)?70:80,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.secondaryFixed,j.secondaryFixedDim,10,"lighter",!0)}),j.onSecondaryFixed=_.fromPalette({name:"on_secondary_fixed",palette:e=>e.secondaryPalette,tone:e=>10,background:e=>j.secondaryFixedDim,secondBackground:e=>j.secondaryFixed,contrastCurve:new L(4.5,7,11,21)}),j.onSecondaryFixedVariant=_.fromPalette({name:"on_secondary_fixed_variant",palette:e=>e.secondaryPalette,tone:e=>N(e)?25:30,background:e=>j.secondaryFixedDim,secondBackground:e=>j.secondaryFixed,contrastCurve:new L(3,4.5,7,11)}),j.tertiaryFixed=_.fromPalette({name:"tertiary_fixed",palette:e=>e.tertiaryPalette,tone:e=>N(e)?40:90,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.tertiaryFixed,j.tertiaryFixedDim,10,"lighter",!0)}),j.tertiaryFixedDim=_.fromPalette({name:"tertiary_fixed_dim",palette:e=>e.tertiaryPalette,tone:e=>N(e)?30:80,isBackground:!0,background:e=>j.highestSurface(e),contrastCurve:new L(1,1,3,7),toneDeltaPair:e=>new D(j.tertiaryFixed,j.tertiaryFixedDim,10,"lighter",!0)}),j.onTertiaryFixed=_.fromPalette({name:"on_tertiary_fixed",palette:e=>e.tertiaryPalette,tone:e=>N(e)?100:10,background:e=>j.tertiaryFixedDim,secondBackground:e=>j.tertiaryFixed,contrastCurve:new L(4.5,7,11,21)}),j.onTertiaryFixedVariant=_.fromPalette({name:"on_tertiary_fixed_variant",palette:e=>e.tertiaryPalette,tone:e=>N(e)?90:30,background:e=>j.tertiaryFixedDim,secondBackground:e=>j.tertiaryFixed,contrastCurve:new L(3,4.5,7,11)});class F{static fromInt(e){const t=R.fromInt(e);return F.fromHct(t)}static fromHct(e){return new F(e.hue,e.chroma,e)}static fromHueAndChroma(e,t){return new F(e,t,F.createKeyColor(e,t))}constructor(e,t,r){this.hue=e,this.chroma=t,this.keyColor=r,this.cache=new Map}static createKeyColor(e,t){let r=R.from(e,t,50),a=Math.abs(r.chroma-t);for(let n=1;n<50;n+=1){if(Math.round(t)===Math.round(r.chroma))return r;const o=R.from(e,t,50+n),s=Math.abs(o.chroma-t);s<a&&(a=s,r=o);const i=R.from(e,t,50-n),l=Math.abs(i.chroma-t);l<a&&(a=l,r=i)}return r}tone(e){let t=this.cache.get(e);return void 0===t&&(t=R.from(this.hue,this.chroma,e).toInt(),this.cache.set(e,t)),t}getHct(e){return R.fromInt(this.tone(e))}}class U{static of(e){return new U(e,!1)}static contentOf(e){return new U(e,!0)}static fromColors(e){return U.createPaletteFromColors(!1,e)}static contentFromColors(e){return U.createPaletteFromColors(!0,e)}static createPaletteFromColors(e,t){const r=new U(t.primary,e);if(t.secondary){const a=new U(t.secondary,e);r.a2=a.a1}if(t.tertiary){const a=new U(t.tertiary,e);r.a3=a.a1}if(t.error){const a=new U(t.error,e);r.error=a.a1}if(t.neutral){const a=new U(t.neutral,e);r.n1=a.n1}if(t.neutralVariant){const a=new U(t.neutralVariant,e);r.n2=a.n2}return r}constructor(e,t){const r=R.fromInt(e),a=r.hue,n=r.chroma;t?(this.a1=F.fromHueAndChroma(a,n),this.a2=F.fromHueAndChroma(a,n/3),this.a3=F.fromHueAndChroma(a+60,n/2),this.n1=F.fromHueAndChroma(a,Math.min(n/12,4)),this.n2=F.fromHueAndChroma(a,Math.min(n/6,8))):(this.a1=F.fromHueAndChroma(a,Math.max(48,n)),this.a2=F.fromHueAndChroma(a,16),this.a3=F.fromHueAndChroma(a+60,24),this.n1=F.fromHueAndChroma(a,4),this.n2=F.fromHueAndChroma(a,8)),this.error=F.fromHueAndChroma(25,84)}}class q{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(e){return q.lightFromCorePalette(U.of(e))}static dark(e){return q.darkFromCorePalette(U.of(e))}static lightContent(e){return q.lightFromCorePalette(U.contentOf(e))}static darkContent(e){return q.darkFromCorePalette(U.contentOf(e))}static lightFromCorePalette(e){return new q({primary:e.a1.tone(40),onPrimary:e.a1.tone(100),primaryContainer:e.a1.tone(90),onPrimaryContainer:e.a1.tone(10),secondary:e.a2.tone(40),onSecondary:e.a2.tone(100),secondaryContainer:e.a2.tone(90),onSecondaryContainer:e.a2.tone(10),tertiary:e.a3.tone(40),onTertiary:e.a3.tone(100),tertiaryContainer:e.a3.tone(90),onTertiaryContainer:e.a3.tone(10),error:e.error.tone(40),onError:e.error.tone(100),errorContainer:e.error.tone(90),onErrorContainer:e.error.tone(10),background:e.n1.tone(99),onBackground:e.n1.tone(10),surface:e.n1.tone(99),onSurface:e.n1.tone(10),surfaceVariant:e.n2.tone(90),onSurfaceVariant:e.n2.tone(30),outline:e.n2.tone(50),outlineVariant:e.n2.tone(80),shadow:e.n1.tone(0),scrim:e.n1.tone(0),inverseSurface:e.n1.tone(20),inverseOnSurface:e.n1.tone(95),inversePrimary:e.a1.tone(80)})}static darkFromCorePalette(e){return new q({primary:e.a1.tone(80),onPrimary:e.a1.tone(20),primaryContainer:e.a1.tone(30),onPrimaryContainer:e.a1.tone(90),secondary:e.a2.tone(80),onSecondary:e.a2.tone(20),secondaryContainer:e.a2.tone(30),onSecondaryContainer:e.a2.tone(90),tertiary:e.a3.tone(80),onTertiary:e.a3.tone(20),tertiaryContainer:e.a3.tone(30),onTertiaryContainer:e.a3.tone(90),error:e.error.tone(80),onError:e.error.tone(20),errorContainer:e.error.tone(30),onErrorContainer:e.error.tone(80),background:e.n1.tone(10),onBackground:e.n1.tone(90),surface:e.n1.tone(10),onSurface:e.n1.tone(90),surfaceVariant:e.n2.tone(30),onSurfaceVariant:e.n2.tone(80),outline:e.n2.tone(60),outlineVariant:e.n2.tone(30),shadow:e.n1.tone(0),scrim:e.n1.tone(0),inverseSurface:e.n1.tone(90),inverseOnSurface:e.n1.tone(20),inversePrimary:e.a1.tone(40)})}constructor(e){this.props=e}toJSON(){return{...this.props}}}function V(e){const t=v(e),r=b(e),a=y(e),n=[t.toString(16),r.toString(16),a.toString(16)];for(const[e,t]of n.entries())1===t.length&&(n[e]="0"+t);return"#"+n.join("")}function z(e){const t=3===(e=e.replace("#","")).length,r=6===e.length,a=8===e.length;if(!t&&!r&&!a)throw new Error("unexpected hex "+e);let n=0,o=0,s=0;return t?(n=W(e.slice(0,1).repeat(2)),o=W(e.slice(1,2).repeat(2)),s=W(e.slice(2,3).repeat(2))):r?(n=W(e.slice(0,2)),o=W(e.slice(2,4)),s=W(e.slice(4,6))):a&&(n=W(e.slice(2,4)),o=W(e.slice(4,6)),s=W(e.slice(6,8))),(255<<24|(255&n)<<16|(255&o)<<8|255&s)>>>0}function W(e){return parseInt(e,16)}function X(e,t){void 0===t&&(t=[]);const r=U.of(e);return{source:e,schemes:{light:q.light(e),dark:q.dark(e)},palettes:{primary:r.a1,secondary:r.a2,tertiary:r.a3,neutral:r.n1,neutralVariant:r.n2,error:r.error},customColors:t.map((t=>function(e,t){let r=t.value;const a=r,n=e;t.blend&&(r=T.harmonize(a,n));const o=U.of(r).a1;return{color:t,value:r,light:{color:o.tone(40),onColor:o.tone(100),colorContainer:o.tone(90),onColorContainer:o.tone(10)},dark:{color:o.tone(80),onColor:o.tone(20),colorContainer:o.tone(30),onColorContainer:o.tone(90)}}}(e,t)))}}function Y(e){const t=Math.round,r=e.length,a={};return"rgb"===e.slice(0,3).toLowerCase()?(e=e.replace(" ","").split(","),a[0]=parseInt(e[0].slice("a"===e[3].toLowerCase()?5:4),10),a[1]=parseInt(e[1],10),a[2]=parseInt(e[2],10),a[3]=e[3]?parseFloat(e[3]):-1):(e=r<6?parseInt(String(e[1])+e[1]+e[2]+e[2]+e[3]+e[3]+(r>4?String(e[4])+e[4]:""),16):parseInt(e.slice(1),16),a[0]=e>>16&255,a[1]=e>>8&255,a[2]=255&e,a[3]=9===r||5===r?t((e>>24&255)/255*1e4)/1e4:-1),a}function Q(e,t,r){void 0===r&&(r=.5);const a=Math.round;e=e.trim(),t=t.trim();r=r<0?-1*r:r;const n=Y(e),o=Y(t);return"r"===t[0]?"rgb"+("a"===t[3]?"a(":"(")+a((o[0]-n[0])*r+n[0])+","+a((o[1]-n[1])*r+n[1])+","+a((o[2]-n[2])*r+n[2])+(n[3]<0&&o[3]<0?"":","+(n[3]>-1&&o[3]>-1?a(1e4*((o[3]-n[3])*r+n[3]))/1e4:o[3]<0?n[3]:o[3]))+")":"#"+(4294967296+16777216*(n[3]>-1&&o[3]>-1?a(255*((o[3]-n[3])*r+n[3])):o[3]>-1?a(255*o[3]):n[3]>-1?a(255*n[3]):255)+65536*a((o[0]-n[0])*r+n[0])+256*a((o[1]-n[1])*r+n[1])+a((o[2]-n[2])*r+n[2])).toString(16).slice(n[3]>-1||o[3]>-1?1:3)}let G=0;function K(e,t){void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef");const r=t.length;return e.replace(/x/g,(()=>t[Math.floor(Math.random()*r)]))}const J='\n  <span class="preloader-inner">\n    <svg viewBox="0 0 36 36">\n      <circle cx="18" cy="18" r="16"></circle>\n    </svg>\n  </span>\n'.trim(),Z=`\n  <span class="preloader-inner">\n    ${[0,1,2,3,4,5,6,7].map((()=>'<span class="preloader-inner-line"></span>')).join("")}\n  </span>\n`.trim();function ee(e){let t;return e.split("").map(((e,r)=>e.match(/[A-Z]/)&&0!==r&&!t?(t=!0,`:${e.toLowerCase()}`):e.toLowerCase())).join("")}function te(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function re(e){return t().requestAnimationFrame(e)}function ae(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function ne(e){return re((()=>{re(e)}))}function oe(){return Date.now()}function se(e){const r=t(),a={};let n,o,s,i,l=e||r.location.href;if("string"==typeof l&&l.length)for(l=l.indexOf("?")>-1?l.replace(/\S*\?/,""):"",o=l.split("&").filter((e=>""!==e)),i=o.length,n=0;n<i;n+=1)s=o[n].replace(/#\S+/g,"").split("="),a[decodeURIComponent(s[0])]=void 0===s[1]?void 0:decodeURIComponent(s.slice(1).join("="))||"";return a}function ie(e,t){if(void 0===t&&(t=[]),"string"==typeof e)return e;const r=[];let a;function n(e){if(t.length>0){let r="";for(let e=0;e<t.length;e+=1)r+=0===e?t[e]:`[${encodeURIComponent(t[e])}]`;return`${r}[${encodeURIComponent(e)}]`}return encodeURIComponent(e)}function o(e){return encodeURIComponent(e)}return Object.keys(e).forEach((s=>{let i;if(Array.isArray(e[s])){i=[];for(let r=0;r<e[s].length;r+=1)Array.isArray(e[s][r])||"object"!=typeof e[s][r]?i.push(`${n(s)}[]=${o(e[s][r])}`):(a=t.slice(),a.push(s),a.push(String(r)),i.push(ie(e[s][r],a)));i.length>0&&r.push(i.join("&"))}else null===e[s]||""===e[s]?r.push(`${n(s)}=`):"object"==typeof e[s]?(a=t.slice(),a.push(s),i=ie(e[s],a),""!==i&&r.push(i)):void 0!==e[s]&&""!==e[s]?r.push(`${n(s)}=${o(e[s])}`):""===e[s]&&r.push(n(s))})),r.join("&")}function le(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const a=t[0];t.splice(0,1);const n=t;for(let e=0;e<n.length;e+=1){const r=t[e];if(null!=r){const e=Object.keys(Object(r));for(let t=0,n=e.length;t<n;t+=1){const n=e[t],o=Object.getOwnPropertyDescriptor(r,n);void 0!==o&&o.enumerable&&(a[n]=r[n])}}}return a}function ue(){let e,t,r=!0;for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];"boolean"==typeof n[0]?(r=n[0],e=n[1],n.splice(0,2),t=n):(e=n[0],n.splice(0,1),t=n);for(let a=0;a<t.length;a+=1){const t=n[a];if(null!=t){const a=Object.keys(Object(t));for(let n=0,o=a.length;n<o;n+=1){const o=a[n],s=Object.getOwnPropertyDescriptor(t,o);void 0!==s&&s.enumerable&&(r?le(e[o])&&le(t[o])?ue(e[o],t[o]):!le(e[o])&&le(t[o])?(e[o]={},ue(e[o],t[o])):e[o]=t[o]:e[o]=t[o])}}}return e}function pe(e){const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,r,a)=>t+t+r+r+a+a)),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?r.slice(1).map((e=>parseInt(e,16))):null}function de(e,t,r){return`#${[e,t,r].map((e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t})).join("")}`}function he(e,t,r){e/=255,t/=255,r/=255;const a=Math.max(e,t,r),n=Math.min(e,t,r),o=a-n;let s;0===o?s=0:a===e?s=(t-r)/o%6:a===t?s=(r-e)/o+2:a===r&&(s=(e-t)/o+4);const i=(n+a)/2;return s<0&&(s=6+s),[60*s,0===o?0:o/(1-Math.abs(2*i-1)),i]}function fe(e,t,r){const a=(1-Math.abs(2*r-1))*t,n=e/60,o=a*(1-Math.abs(n%2-1));let s;Number.isNaN(e)||void 0===e?s=[0,0,0]:n<=1?s=[a,o,0]:n<=2?s=[o,a,0]:n<=3?s=[0,a,o]:n<=4?s=[0,o,a]:n<=5?s=[o,0,a]:n<=6&&(s=[a,0,o]);const i=r-a/2;return s.map((e=>Math.max(0,Math.min(255,Math.round(255*(e+i))))))}const me=e=>{const t=he(...e),r=[t[0],t[1],Math.max(0,t[2]-.08)],a=[t[0],t[1],Math.max(0,t[2]+.08)];return{shade:de(...fe(...r)),tint:de(...fe(...a))}};function ge(){let e,t;for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];if(1===a.length?(e=a[0],t=pe(e)):3===a.length&&(t=a,e=de(...t)),!t)return{};const{light:o,dark:s}=function(e){void 0===e&&(e="");const t=X(z(`#${e.replace("#","")}`));[.05,.08,.11,.12,.14].forEach(((e,r)=>{t.schemes.light.props[`surface${r+1}`]=z(Q(V(t.schemes.light.props.surface),V(t.schemes.light.props.primary),e)),t.schemes.dark.props[`surface${r+1}`]=z(Q(V(t.schemes.dark.props.surface),V(t.schemes.dark.props.primary),e))}));const r=e=>e.split("").map((e=>e.toUpperCase()===e&&"-"!==e&&"7"!==e?`-${e.toLowerCase()}`:e)).join(""),a=e=>["tertiary","shadow","scrim","error","background"].filter((t=>e.toLowerCase().includes(t))).length>0,n={},o={};return Object.keys(t.schemes.light.props).forEach((e=>{a(e)||(n[r(`--f7-md-${e}`)]=V(t.schemes.light.props[e]))})),Object.keys(t.schemes.dark.props).forEach((e=>{a(e)||(o[r(`--f7-md-${e}`)]=V(t.schemes.dark.props[e]))})),{light:n,dark:o}}(e),i=me(t),l=me(pe(o["--f7-md-primary"])),c=me(pe(s["--f7-md-primary"]));return Object.keys(o).forEach((e=>{e.includes("surface-")&&(o[`${e}-rgb`]=pe(o[e]))})),Object.keys(s).forEach((e=>{e.includes("surface-")&&(s[`${e}-rgb`]=pe(s[e]))})),{ios:{"--f7-theme-color":"var(--f7-ios-primary)","--f7-theme-color-rgb":"var(--f7-ios-primary-rgb)","--f7-theme-color-shade":"var(--f7-ios-primary-shade)","--f7-theme-color-tint":"var(--f7-ios-primary-tint)"},md:{"--f7-theme-color":"var(--f7-md-primary)","--f7-theme-color-rgb":"var(--f7-md-primary-rgb)","--f7-theme-color-shade":"var(--f7-md-primary-shade)","--f7-theme-color-tint":"var(--f7-md-primary-tint)"},light:{"--f7-ios-primary":e,"--f7-ios-primary-shade":i.shade,"--f7-ios-primary-tint":i.tint,"--f7-ios-primary-rgb":t.join(", "),"--f7-md-primary-shade":l.shade,"--f7-md-primary-tint":l.tint,"--f7-md-primary-rgb":pe(o["--f7-md-primary"]).join(", "),...o},dark:{"--f7-md-primary-shade":c.shade,"--f7-md-primary-tint":c.tint,"--f7-md-primary-rgb":pe(s["--f7-md-primary"]).join(", "),...s}}}function ve(e,t){Object.keys(t).forEach((r=>{le(t[r])&&Object.keys(t[r]).forEach((a=>{"function"==typeof t[r][a]&&(t[r][a]=t[r][a].bind(e))})),e[r]=t[r]}))}function be(){const e=[];for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach((t=>{Array.isArray(t)?e.push(...be(...t)):e.push(t)})),e}var ye=Object.freeze({__proto__:null,uniqueNumber:function(){return G+=1,G},id:K,mdPreloaderContent:J,iosPreloaderContent:Z,eventNameToColonCase:ee,deleteProps:te,requestAnimationFrame:re,cancelAnimationFrame:function(e){return t().cancelAnimationFrame(e)},nextTick:ae,nextFrame:ne,now:oe,parseUrlQuery:se,getTranslate:function(e,r){void 0===r&&(r="x");const a=t();let n,o,s;const i=a.getComputedStyle(e,null);return a.WebKitCSSMatrix?(o=i.transform||i.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),s=new a.WebKitCSSMatrix("none"===o?"":o)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),"x"===r&&(o=a.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===r&&(o=a.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),o||0},serializeObject:ie,isObject:le,merge:ce,extend:ue,colorHexToRgb:pe,colorRgbToHex:de,colorRgbToHsl:he,colorHslToRgb:fe,colorHsbToHsl:function(e,t,r){const a={h:e,s:0,l:0},n=t,o=r;return a.l=(2-n)*o/2,a.s=a.l&&a.l<1?n*o/(a.l<.5?2*a.l:2-2*a.l):a.s,[a.h,a.s,a.l]},colorHslToHsb:function(e,t,r){const a={h:e,s:0,b:0},n=r,o=t*(n<.5?n:1-n);return a.b=n+o,a.s=n>0?2*o/a.b:a.s,[a.h,a.s,a.b]},colorThemeCSSProperties:ge,bindMethods:ve,flattenArray:be,colorThemeCSSStyles:function(e){void 0===e&&(e={});const t=e=>{let t="";return Object.keys(e).forEach((r=>{t+=`${r}:${e[r]};`})),t},r=ge(e.primary),a=[":root{",t(r.light),"--swiper-theme-color:var(--f7-theme-color);",...Object.keys(e).map((t=>`--f7-color-${t}: ${e[t]};`)),"}",".dark{",t(r.dark),"}",".ios, .ios .dark{",t(r.ios),"}",".md, .md .dark{",t(r.md),"}"].join(""),n={};Object.keys(e).forEach((t=>{const r=e[t];n[t]=ge(r)}));let o="";return Object.keys(e).forEach((r=>{const{light:a,dark:s,ios:i,md:l}=n[r],c="\n    --f7-ios-primary: #ffffff;\n    --f7-ios-primary-shade: #ebebeb;\n    --f7-ios-primary-tint: #ffffff;\n    --f7-ios-primary-rgb: 255, 255, 255;\n    --f7-md-primary-shade: #eee;\n    --f7-md-primary-tint: #fff;\n    --f7-md-primary-rgb: 255, 255, 255;\n    --f7-md-primary: #fff;\n    --f7-md-on-primary: #000;\n    --f7-md-primary-container: #fff;\n    --f7-md-on-primary-container: #000;\n    --f7-md-secondary: #fff;\n    --f7-md-on-secondary: #000;\n    --f7-md-secondary-container: #555;\n    --f7-md-on-secondary-container: #fff;\n    --f7-md-surface: #fff;\n    --f7-md-on-surface: #000;\n    --f7-md-surface-variant: #333;\n    --f7-md-on-surface-variant: #fff;\n    --f7-md-outline: #fff;\n    --f7-md-outline-variant: #fff;\n    --f7-md-inverse-surface: #000;\n    --f7-md-inverse-on-surface: #fff;\n    --f7-md-inverse-primary: #000;\n    --f7-md-surface-1: #f8f8f8;\n    --f7-md-surface-2: #f1f1f1;\n    --f7-md-surface-3: #e7e7e7;\n    --f7-md-surface-4: #e1e1e1;\n    --f7-md-surface-5: #d7d7d7;\n    --f7-md-surface-variant-rgb: 51, 51, 51;\n    --f7-md-on-surface-variant-rgb: 255, 255, 255;\n    --f7-md-surface-1-rgb: 248, 248, 248;\n    --f7-md-surface-2-rgb: 241, 241, 241;\n    --f7-md-surface-3-rgb: 231, 231, 231;\n    --f7-md-surface-4-rgb: 225, 225, 225;\n    --f7-md-surface-5-rgb: 215, 215, 215;\n    ",u="\n    --f7-ios-primary: #000;\n    --f7-ios-primary-shade: #000;\n    --f7-ios-primary-tint: #232323;\n    --f7-ios-primary-rgb: 0, 0, 0;\n    --f7-md-primary-shade: #000;\n    --f7-md-primary-tint: #232323;\n    --f7-md-primary-rgb: 0, 0, 0;\n    --f7-md-primary: #000;\n    --f7-md-on-primary: #fff;\n    --f7-md-primary-container: #000;\n    --f7-md-on-primary-container: #fff;\n    --f7-md-secondary: #000;\n    --f7-md-on-secondary: #fff;\n    --f7-md-secondary-container: #aaa;\n    --f7-md-on-secondary-container: #000;\n    --f7-md-surface: #000;\n    --f7-md-on-surface: #fff;\n    --f7-md-surface-variant: #ccc;\n    --f7-md-on-surface-variant: #000;\n    --f7-md-outline: #000;\n    --f7-md-outline-variant: #000;\n    --f7-md-inverse-surface: #fff;\n    --f7-md-inverse-on-surface: #000;\n    --f7-md-inverse-primary: #fff;\n    --f7-md-surface-1: #070707;\n    --f7-md-surface-2: #161616;\n    --f7-md-surface-3: #232323;\n    --f7-md-surface-4: #303030;\n    --f7-md-surface-5: #373737;\n    --f7-md-surface-variant-rgb: 204, 204, 204;\n    --f7-md-on-surface-variant-rgb: 0, 0, 0;\n    --f7-md-surface-1-rgb: 7, 7, 7;\n    --f7-md-surface-2-rgb: 22, 22, 22;\n    --f7-md-surface-3-rgb: 35, 35, 35;\n    --f7-md-surface-4-rgb: 48, 48, 48;\n    --f7-md-surface-5-rgb: 55, 55, 55;\n    ",p="white"===r?c:"black"===r?u:t(a),d="white"===r?c:"black"===r?u:t(s);o+=[`.color-${r} {`,p,"--swiper-theme-color: var(--f7-theme-color);","}",`.color-${r}.dark, .color-${r} .dark, .dark .color-${r} {`,d,"--swiper-theme-color: var(--f7-theme-color);","}",`.ios .color-${r}, .ios.color-${r}, .ios .dark .color-${r}, .ios .dark.color-${r} {`,t(i),"}",`.md .color-${r}, .md.color-${r}, .md .dark .color-${r}, .md .dark.color-${r} {`,t(l),"}",`.text-color-${r} {`,`--f7-theme-color-text-color: ${e[r]};`,"}",`.bg-color-${r} {`,`--f7-theme-color-bg-color: ${e[r]};`,"}",`.border-color-${r} {`,`--f7-theme-color-border-color: ${e[r]};`,"}",`.ripple-color-${r} {`,`--f7-theme-color-ripple-color: rgba(${a["--f7-ios-primary-rgb"]}, 0.3);`,"}"].join("")})),`${a}${o}`}}),we="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Ce(){throw new Error("setTimeout has not been defined")}function ke(){throw new Error("clearTimeout has not been defined")}var Pe=Ce,$e=ke;function xe(e){if(Pe===setTimeout)return setTimeout(e,0);if((Pe===Ce||!Pe)&&setTimeout)return Pe=setTimeout,setTimeout(e,0);try{return Pe(e,0)}catch(t){try{return Pe.call(null,e,0)}catch(t){return Pe.call(this,e,0)}}}"function"==typeof we.setTimeout&&(Pe=setTimeout),"function"==typeof we.clearTimeout&&($e=clearTimeout);var Ee,Me=[],Oe=!1,Re=-1;function Te(){Oe&&Ee&&(Oe=!1,Ee.length?Me=Ee.concat(Me):Re=-1,Me.length&&Se())}function Se(){if(!Oe){var e=xe(Te);Oe=!0;for(var t=Me.length;t;){for(Ee=Me,Me=[];++Re<t;)Ee&&Ee[Re].run();Re=-1,t=Me.length}Ee=null,Oe=!1,function(e){if($e===clearTimeout)return clearTimeout(e);if(($e===ke||!$e)&&clearTimeout)return $e=clearTimeout,clearTimeout(e);try{return $e(e)}catch(t){try{return $e.call(null,e)}catch(t){return $e.call(this,e)}}}(e)}}function Be(e,t){this.fun=e,this.array=t}Be.prototype.run=function(){this.fun.apply(null,this.array)};function _e(){}var Ae=_e,Le=_e,De=_e,He=_e,Ne=_e,Ie=_e,je=_e;var Fe=we.performance||{},Ue=Fe.now||Fe.mozNow||Fe.msNow||Fe.oNow||Fe.webkitNow||function(){return(new Date).getTime()};var qe=new Date;var Ve={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Me.push(new Be(e,t)),1!==Me.length||Oe||xe(Se)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Ae,addListener:Le,once:De,off:He,removeListener:Ne,removeAllListeners:Ie,emit:je,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Ue.call(Fe),r=Math.floor(t),a=Math.floor(t%1*1e9);return e&&(r-=e[0],(a-=e[1])<0&&(r--,a+=1e9)),[r,a]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-qe)/1e3}};let ze,We;function Xe(){return ze||(ze=function(){const e=t(),a=r();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&a instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,passiveListener:function(){let t=!1;try{const r=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,r)}catch(e){}return t}(),intersectionObserver:"IntersectionObserver"in e}}()),ze}const Ye=(()=>{const e=r();try{return Boolean(e&&e.body&&e.body.getBoundingClientRect&&e.body.getBoundingClientRect().width>0)}catch(e){return!1}})();function Qe(e,r){return void 0===e&&(e={}),void 0===r&&(r=Ye),We&&!r||(We=function(e){let{userAgent:r}=void 0===e?{}:e;const a=Xe(),n=t(),o=n.navigator.platform,s=r||n.navigator.userAgent,i={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!!n.cordova,electron:!1,capacitor:!!n.Capacitor,nwjs:!1},l=n.screen.width,c=n.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let p=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!p&&s.match(/(iPhone\sOS|iOS|iPhone;\sCPU\sOS)\s([\d_]+)/),f=s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0,m=s.indexOf("Edge/")>=0,g=s.indexOf("Gecko/")>=0&&s.indexOf("Firefox/")>=0,v="Win32"===o,b=s.toLowerCase().indexOf("electron")>=0,y="undefined"!=typeof nw&&void 0!==Ve.versions&&void 0!==Ve.versions.nw;let w="MacIntel"===o;return!p&&w&&a.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${c}`)>=0&&(p=s.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),w=!1),i.ie=f,i.edge=m,i.firefox=g,u&&(i.os="android",i.osVersion=u[2],i.android=!0,i.androidChrome=s.toLowerCase().indexOf("chrome")>=0),(p||h||d)&&(i.os="ios",i.ios=!0),h&&!d&&(i.osVersion=h[2].replace(/_/g,"."),i.iphone=!0),p&&(i.osVersion=p[2].replace(/_/g,"."),i.ipad=!0),d&&(i.osVersion=d[3]?d[3].replace(/_/g,"."):null,i.ipod=!0),i.ios&&i.osVersion&&s.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=s.toLowerCase().split("version/")[1].split(" ")[0]),i.webView=!(!(h||p||d)||!s.match(/.*AppleWebKit(?!.*Safari)/i)&&!n.navigator.standalone)||n.matchMedia&&n.matchMedia("(display-mode: standalone)").matches,i.webview=i.webView,i.standalone=i.webView,i.desktop=!(i.ios||i.android)||b||y,i.desktop&&(i.electron=b,i.nwjs=y,i.macos=w,i.windows=v,i.macos&&(i.os="macos"),i.windows&&(i.os="windows")),i.pixelRatio=n.devicePixelRatio||1,i.prefersColorScheme=function(){let e;return n.matchMedia&&n.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},i}(e)),We}class Ge{constructor(e){void 0===e&&(e=[]);this.eventsParents=e,this.eventsListeners={}}on(e,t,r){const a=this;if("function"!=typeof t)return a;const n=r?"unshift":"push";return e.split(" ").forEach((e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][n](t)})),a}once(e,t,r){const a=this;if("function"!=typeof t)return a;function n(){a.off(e,n),n.f7proxy&&delete n.f7proxy;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];t.apply(a,o)}return n.f7proxy=t,a.on(e,n,r)}off(e,t){const r=this;return r.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach(((a,n)=>{(a===t||a.f7proxy&&a.f7proxy===t)&&r.eventsListeners[e].splice(n,1)}))})),r):r}emit(){const e=this;if(!e.eventsListeners)return e;let t,r,a,n;for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],r=s.slice(1,s.length),a=e,n=e.eventsParents):(t=s[0].events,r=s[0].data,a=s[0].context||e,n=s[0].local?[]:s[0].parents||e.eventsParents);const l=Array.isArray(t)?t:t.split(" "),c=l.map((e=>e.replace("local::",""))),u=l.filter((e=>e.indexOf("local::")<0));return c.forEach((t=>{if(e.eventsListeners&&e.eventsListeners[t]){const n=[];e.eventsListeners[t].forEach((e=>{n.push(e)})),n.forEach((e=>{e.apply(a,r)}))}})),n&&n.length>0&&n.forEach((e=>{e.emit(u,...r)})),e}}class Ke extends Ge{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),super(t);const r=this;r.params=e,r.params&&r.params.on&&Object.keys(r.params.on).forEach((e=>{r.on(e,r.params.on[e])}))}useModuleParams(e,t){if(e.params){const r={};Object.keys(e.params).forEach((e=>{void 0!==t[e]&&(r[e]=ue({},t[e]))})),ue(t,e.params),Object.keys(r).forEach((e=>{ue(t[e],r[e])}))}}useModulesParams(e){const t=this;t.modules&&Object.keys(t.modules).forEach((r=>{const a=t.modules[r];a.params&&ue(e,a.params)}))}useModule(e,t){void 0===e&&(e=""),void 0===t&&(t={});const r=this;if(!r.modules)return;const a="string"==typeof e?r.modules[e]:e;a&&(a.instance&&Object.keys(a.instance).forEach((e=>{const t=a.instance[e];r[e]="function"==typeof t?t.bind(r):t})),a.on&&r.on&&Object.keys(a.on).forEach((e=>{r.on(e,a.on[e])})),a.vnode&&(r.vnodeHooks||(r.vnodeHooks={}),Object.keys(a.vnode).forEach((e=>{Object.keys(a.vnode[e]).forEach((t=>{const n=a.vnode[e][t];r.vnodeHooks[t]||(r.vnodeHooks[t]={}),r.vnodeHooks[t][e]||(r.vnodeHooks[t][e]=[]),r.vnodeHooks[t][e].push(n.bind(r))}))}))),a.create&&a.create.bind(r)(t))}useModules(e){void 0===e&&(e={});const t=this;t.modules&&Object.keys(t.modules).forEach((r=>{const a=e[r]||{};t.useModule(r,a)}))}static set components(e){this.use&&this.use(e)}static installModule(e){const t=this;t.prototype.modules||(t.prototype.modules={});const r=e.name||`${Object.keys(t.prototype.modules).length}_${oe()}`;if(t.prototype.modules[r]=e,e.proto&&Object.keys(e.proto).forEach((r=>{t.prototype[r]=e.proto[r]})),e.static&&Object.keys(e.static).forEach((r=>{t[r]=e.static[r]})),e.install){for(var a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];e.install.apply(t,n)}return t}static use(e){const t=this;if(Array.isArray(e))return e.forEach((e=>t.installModule(e))),t;for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return t.installModule(e,...a)}}function Je(e){void 0===e&&(e={});const{defaultSelector:t,constructor:r,domProp:a,app:n,addMethods:o}=e,i={create(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n?new r(n,...t):new r(...t)},get(e){if(void 0===e&&(e=t),e instanceof r)return e;const n=s(e);return 0!==n.length?n[0][a]:void 0},destroy(e){const t=i.get(e);if(t&&t.destroy)return t.destroy()}};return o&&Array.isArray(o)&&o.forEach((e=>{i[e]=function(r){void 0===r&&(r=t);const a=i.get(r);for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(a&&a[e])return a[e](...o)}})),i}const Ze=[];class et extends Ke{constructor(e){if(void 0===e&&(e={}),super(e),et.instance&&"undefined"!=typeof window)throw new Error("Framework7 is already initialized and can't be initialized more than once");const a=Qe({userAgent:e.userAgent||void 0}),n=Xe(),o=ue({},e),i=this;i.device=a,i.support=n;const l=t(),c=r();et.instance=i;const u={el:"body",theme:"auto",routes:[],name:"Framework7",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,darkMode:void 0,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0,userAgent:null,url:null,colors:{primary:"#007aff",red:"#ff3b30",green:"#4cd964",blue:"#2196f3",pink:"#ff2d55",yellow:"#ffcc00",orange:"#ff9500",purple:"#9c27b0",deeppurple:"#673ab7",lightblue:"#5ac8fa",teal:"#009688",lime:"#cddc39",deeporange:"#ff6b22",white:"#ffffff",black:"#000000"}};return i.useModulesParams(u),i.params=ue(u,e),ue(i,{name:i.params.name,routes:i.params.routes,theme:"auto"===i.params.theme?a.ios?"ios":"md":i.params.theme,passedParams:o,online:l.navigator.onLine,colors:i.params.colors,darkMode:i.params.darkMode}),e.store&&(i.params.store=e.store),i.$el&&i.$el[0]&&(i.$el[0].f7=i),i.useModules(),i.initStore(),i.params.init&&(a.cordova&&i.params.initOnDeviceReady?s(c).on("deviceready",(()=>{i.init()})):i.init()),i}setColorTheme(e){if(!e)return;this.colors.primary=e,this.setColors()}setColors(){const e=this,t=r();e.colorsStyleEl||(e.colorsStyleEl=t.createElement("style"),t.head.prepend(e.colorsStyleEl)),e.colorsStyleEl.textContent=e.utils.colorThemeCSSStyles(e.colors)}mount(e){const a=this,n=t(),o=r(),i=s(e||a.params.el).eq(0);a.$el=i,a.$el&&a.$el[0]&&(a.el=a.$el[0],a.el.f7=a,a.rtl="rtl"===i.css("direction"));const l="(prefers-color-scheme: dark)",c="(prefers-color-scheme: light)";a.mq={},n.matchMedia&&(a.mq.dark=n.matchMedia(l),a.mq.light=n.matchMedia(c)),a.colorSchemeListener=function(e){let{matches:t,media:r}=e;if(!t)return;const n=o.querySelector("html");r===l?(n.classList.add("dark"),a.darkMode=!0,a.emit("darkModeChange",!0)):r===c&&(n.classList.remove("dark"),a.darkMode=!1,a.emit("darkModeChange",!1))},a.emit("mount")}initStore(){const e=this;void 0!==e.params.store&&e.params.store.__store?e.store=e.params.store:e.store=e.createStore(e.params.store)}enableAutoDarkMode(){const e=t(),a=r();if(!e.matchMedia)return;const n=this,o=a.querySelector("html");n.mq.dark&&n.mq.light&&(n.mq.dark.addEventListener("change",n.colorSchemeListener),n.mq.light.addEventListener("change",n.colorSchemeListener)),n.mq.dark&&n.mq.dark.matches?(o.classList.add("dark"),n.darkMode=!0,n.emit("darkModeChange",!0)):n.mq.light&&n.mq.light.matches&&(o.classList.remove("dark"),n.darkMode=!1,n.emit("darkModeChange",!1))}disableAutoDarkMode(){if(!t().matchMedia)return;const e=this;e.mq.dark&&e.mq.dark.removeEventListener("change",e.colorSchemeListener),e.mq.light&&e.mq.light.removeEventListener("change",e.colorSchemeListener)}setDarkMode(e){const t=this;"auto"===e?t.enableAutoDarkMode():(t.disableAutoDarkMode(),s("html")[e?"addClass":"removeClass"]("dark"),t.darkMode=e)}initAppComponent(e){const t=this;t.router.componentLoader(t.params.component,t.params.componentUrl,{componentOptions:{el:t.$el[0]}},(r=>{t.$el=s(r),t.$el[0].f7=t,t.$elComponent=r.f7Component,t.el=t.$el[0],e&&e()}),(()=>{}))}init(e){const r=this;r.setColors(),r.mount(e);const a=()=>{if(r.initialized)return;r.$el.addClass("framework7-initializing"),r.rtl&&s("html").attr("dir","rtl"),void 0===r.params.darkMode?r.darkMode=s("html").hasClass("dark"):r.setDarkMode(r.params.darkMode);const e=t();e.addEventListener("offline",(()=>{r.online=!1,r.emit("offline"),r.emit("connection",!1)})),e.addEventListener("online",(()=>{r.online=!0,r.emit("online"),r.emit("connection",!0)})),r.$el.addClass("framework7-root"),s("html").removeClass("ios md").addClass(r.theme),r.params.iosTranslucentBars&&"ios"===r.theme&&s("html").addClass("ios-translucent-bars"),r.params.iosTranslucentModals&&"ios"===r.theme&&s("html").addClass("ios-translucent-modals"),ne((()=>{r.$el.removeClass("framework7-initializing")})),r.initialized=!0,r.emit("init")};return r.params.component||r.params.componentUrl?r.initAppComponent((()=>{a()})):a(),r}loadModule(){return et.loadModule(...arguments)}loadModules(){return et.loadModules(...arguments)}getVnodeHooks(e,t){const r=this;return r.vnodeHooks&&r.vnodeHooks[e]&&r.vnodeHooks[e][t]||[]}get $(){return s}static get Dom7(){return s}static get $(){return s}static get device(){return Qe()}static get support(){return Xe()}static get Class(){return Ke}static get Events(){return Ge}}et.$jsx=function(e,t){const r=t||{};for(var a=arguments.length,n=new Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];const s=n||[],i=Object.keys(r).map((e=>"_"===e[0]?r[e]?e.replace("_",""):"":`${e}="${r[e]}"`)).filter((e=>!!e)).join(" ");if(["path","img","circle","polygon","line","input"].indexOf(e)>=0)return`<${e} ${i} />`.trim();return`<${e} ${i}>${s.filter((e=>!!e)).map((e=>Array.isArray(e)?e.join(""):e)).join("")}</${e}>`.trim()},et.ModalMethods=function(e){void 0===e&&(e={});const{defaultSelector:t,constructor:r,app:a}=e;return ue(Je({defaultSelector:t,constructor:r,app:a,domProp:"f7Modal"}),{open(e,t,n){let o=s(e);if(o.length>1&&n){const e=s(n).parents(".page");e.length&&o.each((t=>{const r=s(t);r.parents(e)[0]===e[0]&&(o=r)}))}if(o.length>1&&(o=o.eq(o.length-1)),!o.length)return;let i=o[0].f7Modal;if(!i){const e=o.dataset();i=new r(a,{el:o,...e})}return i.open(t)},close(e,n,o){void 0===e&&(e=t);let i=s(e);if(!i.length)return;if(i.length>1){let e;if(o){const t=s(o);t.length&&(e=t.parents(i))}i=e&&e.length>0?e:i.eq(i.length-1)}let l=i[0].f7Modal;if(!l){const e=i.dataset();l=new r(a,{el:i,...e})}return l.close(n)}})},et.ConstructorMethods=Je,et.loadModule=function(e){const a=this,n=t(),o=r();return new Promise(((t,r)=>{const i=a.instance;let l,c,u;if(e){if("string"==typeof e){const t=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&t&&t[0].length===e.length){if(!i||i&&!i.params.lazyModulesPath)return void r(new Error('Framework7: "lazyModulesPath" app parameter must be specified to fetch module by name'));l=`${i.params.lazyModulesPath}/${e}/${e}.lazy.js`}else l=e}else"function"==typeof e?u=e:c=e;if(u){const e=u(a,!1);if(!e)return void r(new Error("Framework7: Can't find Framework7 component in specified component function"));if(a.prototype.modules&&a.prototype.modules[e.name])return void t();p(e),t()}if(c){const e=c;if(!e)return void r(new Error("Framework7: Can't find Framework7 component in specified component"));if(a.prototype.modules&&a.prototype.modules[e.name])return void t();p(e),t()}if(l){if(Ze.indexOf(l)>=0)return void t();Ze.push(l);const e=new Promise(((e,t)=>{fetch(l).then((e=>e.text())).then((r=>{const i=`f7_component_loader_callback_${K()}`,c=o.createElement("script");c.innerHTML=`window.${i} = function (Framework7, Framework7AutoInstallComponent) {return ${r.trim()}}`,s("head").append(c);const u=n[i];delete n[i],s(c).remove();const d=u(a,!1);d?(a.prototype.modules&&a.prototype.modules[d.name]||p(d),e()):t(new Error(`Framework7: Can't find Framework7 component in ${l} file`))})).catch((e=>{t(e)}))})),c=new Promise((e=>{fetch(l.replace(".lazy.js",i.rtl?".rtl.css":".css").replace(".js",i.rtl?".rtl.css":".css")).then((e=>e.text())).then((t=>{const r=o.createElement("style");r.innerHTML=t,s("head").append(r),e()})).catch((()=>{e()}))}));Promise.all([e,c]).then((()=>{t()})).catch((e=>{r(e)}))}}else r(new Error("Framework7: Lazy module must be specified"));function p(e){a.use(e),i&&(i.useModuleParams(e,i.params),i.useModule(e))}}))},et.loadModules=function(e){return Promise.all(e.map((e=>et.loadModule(e))))};var tt={name:"device",static:{getDevice:Qe},on:{init(){const e=r(),t=Qe(),a=[],n=e.querySelector("html"),o=e.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');n&&(t.standalone&&t.ios&&o&&"black-translucent"===o.content&&a.push("device-full-viewport"),a.push(`device-pixel-ratio-${Math.floor(t.pixelRatio)}`),t.os&&!t.desktop?a.push(`device-${t.os}`):t.desktop&&(a.push("device-desktop"),t.os&&a.push(`device-${t.os}`)),t.cordova&&a.push("device-cordova"),t.capacitor&&a.push("device-capacitor"),a.forEach((e=>{n.classList.add(e)})))}}},rt={name:"support",static:{getSupport:Xe}},at={name:"utils",proto:{utils:ye},static:{utils:ye}},nt={name:"resize",create(){const e=this;e.getSize=()=>{if(!e.el)return{width:0,height:0,left:0,top:0};const t=e.$el.offset(),[r,a,n,o]=[e.el.offsetWidth,e.el.offsetHeight,t.left,t.top];return e.width=r,e.height=a,e.left=n,e.top=o,{width:r,height:a,left:n,top:o}}},on:{init(){const e=this,r=t();e.getSize(),r.addEventListener("resize",(()=>{e.emit("resize")}),!1),r.addEventListener("orientationchange",(()=>{e.emit("orientationchange")}))},orientationchange(){const e=r();Qe().ipad&&(e.body.scrollLeft=0,setTimeout((()=>{e.body.scrollLeft=0}),0))},resize(){this.getSize()}}};var ot={name:"touch",params:{touch:{touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .link, .item-link, .accordion-item-toggle",activeStateOnMouseMove:!1,mdTouchRipple:!0,iosTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list label.item-content, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .list.accordion-list .accordion-item-toggle",touchRippleInsetElements:".ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back"}},create(){const e=Xe();ue(this,{touchEvents:{start:e.touch?"touchstart":e.pointerEvents?"pointerdown":"mousedown",move:e.touch?"touchmove":e.pointerEvents?"pointermove":"mousemove",end:e.touch?"touchend":e.pointerEvents?"pointerup":"mouseup"}})},on:{init:function(){const e=this,a=Qe(),n=Xe(),o=t(),i=r(),l=e.params.touch,c=l[`${e.theme}TouchRipple`];let u,p,d,h,f,m,g,v,b,y,w,C,k;function P(e){const t=s(e),r=t.parents(l.activeStateElements);if(t.closest(".no-active-state").length)return null;let a;if(t.is(l.activeStateElements)&&(a=t),r.length>0&&(a=a?a.add(r):r),a&&a.length>1){const e=[];let t;for(let r=0;r<a.length;r+=1)t||(e.push(a[r]),(a.eq(r).hasClass("prevent-active-state-propagation")||a.eq(r).hasClass("no-active-state-propagation"))&&(t=!0));a=s(e)}return a||t}function $(e){return e.parents(".page-content").length>0}function x(){v&&v.addClass("active-state")}function E(){v&&(v.removeClass("active-state"),v=null)}function M(t,r,a){t&&(y=e.touchRipple.create(e,t,r,a))}function O(){y&&(y.remove(),y=void 0,w=void 0)}function R(e){if(w=function(e){const t=l.touchRippleElements,r=s(e);if(r.is(t))return!r.hasClass("no-ripple")&&r;if(r.parents(t).length>0){const e=r.parents(t).eq(0);return!e.hasClass("no-ripple")&&e}return!1}(e),!w||0===w.length)return void(w=void 0);$(w)?(clearTimeout(C),C=setTimeout((()=>{O(),M(w,u,p)}),80)):(O(),M(w,u,p))}function T(){clearTimeout(C),O()}function S(){y||!w||h?O():(clearTimeout(C),M(w,u,p),setTimeout(O,0))}function B(){s(".active-state").removeClass("active-state"),c&&S()}a.ios&&a.webView&&o.addEventListener("touchstart",(()=>{}));let _=!1,A=null;const L=".dialog-button, .actions-button";let D=!1,H=null;function N(t,r){e.emit({events:t,data:[r]})}function I(e){N("touchstart touchstart:active",e)}function j(e){N("touchmove touchmove:active",e)}function F(e){N("touchend touchend:active",e)}function U(e){N("touchstart:passive",e)}function q(e){N("touchmove:passive",e)}function V(e){N("touchend:passive",e)}const z=!!n.passiveListener&&{passive:!0},W=!n.passiveListener||{passive:!0,capture:!0},X=!!n.passiveListener&&{passive:!1},Y=!n.passiveListener||{passive:!1,capture:!0};i.addEventListener("click",(function(e){N("click",e)}),!0),n.passiveListener?(i.addEventListener(e.touchEvents.start,I,Y),i.addEventListener(e.touchEvents.move,j,X),i.addEventListener(e.touchEvents.end,F,X),i.addEventListener(e.touchEvents.start,U,W),i.addEventListener(e.touchEvents.move,q,z),i.addEventListener(e.touchEvents.end,V,z)):(i.addEventListener(e.touchEvents.start,(e=>{I(e),U(e)}),!0),i.addEventListener(e.touchEvents.move,(e=>{j(e),q(e)}),!1),i.addEventListener(e.touchEvents.end,(e=>{F(e),V(e)}),!1)),n.touch?(e.on("click",(function(e){const t=e&&e.detail&&"f7Overswipe"===e.detail,r=e&&e.detail&&"f7Segmented"===e.detail,n=e&&e.detail&&"f7TouchMoveActivable"===e.detail;let o=g;return d&&e.target!==d?o=!(t||r||n):n&&(o=!1),l.tapHold&&l.tapHoldPreventClicks&&f&&(o=!0),o&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),l.tapHold&&(m=setTimeout((()=>{f=!1}),a.ios||a.androidChrome?100:400)),g=!1,d=null,!o})),e.on("touchstart",(function(t){return!t.isTrusted||(h=!1,f=!1,g=!1,k=void 0,t.targetTouches.length>1?(v&&E(),!0):(t.touches.length>1&&v&&E(),l.tapHold&&(m&&clearTimeout(m),m=setTimeout((()=>{t&&t.touches&&t.touches.length>1||(f=!0,t.preventDefault(),g=!0,s(t.target).trigger("taphold",t),e.emit("taphold",t))}),l.tapHoldDelay)),d=t.target,u=t.targetTouches[0].pageX,p=t.targetTouches[0].pageY,_=t.target.closest(".segmented-strong .button-active, .segmented-strong .tab-link-active"),D="ios"===e.theme&&t.target.closest(L),_&&(A=_.closest(".segmented-strong")),l.activeState&&(v=P(d),v&&!$(v)?x():v&&(b=setTimeout(x,80))),c&&R(d),!0))})),e.on("touchmove",(function(e){if(!e.isTrusted)return;let t,r,a=!0;"touchmove"===e.type&&(t=e.targetTouches[0],r=l.touchClicksDistanceThreshold);const n=e.targetTouches[0].pageX,o=e.targetTouches[0].pageY;if(void 0===k&&(k=!!(k||Math.abs(o-p)>Math.abs(n-u))),(D||!k&&_&&A)&&e.cancelable&&e.preventDefault(),!k&&_&&A){const t=i.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY).closest(".segmented-strong .button:not(.button-active):not(.tab-link-active)");t&&A.contains(t)&&(s(t).trigger("click","f7Segmented"),d=t)}if(r&&t){const e=t.pageX,a=t.pageY;(Math.abs(e-u)>r||Math.abs(a-p)>r)&&(h=!0)}else h=!0;if(h){if(g=!0,D){const t=i.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY);H=t.closest(L),H&&v&&v[0]===H?a=!1:H&&setTimeout((()=>{v=P(H),x()}))}l.tapHold&&clearTimeout(m),l.activeState&&a&&(clearTimeout(b),E()),c&&T()}})),e.on("touchend",(function(e){return!(e.isTrusted&&(k=void 0,_=!1,A=null,D=!1,clearTimeout(b),clearTimeout(m),H&&(s(H).trigger("click","f7TouchMoveActivable"),H=null),i.activeElement===e.target?(l.activeState&&E(),c&&S(),0):(l.activeState&&(x(),setTimeout(E,0)),c&&S(),(l.tapHoldPreventClicks&&f||g)&&(e.cancelable&&e.preventDefault(),g=!0,1))))})),i.addEventListener("touchcancel",(function(){d=null,clearTimeout(b),clearTimeout(m),l.activeState&&E(),c&&S()}),{passive:!0})):l.activeState&&(e.on("touchstart",(function(e){const t=P(e.target);t&&(t.addClass("active-state"),"which"in e&&3===e.which&&setTimeout((()=>{s(".active-state").removeClass("active-state")}),0)),c&&(u=e.pageX,p=e.pageY,R(e.target,e.pageX,e.pageY))})),e.on("touchmove",(function(){l.activeStateOnMouseMove||s(".active-state").removeClass("active-state"),c&&T()})),e.on("touchend",B),i.addEventListener("pointercancel",B,{passive:!0})),i.addEventListener("contextmenu",(e=>{l.disableContextMenu&&(a.ios||a.android||a.cordova||o.Capacitor&&o.Capacitor.isNative)&&e.preventDefault(),c&&(v&&E(),S())}))}}};const st={queue:[],clearQueue(){if(0===st.queue.length)return;st.queue.shift()()},routerQueue:[],clearRouterQueue(){if(0===st.routerQueue.length)return;const e=st.routerQueue.pop(),{router:t,stateUrl:r,action:a}=e;let n=t.params.animate;!1===t.params.browserHistoryAnimate&&(n=!1),"back"===a&&t.back({animate:n,browserHistory:!1}),"load"===a&&t.navigate(r,{animate:n,browserHistory:!1})},handle(e){if(st.blockPopstate)return;let t=e.state;st.previousState=st.state,st.state=t,st.allowChange=!0,st.clearQueue(),t=st.state,t||(t={}),this.views.forEach((e=>{const r=e.router;let a=t[e.id];if(!a&&e.params.browserHistory&&(a={url:e.router.history[0]}),!a)return;const n=a.url||void 0;let o=r.params.animate;!1===r.params.browserHistoryAnimate&&(o=!1),n!==r.url&&(r.history.indexOf(n)>=0?r.allowPageChange?r.back({animate:o,browserHistory:!1}):st.routerQueue.push({action:"back",router:r}):r.allowPageChange?r.navigate(n,{animate:o,browserHistory:!1}):st.routerQueue.unshift({action:"load",stateUrl:n,router:r}))}))},initViewState(e,r){const a=t(),n=ue({},st.state||{},{[e]:r});st.state=n,a.history.replaceState(n,"")},push(e,a,n){const o=t(),s=r();if("#!/"===n.substr(-3)&&""===(n=n.replace("#!/",""))&&(n=s.location.href).includes("#!/")&&(n=s.location.href.split("#!/")[0]),!st.allowChange)return void st.queue.push((()=>{st.push(e,a,n)}));st.previousState=st.state;const i=ue({},st.previousState||{},{[e]:a});st.state=i,o.history.pushState(i,"",n)},replace(e,r,a){const n=t();if("#!/"===a.substr(-3)&&(a=a.replace("#!/","")),!st.allowChange)return void st.queue.push((()=>{st.replace(e,r,a)}));st.previousState=st.state;const o=ue({},st.previousState||{},{[e]:r});st.state=o,n.history.replaceState(o,"",a)},go(e){const r=t();st.allowChange=!1,r.history.go(e)},back(){const e=t();st.allowChange=!1,e.history.back()},allowChange:!0,previousState:{},state:{},blockPopstate:!0,init(e){const a=t(),n=r();st.state=a.history.state,s(a).on("load",(()=>{setTimeout((()=>{st.blockPopstate=!1}),0)})),n.readyState&&"complete"===n.readyState&&(st.blockPopstate=!1),s(a).on("popstate",st.handle.bind(e))}};function it(e){const t=e,{$el:r,$navbarsEl:a,app:n,params:o}=t,i=Xe(),l=Qe();let c=!1,u=!1;const p={};let d,h,f,m,g,v,b,y,w=[],C=[],k=!0,P=[],$=[];const x=o[`${n.theme}SwipeBackAnimateShadow`],E=o[`${n.theme}SwipeBackAnimateOpacity`],M=o[`${n.theme}SwipeBackActiveArea`],O=o[`${n.theme}SwipeBackThreshold`],R=n.rtl?"right center":"left center",T=n.rtl?"calc(100% - var(--f7-navbar-large-title-padding-left) - var(--f7-safe-area-left)) center":"calc(var(--f7-navbar-large-title-padding-left) + var(--f7-safe-area-left)) center";function S(e){let{progress:t,reset:r,transition:a,reflow:n}=void 0===e?{}:e;const o=["overflow","transform","transform-origin","opacity"];if(!0===a||!1===a)for(let e=0;e<y.length;e+=1){const t=y[e];t&&t.el&&(!0===a&&t.el.classList.add("navbar-page-transitioning"),!1===a&&t.el.classList.remove("navbar-page-transitioning"))}n&&y.length&&y[0]&&y[0].el&&(y[0].el._clientLeft=y[0].el.clientLeft);for(let e=0;e<y.length;e+=1){const a=y[e];if(a&&a.el){!a.className||a.classNameSet||r||(a.el.classList.add(a.className),a.classNameSet=!0),a.className&&r&&a.el.classList.remove(a.className);for(let e=0;e<o.length;e+=1){const n=o[e];a[n]&&(r?a.el.style[n]="":"function"==typeof a[n]?a.el.style[n]=a[n](t):a.el.style[n]=a[n])}}}}function B(e){if(!e.isTrusted)return;const r=o[`${n.theme}SwipeBack`];!k||!r||c||n.swipeout&&n.swipeout.el||!t.allowPageChange||s(e.target).closest(".range-slider, .calendar-months").length>0||s(e.target).closest(".page-master, .page-master-detail").length>0&&o.masterDetailBreakpoint>0&&n.width>=o.masterDetailBreakpoint||(u=!1,c=!0,d=void 0,p.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,p.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,m=oe(),g=t.dynamicNavbar)}function _(e){if(!e.isTrusted)return;if(!c)return;const i="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,m="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===d&&(d=!!(d||Math.abs(m-p.y)>Math.abs(i-p.x))||i<p.x&&!n.rtl||i>p.x&&n.rtl),d||e.f7PreventSwipeBack||n.preventSwipeBack)return void(c=!1);if(!u){let t=!1;const i=s(e.target),u=i.closest(".swipeout");u.length>0&&(!n.rtl&&u.find(".swipeout-actions-left").length>0&&(t=!0),n.rtl&&u.find(".swipeout-actions-right").length>0&&(t=!0)),w=i.closest(".page"),(w.hasClass("no-swipeback")||i.closest(".no-swipeback, .card-opened").length>0)&&(t=!0),C=r.find(".page-previous"),C.length>1&&(C=C.eq(C.length-1));let d=p.x-r.offset().left>M;if(h=r.width(),d=n.rtl?p.x<r.offset().left-r[0].scrollLeft+(h-M):p.x-r.offset().left>M,d&&(t=!0),0!==C.length&&0!==w.length||(t=!0),t)return void(c=!1);x&&(v=w.find(".page-shadow-effect"),0===v.length&&(v=s('<div class="page-shadow-effect"></div>'),w.append(v))),E&&(b=C.find(".page-opacity-effect"),0===b.length&&(b=s('<div class="page-opacity-effect"></div>'),C.append(b))),g&&(P=a.find(".navbar-current"),$=a.find(".navbar-previous"),$.length>1&&($=$.eq($.length-1)),y=function(){const e=[],t=n.rtl?-1:1,r=P.hasClass("navbar-transparent")&&!P.hasClass("navbar-large")&&!P.hasClass("navbar-transparent-visible"),a=P.hasClass("navbar-large"),i=P.hasClass("navbar-large-collapsed"),c=P.hasClass("navbar-large-transparent")||P.hasClass("navbar-large")&&P.hasClass("navbar-transparent"),u=$.hasClass("navbar-transparent")&&!$.hasClass("navbar-large")&&!$.hasClass("navbar-transparent-visible"),p=$.hasClass("navbar-large"),d=$.hasClass("navbar-large-collapsed"),h=$.hasClass("navbar-large-transparent")||$.hasClass("navbar-large")&&$.hasClass("navbar-transparent"),f=a&&!i,m=p&&!d,g=P.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg"),v=$.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg");let b,y;return o.iosAnimateNavbarBackIcon&&(b=P.hasClass("sliding")||P.find(".navbar-inner.sliding").length?P.find(".left").find(".back .icon + span").eq(0):P.find(".left.sliding").find(".back .icon + span").eq(0),y=$.hasClass("sliding")||$.find(".navbar-inner.sliding").length?$.find(".left").find(".back .icon + span").eq(0):$.find(".left.sliding").find(".back .icon + span").eq(0),b.length&&v.each((e=>{s(e).hasClass("title")&&(e.f7NavbarLeftOffset+=b.prev(".icon")[0].offsetWidth)}))),g.each((n=>{const u=s(n),p=u.hasClass("subnavbar"),d=u.hasClass("left"),h=u.hasClass("title"),g=u.hasClass("navbar-bg");if((h||g)&&r)return;if(!f&&u.hasClass(".title-large"))return;const v={el:n};if(f){if(h)return;if(u.hasClass("title-large"))return e.indexOf(v)<0&&e.push(v),v.overflow="visible",void u.find(".title-large-text").each((r=>{e.push({el:r,transform:e=>`translateX(${100*e*t}%)`})}))}if(m&&(f||u.hasClass("title-large")&&(e.indexOf(v)<0&&e.push(v),v.opacity=0),d))return e.indexOf(v)<0&&e.push(v),v.opacity=e=>1-e**.33,void u.find(".back span").each((t=>{e.push({el:t,"transform-origin":R,transform:e=>`translateX(calc(${e} * (var(--f7-navbarTitleLargeOffset) - var(--f7-navbarLeftTextOffset)))) translateY(calc(${e} * (var(--f7-navbar-large-title-height) - var(--f7-navbar-large-title-padding-vertical) / 2))) scale(${1+1*e})`})}));if(g)return e.indexOf(v)<0&&e.push(v),f||m||(i?(c&&(v.className="ios-swipeback-navbar-bg-large"),v.transform=e=>`translateX(${100*e*t}%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))`):v.transform=e=>`translateX(${100*e*t}%)`),!f&&m&&(v.className="ios-swipeback-navbar-bg-large",v.transform=e=>`translateX(${100*e*t}%) translateY(calc(-1 * ${1-e} * var(--f7-navbar-large-title-height)))`),f&&m&&(v.transform=e=>`translateX(${100*e*t}%)`),void(f&&!m&&(v.transform=e=>`translateX(${100*e*t}%) translateY(calc(-${e} * var(--f7-navbar-large-title-height)))`));if(u.hasClass("title-large"))return;const y=u.hasClass("sliding")||u.parents(".navbar-inner.sliding").length;if(e.indexOf(v)<0&&e.push(v),(!p||p&&!y)&&(v.opacity=e=>1-e**.33),y){let t=v;if(d&&b.length&&o.iosAnimateNavbarBackIcon){const r={el:b[0]};t=r,e.push(r)}t.transform=e=>{let r=e*t.el.f7NavbarRightOffset;return 1===l.pixelRatio&&(r=Math.round(r)),p&&a?`translate3d(${r}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`:`translate3d(${r}px,0,0)`}}})),v.each((r=>{const a=s(r),n=a.hasClass("subnavbar"),i=a.hasClass("left"),c=a.hasClass("title"),g=a.hasClass("navbar-bg");if((c||g)&&u)return;const v={el:r};if(m){if(c)return;if(e.indexOf(v)<0&&e.push(v),a.hasClass("title-large"))return v.opacity=1,v.overflow="visible",void a.find(".title-large-text").each((t=>{e.push({el:t,"transform-origin":T,opacity:e=>e**3,transform:e=>`translateX(calc(${1-e} * (var(--f7-navbarLeftTextOffset) - var(--f7-navbarTitleLargeOffset)))) translateY(calc(${e-1} * var(--f7-navbar-large-title-height) + ${1-e} * var(--f7-navbar-large-title-padding-vertical))) scale(${.5+.5*e})`})}))}if(g)return e.indexOf(v)<0&&e.push(v),f||m||(d?(h&&(v.className="ios-swipeback-navbar-bg-large"),v.transform=e=>`translateX(${(100*e-100)*t}%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))`):v.transform=e=>`translateX(${(100*e-100)*t}%)`),!f&&m&&(v.transform=e=>`translateX(${(100*e-100)*t}%) translateY(calc(-1 * ${1-e} * var(--f7-navbar-large-title-height)))`),f&&!m&&(v.className="ios-swipeback-navbar-bg-large",v.transform=e=>`translateX(${(100*e-100)*t}%) translateY(calc(-${e} * var(--f7-navbar-large-title-height)))`),void(f&&m&&(v.transform=e=>`translateX(${(100*e-100)*t}%)`));if(a.hasClass("title-large"))return;const b=a.hasClass("sliding")||$.children(".navbar-inner.sliding").length;if(e.indexOf(v)<0&&e.push(v),(!n||n&&!b)&&(v.opacity=e=>e**3),b){let t=v;if(i&&y.length&&o.iosAnimateNavbarBackIcon){const r={el:y[0]};t=r,e.push(r)}t.transform=e=>{let r=t.el.f7NavbarLeftOffset*(1-e);return 1===l.pixelRatio&&(r=Math.round(r)),n&&p?`translate3d(${r}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`:`translate3d(${r}px,0,0)`}}})),e}()),s(".sheet.modal-in").length>0&&n.sheet&&n.sheet.close(s(".sheet.modal-in"))}e.f7PreventSwipePanel=!0,u=!0,n.preventSwipePanelBySwipeBack=!0,e.preventDefault();const k=n.rtl?-1:1;f=(i-p.x-O)*k,f<0&&(f=0);const B=Math.min(Math.max(f/h,0),1),_={percentage:B,progress:B,currentPageEl:w[0],previousPageEl:C[0],currentNavbarEl:P[0],previousNavbarEl:$[0]};r.trigger("swipeback:move",_),t.emit("swipebackMove",_);let A=f*k,L=(f/5-h/5)*k;n.rtl?(A=Math.max(A,-h),L=Math.max(L,0)):(A=Math.min(A,h),L=Math.min(L,0)),1===l.pixelRatio&&(A=Math.round(A),L=Math.round(L)),t.swipeBackActive=!0,s([w[0],C[0]]).addClass("page-swipeback-active"),w.transform(`translate3d(${A}px,0,0)`),x&&(v[0].style.opacity=1-1*B),"ios"===n.theme&&C.transform(`translate3d(${L}px,0,0)`),E&&(b[0].style.opacity=1-1*B),g&&S({progress:B})}function A(e){if(!e.isTrusted)return;if(n.preventSwipePanelBySwipeBack=!1,!c||!u)return c=!1,void(u=!1);c=!1,u=!1,t.swipeBackActive=!1;const a=s([w[0],C[0]]);if(a.removeClass("page-swipeback-active"),0===f)return a.transform(""),v&&v.length>0&&v.remove(),b&&b.length>0&&b.remove(),void(g&&S({reset:!0}));const i=oe()-m;let p=!1;(i<300&&f>10||i>=300&&f>h/2)&&(w.removeClass("page-current").addClass("page-next"+("ios"!==n.theme?" page-next-on-right":"")),C.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),v&&(v[0].style.opacity=""),b&&(b[0].style.opacity=""),g&&(t.setNavbarPosition(P,"next"),t.setNavbarPosition($,"current",!1)),p=!0),a.addClass("page-transitioning page-transitioning-swipeback"),l.ios&&(w[0]._clientLeft=w[0].clientLeft),a.transform(""),g&&S({progress:p?1:0,transition:!0,reflow:!!l.ios}),k=!1,t.allowPageChange=!1;const d={currentPageEl:w[0],previousPageEl:C[0],currentNavbarEl:P[0],previousNavbarEl:$[0]};p?(t.currentRoute=C[0].f7Page.route,t.currentPage=C[0],t.pageCallback("beforeOut",w,P,"current","next",{route:w[0].f7Page.route,swipeBack:!0}),t.pageCallback("beforeIn",C,$,"previous","current",{route:C[0].f7Page.route,swipeBack:!0},w[0]),r.trigger("swipeback:beforechange",d),t.emit("swipebackBeforeChange",d)):(r.trigger("swipeback:beforereset",d),t.emit("swipebackBeforeReset",d)),w.transitionEnd((()=>{a.removeClass("page-transitioning page-transitioning-swipeback"),g&&S({reset:!0,transition:!1}),k=!0,t.allowPageChange=!0,p?(1===t.history.length&&t.history.unshift(t.url),t.history.pop(),t.saveHistory(),o.browserHistory&&st.back(),t.pageCallback("afterOut",w,P,"current","next",{route:w[0].f7Page.route,swipeBack:!0}),t.pageCallback("afterIn",C,$,"previous","current",{route:C[0].f7Page.route,swipeBack:!0}),t.pageCallback("beforeRemove",w,P,"next",{swipeBack:!0}),t.removePage(w),g&&t.removeNavbar(P),r.trigger("swipeback:afterchange",d),t.emit("swipebackAfterChange",d),t.emit("routeChanged",t.currentRoute,t.previousRoute,t),o.preloadPreviousPage&&t.back(t.history[t.history.length-2],{preload:!0})):(r.trigger("swipeback:afterreset",d),t.emit("swipebackAfterReset",d)),v&&v.length>0&&v.remove(),b&&b.length>0&&b.remove()}))}!function(){const e=!("touchstart"!==n.touchEvents.start||!i.passiveListener)&&{passive:!0,capture:!1};r.on(n.touchEvents.start,B,e),n.on("touchmove:active",_),n.on("touchend:passive",A)}(),t.on("routerDestroy",(function(){const e=!("touchstart"!==n.touchEvents.start||!i.passiveListener)&&{passive:!0,capture:!1};r.off(n.touchEvents.start,B,e),n.off("touchmove:active",_),n.off("touchend:passive",A)}))}function lt(e,t,r){const a=this,n=t.route.redirect,o="forward"===e?"navigate":"back";if(r.initial&&a.params.browserHistory&&(r.replaceState=!0,r.history=!0),"function"==typeof n){a.allowPageChange=!1;const s=n.call(a,{router:a,to:t,resolve:function(e,t){void 0===t&&(t={}),a.allowPageChange=!0,a[o](e,ue({},r,t))},reject:function(){a.allowPageChange=!0},direction:e,app:a.app});return s&&"string"==typeof s?(a.allowPageChange=!0,a[o](s,r)):a}return a[o](n,r)}function ct(e,t,r,a,n,o,s,i){const l=[];Array.isArray(r)?l.push(...r):r&&"function"==typeof r&&l.push(r),t&&(Array.isArray(t)?l.push(...t):l.push(t)),function t(){if(0===l.length)return void o();l.shift().call(e,{router:e,to:a,from:n,resolve(){t()},reject(){s()},direction:i,app:e.app})}()}function ut(e,t,r,a,n){const o=this;function s(){e&&e.route&&(o.params.routesBeforeEnter||e.route.beforeEnter)?(o.allowPageChange=!1,ct(o,o.params.routesBeforeEnter,e.route.beforeEnter,e,t,(()=>{o.allowPageChange=!0,r()}),(()=>{a()}),n)):r()}t&&t.route&&(o.params.routesBeforeLeave||t.route.beforeLeave)?(o.allowPageChange=!1,ct(o,o.params.routesBeforeLeave,t.route.beforeLeave,e,t,(()=>{o.allowPageChange=!0,s()}),(()=>{a()}),n)):s()}function pt(e,t){if(!e.view)throw new Error(`Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.${t}(...)`)}function dt(e,t,r,a){function n(e){e.then((e=>{r({component:e.default||e._default||e})})).catch((e=>{throw a(),new Error(e,{cause:e})}))}if(t instanceof Promise)return void n(t);const o=t.call(e);o instanceof Promise?n(o):r({component:o})}function ht(e,t,a){void 0===a&&(a={});const n=r(),o=s(t),i=e.app,l=e.view,c=ue(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1,history:!0,reloadCurrent:e.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:e.params.reloadDetail,on:{}},a),u=e.params.masterDetailBreakpoint>0,p=u&&c.route&&c.route.route&&(!0===c.route.route.master||"function"==typeof c.route.route.master&&c.route.route.master(i,e));let d,h,f,m=0,g=e.currentRoute.modal;if(g||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((t=>{e.currentRoute&&e.currentRoute.route&&e.currentRoute.route[t]&&(g=!0,f=t)})),g){const t=e.currentRoute.modal||e.currentRoute.route.modalInstance||i[f].get(),r=e.history[e.history.length-2];let a=e.findMatchingRoute(r);!a&&r&&(a={url:r,path:r.split("?")[0],query:se(r),route:{path:r.split("?")[0],url:r}}),e.modalRemove(t)}const v=e.dynamicNavbar,b=e.$el,y=o,w=c.reloadPrevious||c.reloadCurrent||c.reloadAll;let C,k,P,$;if(e.allowPageChange=!1,0===y.length)return e.allowPageChange=!0,e;y.length&&e.removeThemeElements(y),v&&(P=y.children(".navbar"),k=e.$navbarsEl,0===P.length&&y[0]&&y[0].f7Page&&(P=y[0].f7Page.$navbarEl)),c.route&&c.route.route&&c.route.route.keepAlive&&!c.route.route.keepAliveData&&(c.route.route.keepAliveData={pageEl:o[0]});const x=b.children(".page").filter((e=>e!==y[0]));let E,M,O,R;if(v&&(E=k.children(".navbar").filter((e=>e!==P[0]))),c.reloadPrevious&&x.length<2)return e.allowPageChange=!0,e;if(u&&!c.reloadAll){for(let e=0;e<x.length;e+=1)d||!x[e].classList.contains("page-master")||(d=x[e]);if(M=!p&&d,M&&d)for(let e=0;e<x.length;e+=1)x[e].classList.contains("page-master-detail")&&(h=x[e]);O=M&&c.reloadDetail&&i.width>=e.params.masterDetailBreakpoint&&d}M&&(R=!h||O||c.reloadAll||c.reloadCurrent);let T="next";if(c.reloadCurrent||c.reloadAll||O?T="current":c.reloadPrevious&&(T="previous"),y.removeClass("page-previous page-current page-next").addClass(`page-${T}${p?" page-master":""}${M?" page-master-detail":""}${R?" page-master-detail-root":""}`).trigger("page:unstack").trigger("page:position",{position:T}),e.emit("pageUnstack",y[0]),e.emit("pagePosition",y[0],T),(p||M)&&(y.trigger("page:role",{role:p?"master":"detail",root:!!R}),e.emit("pageRole",y[0],{role:p?"master":"detail",detailRoot:!!R})),v&&P.length&&(P.removeClass("navbar-previous navbar-current navbar-next").addClass(`navbar-${T}${p?" navbar-master":""}${M?" navbar-master-detail":""}${R?" navbar-master-detail-root":""}`),P.trigger("navbar:position",{position:T}),e.emit("navbarPosition",P[0],T),(p||M)&&e.emit("navbarRole",P[0],{role:p?"master":"detail",detailRoot:!!R})),c.reloadCurrent||O)O?(C=x.filter((e=>!e.classList.contains("page-master"))),v&&($=s(C.map((e=>i.navbar.getElByPage(e))))),C.length>1&&d&&(m=C.length-1,s(d).removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",d),v&&(s(i.navbar.getElByPage(d)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",i.navbar.getElByPage(d))))):(C=x.eq(x.length-1),v&&($=s(i.navbar.getElByPage(C))));else if(c.reloadPrevious)C=x.eq(x.length-2),v&&($=s(i.navbar.getElByPage(C)));else if(c.reloadAll)C=x.filter((e=>e!==y[0])),v&&($=E.filter((e=>e!==P[0])));else{let t=[],r=[];if(x.length>1){let a=0;for(a=0;a<x.length-1;a+=1){if(d&&x[a]===d){x.eq(a).addClass("page-master-stacked"),x.eq(a).trigger("page:masterstack"),e.emit("pageMasterStack",x[a]),v&&(s(i.navbar.getElByPage(d)).addClass("navbar-master-stacked"),e.emit("navbarMasterStack",i.navbar.getElByPage(d)));continue}const n=i.navbar.getElByPage(x.eq(a));t.push(x[a]),e.pageCallback("beforeRemove",x[a],E&&E[a],"previous",void 0,c),e.removePage(x[a]),v&&n&&(r.push(n),e.removeNavbar(n))}}C=b.children(".page").filter((e=>e!==y[0]&&t.indexOf(e)<0)),v&&($=k.children(".navbar").filter((e=>e!==P[0]&&r.indexOf(r)<0))),t=[],r=[]}if(M&&!c.reloadAll&&((C.length>1||O)&&(C=C.filter((e=>!e.classList.contains("page-master")))),$&&($.length>1||O)&&($=$.filter((e=>!e.classList.contains("navbar-master"))))),e.params.browserHistory&&(c.browserHistory||c.replaceState)&&!c.reloadPrevious){const t=e.params.browserHistoryRoot||"";st[c.reloadCurrent||O&&h||c.reloadAll||c.replaceState?"replace":"push"](l.id,{url:c.route.url},t+e.params.browserHistorySeparator+c.route.url)}c.reloadPrevious||(e.currentPageEl=y[0],v&&P.length?e.currentNavbarEl=P[0]:delete e.currentNavbarEl,e.currentRoute=c.route);const S=c.route.url;c.history&&(((c.reloadCurrent||O&&h)&&e.history.length)>0||c.replaceState?(O&&m>0&&(e.history=e.history.slice(0,e.history.length-m),e.propsHistory=e.propsHistory.slice(0,e.propsHistory.length-m)),e.history[e.history.length-(c.reloadPrevious?2:1)]=S,e.propsHistory[e.propsHistory.length-(c.reloadPrevious?2:1)]=c.props||{}):c.reloadPrevious?(e.history[e.history.length-2]=S,e.propsHistory[e.propsHistory.length-2]=c.props||{}):c.reloadAll?(e.history=[S],e.propsHistory=[c.props||{}]):(e.history.push(S),e.propsHistory.push(c.props||{}))),e.saveHistory();const B=y.parents(n).length>0,_=y[0].f7Component;if(c.reloadPrevious?(_&&!B?_.mount((e=>{s(e).insertBefore(C)})):y.insertBefore(C),v&&P.length&&(P.find(".title-large").length&&P.addClass("navbar-large"),$.length?P.insertBefore($):(e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),k.append(P)))):(C.next(".page")[0]!==y[0]&&(_&&!B?_.mount((e=>{b.append(e)})):b.append(y[0])),v&&P.length&&(P.find(".title-large").length&&P.addClass("navbar-large"),e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),k.append(P[0]))),B?c.route&&c.route.route&&c.route.route.keepAlive&&!y[0].f7PageMounted&&(y[0].f7PageMounted=!0,e.pageCallback("mounted",y,P,T,w?T:"current",c,C)):e.pageCallback("mounted",y,P,T,w?T:"current",c,C),(c.reloadCurrent||O)&&C.length>0?(e.pageCallback("beforeOut",C,$,"current",void 0,c),e.pageCallback("afterOut",C,$,"current",void 0,c),e.pageCallback("beforeRemove",C,$,"current",void 0,c),e.removePage(C),v&&$&&$.length&&e.removeNavbar($)):c.reloadAll?C.each(((t,r)=>{const a=s(t),n=s(i.navbar.getElByPage(a));a.hasClass("page-current")&&(e.pageCallback("beforeOut",C,$,"current",void 0,c),e.pageCallback("afterOut",C,$,"current",void 0,c)),e.pageCallback("beforeRemove",a,$&&$.eq(r),"previous",void 0,c),e.removePage(a),v&&n.length&&e.removeNavbar(n)})):c.reloadPrevious&&(e.pageCallback("beforeRemove",C,$,"previous",void 0,c),e.removePage(C),v&&$&&$.length&&e.removeNavbar($)),c.route.route.tab&&e.tabLoad(c.route.route.tab,ue({},c,{history:!1,browserHistory:!1})),u&&l.checkMasterDetailBreakpoint(),e.pageCallback("init",y,P,T,w?T:"current",c,C),c.reloadCurrent||c.reloadAll||O)return e.allowPageChange=!0,e.pageCallback("beforeIn",y,P,T,"current",c),y.removeAttr("aria-hidden"),v&&P&&P.removeAttr("aria-hidden"),e.pageCallback("afterIn",y,P,T,"current",c),c.reloadCurrent&&c.clearPreviousHistory&&e.clearPreviousHistory(),O&&(e.setPagePosition(s(d),"previous"),d.f7Page&&d.f7Page.navbarEl&&e.setNavbarPosition(s(d.f7Page.navbarEl),"previous")),e;if(c.reloadPrevious)return e.allowPageChange=!0,e;function A(){e.setPagePosition(y,"current",!1),e.setPagePosition(C,"previous",!C.hasClass("page-master")),v&&(e.setNavbarPosition(P,"current",!1),e.setNavbarPosition($,"previous",!$.hasClass("navbar-master"))),e.allowPageChange=!0,e.pageCallback("afterOut",C,$,"current","previous",c),e.pageCallback("afterIn",y,P,"next","current",c);let t=(e.params.preloadPreviousPage||e.params[`${i.theme}SwipeBack`])&&!p;t||(y.hasClass("smart-select-page")||y.hasClass("photo-browser-page")||y.hasClass("autocomplete-page")||y.hasClass("color-picker-page"))&&(t=!0),t||y.attr("data-name")&&"smart-select-page"===y.attr("data-name")||(e.pageCallback("beforeRemove",C,$,"previous",void 0,c),e.removePage(C),v&&$.length&&e.removeNavbar($)),c.clearPreviousHistory&&e.clearPreviousHistory(),e.emit("routeChanged",e.currentRoute,e.previousRoute,e),e.params.browserHistory&&st.clearRouterQueue()}function L(){e.setPagePosition(C,"current",!1),e.setPagePosition(y,"next",!1),v&&(e.setNavbarPosition($,"current",!1),e.setNavbarPosition(P,"next",!1))}if(e.pageCallback("beforeOut",C,$,"current","previous",c),e.pageCallback("beforeIn",y,P,"next","current",c),!c.animate||p&&i.width>=e.params.masterDetailBreakpoint)A();else{const t=e.params[`${e.app.theme}PageLoadDelay`];let r=e.params.transition;c.transition&&(r=c.transition),!r&&e.currentRoute&&e.currentRoute.route&&(r=e.currentRoute.route.transition),!r&&e.currentRoute&&e.currentRoute.route.options&&(r=e.currentRoute.route.options.transition),r&&(y[0].f7PageTransition=r),t?setTimeout((()=>{L(),e.animate(C,y,$,P,"forward",r,(()=>{A()}))}),t):(L(),e.animate(C,y,$,P,"forward",r,(()=>{A()})))}return e}function ft(e,t,r,a){if(void 0===t&&(t={}),void 0===r&&(r={}),!e.allowPageChange&&!a)return e;const n=t,o=r,{url:s,content:i,el:l,pageName:c,component:u,componentUrl:p}=n;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&e.currentRoute.route&&e.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===e.url)return e.allowPageChange=!0,!1;let t=Object.keys(o.route.params).length===Object.keys(e.currentRoute.params).length;if(t&&Object.keys(o.route.params).forEach((r=>{r in e.currentRoute.params&&e.currentRoute.params[r]===o.route.params[r]||(t=!1)})),t)return!!o.route.route.tab&&e.tabLoad(o.route.route.tab,o);if(!t&&o.route.route.tab&&e.currentRoute.route.tab&&e.currentRoute.parentPath===o.route.parentPath)return e.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return e.allowPageChange=!0,!1;if(!o.route&&s&&(o.route=e.parseRouteUrl(s),ue(o.route,{route:{url:s,path:s}})),(s||p||u)&&(e.allowPageChange=!1),i)ht(e,e.getPageEl(i),o);else if(l)ht(e,e.getPageEl(l),o);else if(c)ht(e,e.$el.children(`.page[data-name="${c}"]`).eq(0),o);else if(u||p)try{e.pageComponentLoader({routerEl:e.el,component:u,componentUrl:p,options:o,resolve:function(t,r){return ht(e,t,ue(o,r))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else s&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(s,o).then((t=>{ht(e,e.getPageEl(t),o)})).catch((()=>{e.allowPageChange=!0})));return e}function mt(e,t,a){const n=Qe(),o=r(),i=s(t),l=e.app,c=e.view,u=ue(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1},a),p=e.params.masterDetailBreakpoint>0,d=p&&u.route&&u.route.route&&(!0===u.route.route.master||"function"==typeof u.route.route.master&&u.route.route.master(l,e));let h,f;const m=e.dynamicNavbar,g=i,v=e.$el.children(".page-current"),b=0===v.length&&u.preload,y=p&&v.hasClass("page-master");let w,C,k,P,$,x;if(g.length&&e.removeThemeElements(g),m&&(C=g.children(".navbar"),w=e.$navbarsEl,0===C.length&&g[0]&&g[0].f7Page&&(C=g[0].f7Page.$navbarEl),k=w.find(".navbar-current")),e.allowPageChange=!1,0===g.length||0===v.length&&!u.preload)return e.allowPageChange=!0,e;if(e.removeThemeElements(g),u.route&&u.route.route&&u.route.route.keepAlive&&!u.route.route.keepAliveData&&(u.route.route.keepAliveData={pageEl:i[0]}),p){const t=e.$el.children(".page").filter((e=>e!==g[0]));for(let e=0;e<t.length;e+=1)h||!t[e].classList.contains("page-master")||(h=t[e]);P=!d&&h&&e.history.indexOf(u.route.url)>e.history.indexOf(h.f7Page.route.url),!P&&!d&&h&&h.f7Page&&u.route.route.masterRoute&&(P=u.route.route.masterRoute.path===h.f7Page.route.route.path)}if(P&&h&&h.f7Page&&($=e.history.indexOf(u.route.url)-e.history.indexOf(h.f7Page.route.url)==1),g.addClass(`page-${b?"current":"previous"}${d?" page-master":""}${P?" page-master-detail":""}${$?" page-master-detail-root":""}`).removeAttr("aria-hidden").trigger("page:unstack").trigger("page:position",{position:b?"current":"previous"}),e.emit("pageUnstack",g[0]),e.emit("pagePosition",g[0],b?"current":"previous"),(d||P)&&(g.trigger("page:role",{role:d?"master":"detail",root:!!$}),e.emit("pageRole",g[0],{role:d?"master":"detail",detailRoot:!!$})),m&&C.length>0&&(C.addClass(`navbar-${b?"current":"previous"}${d?" navbar-master":""}${P?" navbar-master-detail":""}${$?" navbar-master-detail-root":""}`).removeAttr("aria-hidden"),C.trigger("navbar:position",{position:b?"current":"previous"}),e.emit("navbarPosition",C[0],b?"current":"previous"),(d||$)&&e.emit("navbarRole",C[0],{role:d?"master":"detail",detailRoot:!!$})),u.force&&v.prev(".page-previous").length>=0){e.history.indexOf(u.route.url)>=0?(x=e.history.length-e.history.indexOf(u.route.url)-1,e.history=e.history.slice(0,e.history.indexOf(u.route.url)+2),e.propsHistory=e.propsHistory.slice(0,e.history.indexOf(u.route.url)+2),c.history=e.history):e.history[[e.history.length-2]]?e.propsHistory[e.propsHistory.length-2]=u.props||{}:(e.history.unshift(e.url),e.propsHistory.unshift(u.props||{}));const t=v.prev(".page-previous");let r;m&&(r=s(l.navbar.getElByPage(t))),t.length>0&&(e.pageCallback("beforeRemove",t,r,"previous",void 0,u),t[0]===h&&(f=!0),e.removePage(t),m&&r.length&&e.removeNavbar(r))}const E=g.parents(o).length>0,M=g[0].f7Component;function O(){b&&(!E&&M?M.mount((t=>{e.$el.append(t)})):e.$el.append(g)),0===g.next(v).length&&(!E&&M?M.mount((e=>{s(e).insertBefore(v)})):g.insertBefore(v)),m&&C.length&&(C.find(".title-large").length&&C.addClass("navbar-large"),C.insertBefore(k),k.length>0?C.insertBefore(k):(e.$navbarsEl.parents(o).length||e.$el.prepend(e.$navbarsEl),w.append(C))),E?u.route&&u.route.route&&u.route.route.keepAlive&&!g[0].f7PageMounted&&(g[0].f7PageMounted=!0,e.pageCallback("mounted",g,C,"previous","current",u,v)):e.pageCallback("mounted",g,C,"previous","current",u,v)}if(u.preload){O(),u.route.route.tab&&e.tabLoad(u.route.route.tab,ue({},u,{history:!1,browserHistory:!1,preload:!0})),d&&(g.removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",g[0]),m&&(s(l.navbar.getElByPage(g)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",l.navbar.getElByPage(g)))),e.pageCallback("init",g,C,"previous","current",u,v),b&&(e.pageCallback("beforeIn",g,C,"current",void 0,u),e.pageCallback("afterIn",g,C,"current",void 0,u));const t=g.prevAll(".page-previous:not(.page-master)");return t.length>0&&t.each((t=>{const r=s(t);let a;m&&(a=s(l.navbar.getElByPage(r))),e.pageCallback("beforeRemove",r,a,"previous",void 0),e.removePage(r),m&&a.length&&e.removeNavbar(a)})),e.allowPageChange=!0,e}if(!(n.ie||n.edge||n.firefox&&!n.ios)&&e.params.browserHistory&&u.browserHistory)if(u.replaceState){const t=e.params.browserHistoryRoot||"";st.replace(c.id,{url:u.route.url},t+e.params.browserHistorySeparator+u.route.url)}else x?st.go(-x):st.back();if(u.replaceState?(e.history[e.history.length-1]=u.route.url,e.propsHistory[e.propsHistory.length-1]=u.props||{}):(1===e.history.length&&(e.history.unshift(e.url),e.propsHistory.unshift(u.props||{})),e.history.pop(),e.propsHistory.pop()),e.saveHistory(),e.currentPageEl=g[0],m&&C.length?e.currentNavbarEl=C[0]:delete e.currentNavbarEl,e.currentRoute=u.route,(n.ie||n.edge||n.firefox&&!n.ios)&&e.params.browserHistory&&u.browserHistory)if(u.replaceState){const t=e.params.browserHistoryRoot||"";st.replace(c.id,{url:u.route.url},t+e.params.browserHistorySeparator+u.route.url)}else x?st.go(-x):st.back();function R(){e.setPagePosition(g,"current",!1),e.setPagePosition(v,"next",!0),m&&(e.setNavbarPosition(C,"current",!1),e.setNavbarPosition(k,"next",!0)),e.pageCallback("afterOut",v,k,"current","next",u),e.pageCallback("afterIn",g,C,"previous","current",u),e.pageCallback("beforeRemove",v,k,"next",void 0,u),e.removePage(v),m&&k.length&&e.removeNavbar(k),e.allowPageChange=!0,e.emit("routeChanged",e.currentRoute,e.previousRoute,e);(e.params.preloadPreviousPage||e.params[`${l.theme}SwipeBack`])&&e.history[e.history.length-2]&&!d&&e.back(e.history[e.history.length-2],{preload:!0,props:e.propsHistory[e.propsHistory.length-2]||{}}),e.params.browserHistory&&st.clearRouterQueue()}if(O(),u.route.route.tab&&e.tabLoad(u.route.route.tab,ue({},u,{history:!1,browserHistory:!1})),p&&(y||f)&&c.checkMasterDetailBreakpoint(!1),e.pageCallback("init",g,C,"previous","current",u,v),e.pageCallback("beforeOut",v,k,"current","next",u),e.pageCallback("beforeIn",g,C,"previous","current",u),!u.animate||y&&l.width>=e.params.masterDetailBreakpoint)R();else{let t=e.params.transition;v[0]&&v[0].f7PageTransition&&(t=v[0].f7PageTransition,delete v[0].f7PageTransition),u.transition&&(t=u.transition),!t&&e.previousRoute&&e.previousRoute.route&&(t=e.previousRoute.route.transition),!t&&e.previousRoute&&e.previousRoute.route&&e.previousRoute.route.options&&(t=e.previousRoute.route.options.transition),e.setPagePosition(v,"current"),e.setPagePosition(g,"previous",!1),m&&(e.setNavbarPosition(k,"current"),e.setNavbarPosition(C,"previous",!1)),e.animate(v,g,k,C,"backward",t,(()=>{R()}))}return e}function gt(e,t,r,a){if(!e.allowPageChange&&!a)return e;const n=t,o=r,{url:s,content:i,el:l,pageName:c,component:u,componentUrl:p}=n;if(o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return e.allowPageChange=!0,!1;if(!o.route&&s&&(o.route=e.parseRouteUrl(s)),(s||p||u)&&(e.allowPageChange=!1),i)mt(e,e.getPageEl(i),o);else if(l)mt(e,e.getPageEl(l),o);else if(c)mt(e,e.$el.children(`.page[data-name="${c}"]`).eq(0),o);else if(u||p)try{e.pageComponentLoader({routerEl:e.el,component:u,componentUrl:p,options:o,resolve:function(t,r){return mt(e,t,ue(o,r))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else s&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(s,o).then((t=>{mt(e,e.getPageEl(t),o)})).catch((()=>{e.allowPageChange=!0})));return e}class vt extends Ke{constructor(e,t){super({},[void 0===t?e:t]);const r=this;r.isAppRouter=void 0===t,r.isAppRouter?ue(!1,r,{app:e,params:e.params.view,routes:e.routes||[],cache:e.cache}):ue(!1,r,{app:e,view:t,viewId:t.id,id:t.params.routerId,params:t.params,routes:t.routes,history:t.history,propsHistory:[],scrollHistory:t.scrollHistory,cache:e.cache,dynamicNavbar:"ios"===e.theme&&t.params.iosDynamicNavbar,initialPages:[],initialNavbars:[]}),r.useModules(),r.allowPageChange=!0;let a={},n={};return Object.defineProperty(r,"currentRoute",{enumerable:!0,configurable:!0,set(e){void 0===e&&(e={}),n=ue({},a),a=e,a&&(r.url=a.url,r.emit("routeChange",e,n,r))},get:()=>a}),Object.defineProperty(r,"previousRoute",{enumerable:!0,configurable:!0,get:()=>n,set(e){n=e}}),r}mount(){const e=this,t=e.view;ue(!1,e,{tempDom:r().createElement("div"),$el:t.$el,el:t.el,$navbarsEl:t.$navbarsEl,navbarsEl:t.navbarsEl}),e.emit("local::mount routerMount",e)}animatableNavElements(e,t,r,a,n){const o=this,i=o.dynamicNavbar,l=o.params.iosAnimateNavbarBackIcon;let c,u;function p(e,t){const r=e.hasClass("sliding")||t.hasClass("sliding"),a=e.hasClass("subnavbar"),n=!r||!a,o=e.find(".back .icon");let s;return r&&l&&e.hasClass("left")&&o.length>0&&o.next("span").length&&(e=o.next("span"),s=!0),{$el:e,isIconLabel:s,leftOffset:e[0].f7NavbarLeftOffset,rightOffset:e[0].f7NavbarRightOffset,isSliding:r,isSubnavbar:a,needsOpacityTransition:n}}return i&&(c=[],u=[],e.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((t=>{const o=s(t);o.hasClass("left")&&a&&"forward"===n||o.hasClass("title")&&r||c.push(p(o,e.children(".navbar-inner")))})),t.hasClass("navbar-master")&&o.params.masterDetailBreakpoint>0&&o.app.width>=o.params.masterDetailBreakpoint||t.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((e=>{const o=s(e);o.hasClass("left")&&r&&!a&&"forward"===n||o.hasClass("left")&&r&&"backward"===n||o.hasClass("title")&&a||u.push(p(o,t.children(".navbar-inner")))})),[u,c].forEach((e=>{e.forEach((t=>{const r=t,{isSliding:a,$el:n}=t,o=e===u?c:u;a&&n.hasClass("title")&&o&&o.forEach((e=>{if(e.isIconLabel){const t=e.$el[0];r.leftOffset+=t&&t.offsetLeft||0}}))}))}))),{newNavEls:c,oldNavEls:u}}animate(e,t,r,a,n,o,s){const i=this;if(i.params.animateCustom)return void i.params.animateCustom.apply(i,[e,t,r,a,n,s]);const l=i.dynamicNavbar,c="ios"===i.app.theme;if(o){const c=`router-transition-custom router-transition-${o}-${n}`,u=()=>{i.$el.removeClass(c),l&&i.$navbarsEl.length&&(a&&i.$navbarsEl.prepend(a),r&&i.$navbarsEl.prepend(r)),s&&s()};return("forward"===n?t:e).animationEnd(u),l&&(a&&t&&(i.setNavbarPosition(a,""),a.removeClass("navbar-next navbar-previous navbar-current"),t.prepend(a)),r&&e&&(i.setNavbarPosition(r,""),r.removeClass("navbar-next navbar-previous navbar-current"),e.prepend(r))),void i.$el.addClass(c)}const u=`router-transition-${n} router-transition`;let p,d,h,f,m,g,v;if(c&&l){i.params.masterDetailBreakpoint>0&&i.app.width>=i.params.masterDetailBreakpoint&&(r.hasClass("navbar-master")&&a.hasClass("navbar-master-detail")||r.hasClass("navbar-master-detail")&&a.hasClass("navbar-master"))||(g=r&&r.hasClass("navbar-large"),v=a&&a.hasClass("navbar-large"),h=g&&!r.hasClass("navbar-large-collapsed"),f=v&&!a.hasClass("navbar-large-collapsed"),m=h&&!f||f&&!h);const e=i.animatableNavElements(a,r,f,h,n);p=e.newNavEls,d=e.oldNavEls}function b(e){c&&l&&(1===e&&(f&&(a.addClass("router-navbar-transition-to-large"),r.addClass("router-navbar-transition-to-large")),h&&(a.addClass("router-navbar-transition-from-large"),r.addClass("router-navbar-transition-from-large"))),p.forEach((t=>{const r=t.$el,a="forward"===n?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&v?r[0].style.setProperty("transform",`translate3d(${a*(1-e)}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`,"important"):r.transform(`translate3d(${a*(1-e)}px,0,0)`))})),d.forEach((t=>{const r=t.$el,a="forward"===n?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&g?r.transform(`translate3d(${a*e}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`):r.transform(`translate3d(${a*e}px,0,0)`))})))}("forward"===n?t:c?e:t).animationEnd((()=>{i.dynamicNavbar&&(a&&(a.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),a.addClass("navbar-no-title-large-transition"),ne((()=>{a.removeClass("navbar-no-title-large-transition")}))),r&&r.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),a.hasClass("sliding")||a.children(".navbar-inner.sliding").length?a.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):a.find(".sliding").transform(""),r.hasClass("sliding")||r.children(".navbar-inner.sliding").length?r.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):r.find(".sliding").transform("")),i.$el.removeClass(u),s&&s()})),l?(b(0),ne((()=>{i.$el.addClass(u),m&&(i.el._clientLeft=i.el.clientLeft),b(1)}))):i.$el.addClass(u)}removeModal(e){this.removeEl(e)}removeTabContent(e){s(e).html("")}removeNavbar(e){this.removeEl(e)}removePage(e){const t=s(e),r=t&&t[0]&&t[0].f7Page;r&&r.route&&r.route.route&&r.route.route.keepAlive?t.remove():this.removeEl(e)}removeEl(e){if(!e)return;const t=this,r=s(e);0!==r.length&&(r.find(".tab").each((e=>{s(e).children().each((e=>{e.f7Component&&(s(e).trigger("tab:beforeremove"),e.f7Component.destroy())}))})),r[0].f7Component&&r[0].f7Component.destroy&&r[0].f7Component.destroy(),t.params.removeElements&&(t.params.removeElementsWithTimeout?setTimeout((()=>{r.remove()}),t.params.removeElementsTimeout):r.remove()))}getPageEl(e){const t=this;if("string"==typeof e)t.tempDom.innerHTML=e;else{if(s(e).hasClass("page"))return e;t.tempDom.innerHTML="",s(t.tempDom).append(e)}return t.findElement(".page",t.tempDom)}findElement(e,t){const r=this,a=r.view,n=r.app,o=s(t),i=e;let l=o.find(i).filter((e=>0===s(e).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length));return l.length>1&&("string"==typeof a.selector&&(l=o.find(`${a.selector} ${i}`)),l.length>1&&(l=o.find(`.${n.params.viewMainClass} ${i}`))),1===l.length?l:(l=r.findElement(i,o),l&&1===l.length?l:l&&l.length>1?s(l[0]):void 0)}flattenRoutes(e){void 0===e&&(e=this.routes);const t=this;let r=[];return e.forEach((e=>{let a=!1;if("tabs"in e&&e.tabs){const n=e.tabs.map((t=>{const r=ue({},e,{path:`${e.path}/${t.path}`.replace("///","/").replace("//","/"),parentPath:e.path,tab:t});return delete r.tabs,delete r.routes,r}));a=!0,r=r.concat(t.flattenRoutes(n))}if("detailRoutes"in e){const a=e.detailRoutes.map((t=>{const r=ue({},t);return r.masterRoute=e,r.masterRoutePath=e.path,r}));r=r.concat(e,t.flattenRoutes(a))}if("routes"in e){const n=e.routes.map((t=>{const r=ue({},t);return r.path=`${e.path}/${r.path}`.replace("///","/").replace("//","/"),r}));r=a?r.concat(t.flattenRoutes(n)):r.concat(e,t.flattenRoutes(n))}"routes"in e||"tabs"in e&&e.tabs||"detailRoutes"in e||r.push(e)})),r}parseRouteUrl(e){if(!e)return{};const t=se(e),r=e.split("#")[1],a=e.split("#")[0].split("?")[0];return{query:t,hash:r,params:{},url:e,path:a}}generateUrl(e){if(void 0===e&&(e={}),"string"==typeof e)return e;const{name:t,path:r,params:a,query:n}=e;if(!t&&!r)throw new Error('Framework7: "name" or "path" parameter is required');const o=this,s=t?o.findRouteByKey("name",t):o.findRouteByKey("path",r);if(!s)throw t?new Error(`Framework7: route with name "${t}" not found`):new Error(`Framework7: route with path "${r}" not found`);const i=o.constructRouteUrl(s,{params:a,query:n});if(""===i)return"/";if(!i)throw new Error(`Framework7: can't construct URL for route with name "${t}"`);return i}constructRouteUrl(e,t){let{params:r,query:n}=void 0===t?{}:t;const{path:o}=e,s=a(o);let i;try{i=s(r||{})}catch(e){throw new Error(`Framework7: error constructing route URL from passed params:\nRoute: ${o}\n${e.toString()}`)}return n&&("string"==typeof n?i+=`?${n}`:Object.keys(n).length&&(i+=`?${ie(n)}`)),i}findTabRouteUrl(e){const t=this,r=s(e),a=t.currentRoute.route.parentPath,n=r.attr("id");let o;return t.flattenRoutes(t.routes).forEach((e=>{e.parentPath===a&&e.tab&&e.tab.id===n&&(o=t.currentRoute.params&&Object.keys(t.currentRoute.params).length>0?t.constructRouteUrl(e,{params:t.currentRoute.params,query:t.currentRoute.query}):e.path)})),o}findRouteByKey(e,t){const r=this.routes;let a;return this.flattenRoutes(r).forEach((r=>{a||r[e]===t&&(a=r)})),a}findMatchingRoute(e){if(!e)return;const t=this,r=t.routes,a=t.flattenRoutes(r),{path:o,query:s,hash:i,params:l}=t.parseRouteUrl(e);let c;return a.forEach((t=>{if(c)return;const r=[],a=[t.path||"/"];let u;if(t.alias&&("string"==typeof t.alias?a.push(t.alias):Array.isArray(t.alias)&&t.alias.forEach((e=>{a.push(e)}))),a.forEach((e=>{u||(u=n(e,r).exec(o||"/"))})),u){let a;r.forEach(((e,t)=>{if("number"==typeof e.name)return;const r=u[t+1];l[e.name]=null==r?r:decodeURIComponent(r)})),t.parentPath&&(a=(o||"/").split("/").slice(0,t.parentPath.split("/").length-1).join("/")),c={query:s,hash:i,params:l,url:e,path:o||"/",parentPath:a,route:t,name:t.name}}})),c}replaceRequestUrlParams(e,t){void 0===e&&(e=""),void 0===t&&(t={});let r=e;return"string"==typeof r&&r.indexOf("{{")>=0&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach((e=>{const a=new RegExp(`{{${e}}}`,"g");r=r.replace(a,t.route.params[e]||"")})),r}removeFromXhrCache(e){const t=this.cache.xhr;let r=!1;for(let a=0;a<t.length;a+=1)t[a].url===e&&(r=a);!1!==r&&t.splice(r,1)}xhrRequest(e,t){const r=this,a=r.params,{ignoreCache:n}=t;let o=e,s=o.indexOf("?")>=0;return a.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(o+=`${s?"&":"?"}${ie(t.route.query)}`,s=!0),a.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(o+=`${s?"&":"?"}${ie(t.route.params)}`,s=!0),o.indexOf("{{")>=0&&(o=r.replaceRequestUrlParams(o,t)),a.xhrCacheIgnoreGetParameters&&o.indexOf("?")>=0&&(o=o.split("?")[0]),new Promise(((e,s)=>{if(a.xhrCache&&!n&&o.indexOf("nocache")<0&&a.xhrCacheIgnore.indexOf(o)<0)for(let t=0;t<r.cache.xhr.length;t+=1){const n=r.cache.xhr[t];if(n.url===o&&oe()-n.time<a.xhrCacheDuration)return void e(n.content)}let i;r.xhrAbortController=new AbortController,fetch(o,{signal:r.xhrAbortController.signal,method:"GET"}).then((e=>(i=e,e.text()))).then((n=>{const{status:l}=i;r.emit("routerAjaxComplete",i),"error"!==l&&"timeout"!==l&&l>=200&&l<300||0===l?(a.xhrCache&&""!==n&&(r.removeFromXhrCache(o),r.cache.xhr.push({url:o,time:oe(),content:n})),r.emit("routerAjaxSuccess",i,t),e(n)):(r.emit("routerAjaxError",i,t),s(i))})).catch((e=>{s(e)}))}))}setNavbarPosition(e,t,r){e.removeClass("navbar-previous navbar-current navbar-next"),t&&e.addClass(`navbar-${t}`),!1===r?e.removeAttr("aria-hidden"):!0===r&&e.attr("aria-hidden","true"),e.trigger("navbar:position",{position:t}),this.emit("navbarPosition",e[0],t)}setPagePosition(e,t,r){e.removeClass("page-previous page-current page-next"),e.addClass(`page-${t}`),!1===r?e.removeAttr("aria-hidden"):!0===r&&e.attr("aria-hidden","true"),e.trigger("page:position",{position:t}),this.emit("pagePosition",e[0],t)}removeThemeElements(e){const t=this.app.theme;let r;"ios"===t?r=".md-only, .if-md, .if-not-ios, .not-ios":"md"===t&&(r=".ios-only, .if-ios, .if-not-md, .not-md"),s(e).find(r).remove()}getPageData(e,t,r,a,n,o){void 0===n&&(n={});const i=this,l=s(e).eq(0),c=s(t).eq(0),u=l[0].f7Page||{};let p,d;if(("next"===r&&"current"===a||"current"===r&&"previous"===a)&&(p="forward"),("current"===r&&"next"===a||"previous"===r&&"current"===a)&&(p="backward"),u&&!u.fromPage){const e=s(o);e.length&&(d=e[0].f7Page)}d=u.pageFrom||d,d&&d.pageFrom&&(d.pageFrom=null);const h={app:i.app,view:i.view,router:i,$el:l,el:l[0],$pageEl:l,pageEl:l[0],$navbarEl:c,navbarEl:c[0],name:l.attr("data-name"),position:r,from:r,to:a,direction:p,route:u.route?u.route:n,pageFrom:d};return l[0].f7Page=h,h}pageCallback(e,t,r,a,n,o,i){if(void 0===o&&(o={}),!t)return;const l=this,c=s(t);if(!c.length)return;const u=s(r),{route:p}=o,d=l.params.restoreScrollTopOnBack&&!(l.params.masterDetailBreakpoint>0&&c.hasClass("page-master")&&l.app.width>=l.params.masterDetailBreakpoint),h=c[0].f7Page&&c[0].f7Page.route&&c[0].f7Page.route.route&&c[0].f7Page.route.route.keepAlive;"beforeRemove"===e&&h&&(e="beforeUnmount");const f=`page${e[0].toUpperCase()+e.slice(1,e.length)}`,m=`page:${e.toLowerCase()}`;let g={};g="beforeRemove"===e&&c[0].f7Page?ue(c[0].f7Page,{from:a,to:n,position:a}):l.getPageData(c[0],u[0],a,n,p,i),g.swipeBack=!!o.swipeBack;const{on:v={},once:b={}}=o.route?o.route.route:{};function y(){c[0].f7RouteEventsAttached||(c[0].f7RouteEventsAttached=!0,v&&Object.keys(v).length>0&&(c[0].f7RouteEventsOn=v,Object.keys(v).forEach((e=>{v[e]=v[e].bind(l),c.on(ee(e),v[e])}))),b&&Object.keys(b).length>0&&(c[0].f7RouteEventsOnce=b,Object.keys(b).forEach((e=>{b[e]=b[e].bind(l),c.once(ee(e),b[e])}))))}if(o.on&&ue(v,o.on),o.once&&ue(b,o.once),"mounted"===e&&y(),"init"===e){if(d&&("previous"===a||!a)&&"current"===n&&l.scrollHistory[g.route.url]&&!c.hasClass("no-restore-scroll")){let e=c.find(".page-content");e.length>0&&(e=e.filter((e=>0===s(e).parents(".tab:not(.tab-active)").length&&!s(e).is(".tab:not(.tab-active)")))),e.scrollTop(l.scrollHistory[g.route.url])}if(y(),c[0].f7PageInitialized)return c.trigger("page:reinit",g),void l.emit("pageReinit",g);c[0].f7PageInitialized=!0}if(d&&"beforeOut"===e&&"current"===a&&"previous"===n){let e=c.find(".page-content");e.length>0&&(e=e.filter((e=>0===s(e).parents(".tab:not(.tab-active)").length&&!s(e).is(".tab:not(.tab-active)")))),l.scrollHistory[g.route.url]=e.scrollTop()}d&&"beforeOut"===e&&"current"===a&&"next"===n&&delete l.scrollHistory[g.route.url],c.trigger(m,g),l.emit(f,g),"beforeRemove"!==e&&"beforeUnmount"!==e||(c[0].f7RouteEventsAttached&&(c[0].f7RouteEventsOn&&Object.keys(c[0].f7RouteEventsOn).forEach((e=>{c.off(ee(e),c[0].f7RouteEventsOn[e])})),c[0].f7RouteEventsOnce&&Object.keys(c[0].f7RouteEventsOnce).forEach((e=>{c.off(ee(e),c[0].f7RouteEventsOnce[e])})),c[0].f7RouteEventsAttached=null,c[0].f7RouteEventsOn=null,c[0].f7RouteEventsOnce=null,delete c[0].f7RouteEventsAttached,delete c[0].f7RouteEventsOn,delete c[0].f7RouteEventsOnce),h||(c[0].f7Page&&c[0].f7Page.navbarEl&&delete c[0].f7Page.navbarEl.f7Page,c[0].f7Page=null))}saveHistory(){const e=this,r=t();e.view.history=e.history,e.params.browserHistory&&e.params.browserHistoryStoreHistory&&r.localStorage&&(r.localStorage[`f7router-${e.view.id}-history`]=JSON.stringify(e.history))}restoreHistory(){const e=this,r=t();e.params.browserHistory&&e.params.browserHistoryStoreHistory&&r.localStorage&&r.localStorage[`f7router-${e.view.id}-history`]&&(e.history=JSON.parse(r.localStorage[`f7router-${e.view.id}-history`]),e.view.history=e.history)}clearHistory(){const e=this;e.history=[],e.view&&(e.view.history=[]),e.saveHistory()}updateCurrentUrl(e){const t=this;pt(t,"updateCurrentUrl"),t.history.length?t.history[t.history.length-1]=e:t.history.push(e);const{query:r,hash:a,params:n,url:o,path:s}=t.parseRouteUrl(e);if(t.currentRoute&&ue(t.currentRoute,{query:r,hash:a,params:n,url:o,path:s}),t.params.browserHistory){const r=t.params.browserHistoryRoot||"";st.replace(t.view.id,{url:e},r+t.params.browserHistorySeparator+e)}t.saveHistory(),t.emit("routeUrlUpdate",t.currentRoute,t)}getInitialUrl(){const e=this;if(e.initialUrl)return{initialUrl:e.initialUrl,historyRestored:e.historyRestored};const{app:a,view:n}=e,o=r(),s=t(),i=a.params.url&&"string"==typeof a.params.url&&"undefined"!=typeof URL?new URL(a.params.url):o.location;let l,c=e.params.url,u=i.href.split(i.origin)[1];const{browserHistory:p,browserHistoryOnLoad:d,browserHistorySeparator:h}=e.params;let{browserHistoryRoot:f}=e.params;return(s.cordova||s.Capacitor&&s.Capacitor.isNative)&&p&&!h&&!f&&i.pathname.indexOf("index.html")&&(console.warn("Framework7: wrong or not complete browserHistory configuration, trying to guess browserHistoryRoot"),f=i.pathname.split("index.html")[0]),p&&d?(f&&u.indexOf(f)>=0&&(u=u.substring(u.indexOf(f)+f.length),""===u&&(u="/")),c=h.length>0&&u.indexOf(h)>=0?u.substring(u.indexOf(h)+h.length):u,e.restoreHistory(),e.history.indexOf(c)>=0?e.history=e.history.slice(0,e.history.indexOf(c)+1):e.params.url===c?e.history=[c]:st.state&&st.state[n.id]&&st.state[n.id].url===e.history[e.history.length-1]?c=e.history[e.history.length-1]:e.history=[u.split(h)[0]||"/",c],e.history.length>1?l=!0:e.history=[],e.saveHistory()):(c||(c=u),i.search&&c.indexOf("?")<0&&(c+=i.search),i.hash&&c.indexOf("#")<0&&(c+=i.hash)),e.initialUrl=c,e.historyRestored=l,{initialUrl:c,historyRestored:l}}init(){const e=this,{app:t,view:a}=e,n=r();e.mount();const{initialUrl:o,historyRestored:i}=e.getInitialUrl();(a&&e.params.iosSwipeBack&&"ios"===t.theme||a&&e.params.mdSwipeBack&&"md"===t.theme)&&it(e);const{browserHistory:l,browserHistoryOnLoad:c,browserHistoryAnimateOnLoad:u,browserHistoryInitialMatch:p}=e.params;let d;if(e.history.length>1){const t=p?o:e.history[0];d=e.findMatchingRoute(t),d||(d=ue(e.parseRouteUrl(t),{route:{url:t,path:t.split("?")[0]}}))}else d=e.findMatchingRoute(o),d||(d=ue(e.parseRouteUrl(o),{route:{url:o,path:o.split("?")[0]}}));if(0===e.$el.children(".page").length&&o&&e.params.loadInitialPage)e.navigate(o,{initial:!0,reloadCurrent:!0,browserHistory:!1,animate:!1,once:{modalOpen(){if(!i)return;(e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`])&&e.history.length>1&&e.back({preload:!0})},pageAfterIn(){if(!i)return;(e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`])&&e.history.length>1&&e.back({preload:!0})}}});else if(e.$el.children(".page").length){let r;if(e.currentRoute=d,e.$el.children(".page").each((o=>{const i=s(o);let l;e.setPagePosition(i,"current"),e.dynamicNavbar&&(l=i.children(".navbar"),l.length>0?(e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),e.setNavbarPosition(l,"current"),e.$navbarsEl.append(l),l.children(".title-large").length&&l.addClass("navbar-large"),i.children(".navbar").remove()):(e.$navbarsEl.addClass("navbar-hidden"),l.children(".title-large").length&&e.$navbarsEl.addClass("navbar-hidden navbar-large-hidden"))),e.currentRoute&&e.currentRoute.route&&(!0===e.currentRoute.route.master||"function"==typeof e.currentRoute.route.master&&e.currentRoute.route.master(t,e))&&e.params.masterDetailBreakpoint>0&&(i.addClass("page-master"),i.trigger("page:role",{role:"master"}),l&&l.length&&l.addClass("navbar-master"),a.checkMasterDetailBreakpoint());const c={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&ue(c,e.currentRoute.route.options),e.currentPageEl=i[0],e.dynamicNavbar&&l.length&&(e.currentNavbarEl=l[0]),e.removeThemeElements(i),e.dynamicNavbar&&l.length&&e.removeThemeElements(l),c.route.route.tab&&(r=!0,e.tabLoad(c.route.route.tab,ue({},c))),e.pageCallback("init",i,l,"current",void 0,c),e.pageCallback("beforeIn",i,l,"current",void 0,c),e.pageCallback("afterIn",i,l,"current",void 0,c)})),i)if(p){(e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`])&&e.history.length>1&&e.back({preload:!0})}else e.navigate(o,{initial:!0,browserHistory:!1,history:!1,animate:u,once:{pageAfterIn(){(e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`])&&e.history.length>2&&e.back({preload:!0})}}});i||r||(e.history.push(o),e.saveHistory())}!(o&&l&&c)||st.state&&st.state[a.id]||st.initViewState(a.id,{url:o}),e.emit("local::init routerInit",e)}destroy(){let e=this;e.emit("local::destroy routerDestroy",e),Object.keys(e).forEach((t=>{e[t]=null,delete e[t]})),e=null}}vt.prototype.navigate=function(e,t){void 0===t&&(t={});const r=this;if(r.swipeBackActive)return r;let a,n,o,s,i,l,c;if("string"==typeof e?a=e:(a=e.url,n=e.route,o=e.name,s=e.path,i=e.query,l=e.params),o||s)return a=r.generateUrl({path:s,name:o,params:l,query:i}),a?r.navigate(a,t):r;const u=r.app;if(pt(r,"navigate"),"#"===a||""===a)return r;let p=a.replace("./","");if("/"!==p[0]&&0!==p.indexOf("#")){const e=r.currentRoute.parentPath||r.currentRoute.path;p=((e?`${e}/`:"/")+p).replace("///","/").replace("//","/")}if(c=n?ue(r.parseRouteUrl(p),{route:ue({},n)}):r.findMatchingRoute(p),!c)return r;if(c.route&&c.route.viewName){const a=c.route.viewName,n=u.views[a];if(!n)throw new Error(`Framework7: There is no View with "${a}" name that was specified in this route`);if(n!==r.view)return n.router.navigate(e,t)}if(c.route.redirect)return lt.call(r,"forward",c,t);const d={};if(c.route.options?ue(d,c.route.options,t):ue(d,t),d.openIn&&(!r.params.ignoreOpenIn||r.params.ignoreOpenIn&&r.history.length>0))return r.openIn(r,p,d);function h(){let e=!1;function t(e,t){r.allowPageChange=!1;let a=!1;"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((n=>{if(e[n]){a=!0;const o=ue({},c,{route:e});r.allowPageChange=!0,r.modalLoad(n,o,ue(d,t),"forward")}})),a||ft(r,e,ue(d,t),!0)}function a(){r.allowPageChange=!0}"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((t=>{c.route[t]&&!e&&(e=!0,r.modalLoad(t,c,d,"forward"))})),c.route.keepAlive&&c.route.keepAliveData&&(ft(r,{el:c.route.keepAliveData.pageEl},d,!1),e=!0),"url content component pageName el componentUrl".split(" ").forEach((t=>{c.route[t]&&!e&&(e=!0,ft(r,{[t]:c.route[t]},d,!1))})),e||(c.route.async&&(r.allowPageChange=!1,c.route.async.call(r,{router:r,to:d.route,from:r.currentRoute,resolve:t,reject:a,direction:"forward",app:u})),c.route.asyncComponent&&dt(r,c.route.asyncComponent,t,a))}function f(){r.allowPageChange=!0}if(d.route=c,r.params.masterDetailBreakpoint>0&&c.route.masterRoute){let a=!0,n=!1;if(r.currentRoute&&r.currentRoute.route&&(!(!0===r.currentRoute.route.master||"function"==typeof r.currentRoute.route.master&&r.currentRoute.route.master(u,r))||r.currentRoute.route!==c.route.masterRoute&&r.currentRoute.route.path!==c.route.masterRoute.path||(a=!1),!r.currentRoute.route.masterRoute||r.currentRoute.route.masterRoute!==c.route.masterRoute&&r.currentRoute.route.masterRoute.path!==c.route.masterRoute.path||(a=!1,n=!0)),a||n&&t.reloadAll)return r.navigate({path:c.route.masterRoute.path,params:c.params||{}},{animate:!1,reloadAll:t.reloadAll,reloadCurrent:t.reloadCurrent,reloadPrevious:t.reloadPrevious,browserHistory:!t.initial,history:!t.initial,once:{pageAfterIn(){r.navigate(e,ue({},t,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1,history:!t.initial,browserHistory:!t.initial}))}}}),r}return ut.call(r,c,r.currentRoute,(()=>{c.route.modules?u.loadModules(Array.isArray(c.route.modules)?c.route.modules:[c.route.modules]).then((()=>{h()})).catch((()=>{f()})):h()}),(()=>{f()}),"forward"),r},vt.prototype.refreshPage=function(e){void 0===e&&(e={});const t=this;return pt(t,"refreshPage"),t.navigate(t.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0,props:e})},vt.prototype.tabLoad=function(e,t){void 0===t&&(t={});const r=this,a=ue({animate:r.params.animate,browserHistory:!0,history:!0,parentPageEl:null,preload:!1,on:{}},t);let n,o;a.route&&(a.preload||a.route===r.currentRoute||(o=r.previousRoute,r.currentRoute=a.route),a.preload?(n=a.route,o=r.currentRoute):(n=r.currentRoute,o||(o=r.previousRoute)),r.params.browserHistory&&a.browserHistory&&!a.reloadPrevious&&st[r.params.browserHistoryTabs](r.view.id,{url:a.route.url},(r.params.browserHistoryRoot||"")+r.params.browserHistorySeparator+a.route.url),a.history&&(r.history[Math.max(r.history.length-1,0)]=a.route.url,r.saveHistory()));const i=s(a.parentPageEl||r.currentPageEl);let l;l=i.length&&i.find(`#${e.id}`).length?i.find(`#${e.id}`).eq(0):r.view.selector?`${r.view.selector} #${e.id}`:`#${e.id}`;const c=r.app.tab.show({tabEl:l,animate:a.animate,tabRoute:a.route}),{$newTabEl:u,$oldTabEl:p,animated:d,onTabsChanged:h}=c;if(u&&u.parents(".page").length>0&&a.route){const e=u.parents(".page")[0].f7Page;e&&a.route&&(e.route=a.route)}if(u[0].f7RouterTabLoaded)return p&&p.length?(d?h((()=>{r.emit("routeChanged",r.currentRoute,r.previousRoute,r)})):r.emit("routeChanged",r.currentRoute,r.previousRoute,r),r):r;function f(t,a){const{url:n,content:o,el:i,component:l,componentUrl:c}=t;function f(t){r.allowPageChange=!0,t&&("string"==typeof t?u.html(t):(u.html(""),t.f7Component?t.f7Component.mount((e=>{u.append(e)})):u.append(t)),u[0].f7RouterTabLoaded=!0,function(t){r.removeThemeElements(u);let a=u;"string"!=typeof t&&(a=s(t)),a.trigger("tab:init tab:mounted",e),r.emit("tabInit tabMounted",u[0],e),p&&p.length&&(d?h((()=>{r.emit("routeChanged",r.currentRoute,r.previousRoute,r),r.params.unloadTabContent&&r.tabRemove(p,u,e)})):(r.emit("routeChanged",r.currentRoute,r.previousRoute,r),r.params.unloadTabContent&&r.tabRemove(p,u,e)))}(t))}if(o)f(o);else if(i)f(i);else if(l||c)try{r.tabComponentLoader({tabEl:u[0],component:l,componentUrl:c,options:a,resolve:f,reject:function(){return r.allowPageChange=!0,r}})}catch(e){throw r.allowPageChange=!0,e}else n&&(r.xhrAbortController&&(r.xhrAbortController.abort(),r.xhrAbortController=!1),r.xhrRequest(n,a).then((e=>{f(e)})).catch((()=>{r.allowPageChange=!0})))}let m;function g(e,t){f(e,ue(a,t))}function v(){r.allowPageChange=!0}return"url content component el componentUrl".split(" ").forEach((t=>{e[t]&&(m=!0,f({[t]:e[t]},a))})),e.async?e.async.call(r,{router:r,to:n,from:o,resolve:g,reject:v,app:r.app}):e.asyncComponent?dt(r,e.asyncComponent,g,v):m||(r.allowPageChange=!0),r},vt.prototype.tabRemove=function(e,t,r){let a;e[0]&&(e[0].f7RouterTabLoaded=!1,delete e[0].f7RouterTabLoaded),e.children().each((e=>{e.f7Component&&(a=!0,s(e).trigger("tab:beforeremove",r),e.f7Component.destroy())})),a||e.trigger("tab:beforeremove",r),this.emit("tabBeforeRemove",e[0],t[0],r),this.removeTabContent(e[0],r)},vt.prototype.modalLoad=function(e,t,r,a){void 0===r&&(r={});const n=this,o=n.app,s="panel"===e,i=s?"panel":"modal",l=ue({animate:n.params.animate,browserHistory:!0,history:!0,on:{},once:{}},r),c=ue({},t.route[e]),u=t.route,p=(e,t)=>{const{on:r,once:a}=l;let n;"open"===t&&(n=r.modalOpen||a.modalOpen||r.panelOpen||a.panelOpen),"close"===t&&(n=r.modalClose||a.modalClose||r.panelClose||a.panelClose),"closed"===t&&(n=r.modalClosed||a.modalClosed||r.panelClosed||a.panelClosed),n&&n(e)};function d(){const r=o[e].create(c);u.modalInstance=r;const a=r.el;function d(){r.close()}r.on(`${i}Open`,(()=>{a||(n.removeThemeElements(r.el),r.$el.trigger(`${e.toLowerCase()}:init ${e.toLowerCase()}:mounted`,t,r),n.emit(`${s?"":"modalInit"} ${e}Init ${e}Mounted`,r.el,t,r)),n.once("swipeBackMove",d),p(r,"open")})),r.on(`${i}Close`,(()=>{n.off("swipeBackMove",d),r.closeByRouter||n.back(),p(r,"close")})),r.on(`${i}Closed`,(()=>{r.$el.trigger(`${e.toLowerCase()}:beforeremove`,t,r),r.emit(`${s?"":"modalBeforeRemove "}${e}BeforeRemove`,r.el,t,r);const a=r.el.f7Component;p(r,"closed"),a&&a.destroy(),ae((()=>{(a||c.component||c.asyncComponent||c.async)&&n.removeModal(r.el),r.destroy(),delete r.route,delete u.modalInstance}))})),l.route&&(n.params.browserHistory&&l.browserHistory&&st.push(n.view.id,{url:l.route.url,modal:e},(n.params.browserHistoryRoot||"")+n.params.browserHistorySeparator+l.route.url),l.route!==n.currentRoute&&(r.route=ue(l.route,{modal:r}),n.currentRoute=r.route),l.history&&!l.reloadCurrent&&(n.history.push(l.route.url),n.saveHistory())),a&&(n.removeThemeElements(r.el),r.$el.trigger(`${e.toLowerCase()}:init ${e.toLowerCase()}:mounted`,t,r),n.emit(`${i}Init ${e}Init ${e}Mounted`,r.el,t,r)),r.open(!1===l.animate||!0===l.animate?l.animate:void 0)}function h(e,t){const{url:r,content:a,component:s,componentUrl:i}=e;function l(e){e&&("string"==typeof e?c.content=e:e.f7Component?e.f7Component.mount((e=>{c.el=e,o.$el.append(e)})):c.el=e,d())}if(a)l(a);else if(s||i)try{n.modalComponentLoader({rootEl:o.el,component:s,componentUrl:i,options:t,resolve:l,reject:function(){return n.allowPageChange=!0,n}})}catch(e){throw n.allowPageChange=!0,e}else r?(n.xhrAbortController&&(n.xhrAbortController.abort(),n.xhrAbortController=!1),n.xhrRequest(r,t).then((e=>{c.content=e,d()})).catch((()=>{n.allowPageChange=!0}))):d()}let f;function m(e,t){h(e,ue(l,t))}function g(){n.allowPageChange=!0}return"url content component el componentUrl template".split(" ").forEach((e=>{c[e]&&!f&&(f=!0,h({[e]:c[e]},l))})),f||"actions"!==e||d(),c.async&&c.async.call(n,{router:n,to:l.route,from:n.currentRoute,resolve:m,reject:g,direction:a,app:o}),c.asyncComponent&&dt(n,c.asyncComponent,m,g),n},vt.prototype.modalRemove=function(e){ue(e,{closeByRouter:!0}),e.close()},vt.prototype.back=function(){const e=this,t=Qe();if(e.swipeBackActive)return e;let r,a,n,o;"object"==typeof(arguments.length<=0?void 0:arguments[0])?a=(arguments.length<=0?void 0:arguments[0])||{}:(r=arguments.length<=0?void 0:arguments[0],a=(arguments.length<=1?void 0:arguments[1])||{});const{name:s,params:i,query:l}=a;if(s)return r=e.generateUrl({name:s,params:i,query:l}),r?e.back(r,ue({},a,{name:null,params:null,query:null})):e;const c=e.app;pt(e,"back");let u,p=e.currentRoute.modal;if(p||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((t=>{e.currentRoute.route[t]&&(p=!0,u=t)})),p&&!a.preload){const n=e.currentRoute.modal||e.currentRoute.route.modalInstance||c[u].get(),o=e.history[e.history.length-2];let s;if(n&&n.$el){const t=n.$el.prevAll(".modal-in");if(t.length&&t[0].f7Modal){const r=t[0];e.$el.parents(r).length||(s=r.f7Modal.route)}}if(s||(s=e.findMatchingRoute(o)),!s&&o&&(s={url:o,path:o.split("?")[0],query:se(o),route:{path:o.split("?")[0],url:o}}),!(r&&0!==r.replace(/[# ]/g,"").trim().length||s&&n))return e;const i=a.force&&s&&r;if(s&&n){const o=t.ie||t.edge||t.firefox&&!t.ios,l=e.params.browserHistory&&!1!==a.browserHistory,c=e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&!1===e.currentRoute.route.options.browserHistory;!l||o||c||st.back(),e.currentRoute=s,e.history.pop(),e.propsHistory.pop(),e.saveHistory(),l&&o&&!c&&st.back(),e.modalRemove(n),i&&e.navigate(r,{reloadCurrent:!0})}else n&&(e.modalRemove(n),r&&e.navigate(r,{reloadCurrent:!0}));return e}let d,h=e.$el.children(".page-current").prevAll(".page-previous:not(.page-master)").eq(0);if(e.params.masterDetailBreakpoint>0){const t=[];e.$el.children(".page").each((e=>{t.push(e.className)}));const r=e.$el.children(".page-current").prevAll(".page-master").eq(0);if(r.length){const t=e.history[e.history.length-2],n=e.findMatchingRoute(t);n&&r[0].f7Page&&n.route===r[0].f7Page.route.route&&(h=r,a.preload||(d=c.width>=e.params.masterDetailBreakpoint))}}if(!a.force&&h.length&&!d){const t=h[0].f7Page;if(e.params.browserHistory&&t&&e.history[e.history.length-2]!==t.route.url)return e.back(e.history[e.history.length-2],ue(a,{force:!0,props:e.propsHistory[e.propsHistory.length-2]||{}})),e;if(t){const r=t.route;return ut.call(e,r,e.currentRoute,(()=>{gt(e,{el:h},ue(a,{route:r}))}),(()=>{}),"backward"),e}}if("#"===r&&(r=void 0),r&&"/"!==r[0]&&0!==r.indexOf("#")&&(r=((e.path||"/")+r).replace("//","/")),!r&&e.history.length>1&&(r=e.history[e.history.length-2],n=e.propsHistory[e.propsHistory.length-2]||{}),d&&!a.force&&e.history[e.history.length-3])return e.back(e.history[e.history.length-3],ue({},a||{},{force:!0,animate:!1,props:e.propsHistory[e.propsHistory.length-3]||{}}));if(d&&!a.force)return e;if(o=e.findMatchingRoute(r),o||r&&(o={url:r,path:r.split("?")[0],query:se(r),route:{path:r.split("?")[0],url:r}}),!o)return e;if(o.route.redirect)return lt.call(e,"backward",o,a);const f={};function m(){let t=!1;function r(t,r){e.allowPageChange=!1,gt(e,t,ue(f,r),!0)}function a(){e.allowPageChange=!0}o.route.keepAlive&&o.route.keepAliveData&&(gt(e,{el:o.route.keepAliveData.pageEl},f),t=!0),"url content component pageName el componentUrl".split(" ").forEach((r=>{o.route[r]&&!t&&(t=!0,gt(e,{[r]:o.route[r]},f))})),t||(o.route.async&&(e.allowPageChange=!1,o.route.async.call(e,{router:e,to:o,from:e.currentRoute,resolve:r,reject:a,direction:"backward",app:c})),o.route.asyncComponent&&dt(e,o.route.asyncComponent,r,a))}function g(){e.allowPageChange=!0}return o.route.options?ue(f,o.route.options,a,{props:n||{}}):ue(f,a,{props:n||{}}),f.route=o,f.preload?m():ut.call(e,o,e.currentRoute,(()=>{o.route.modules?c.loadModules(Array.isArray(o.route.modules)?o.route.modules:[o.route.modules]).then((()=>{m()})).catch((()=>{g()})):m()}),(()=>{g()}),"backward"),e},vt.prototype.clearPreviousHistory=function(){const e=this;pt(e,"clearPreviousHistory");const t=e.history[e.history.length-1];!function(e){pt(e,"clearPreviousPages");const t=e.app,r=e.dynamicNavbar;e.$el.children(".page").filter((t=>!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||t!==e.currentPageEl)).each((a=>{const n=s(a),o=s(t.navbar.getElByPage(n));e.pageCallback("beforeRemove",n,o,"previous",void 0,{}),e.removePage(n),r&&o.length&&e.removeNavbar(o)}))}(e),e.history=[t],e.view.history=[t],e.saveHistory()};var bt={name:"router",static:{Router:vt},instance:{cache:{xhr:[],templates:[],components:[]}},create(){const e=this;e.app?e.params.router&&(e.router=new vt(e.app,e)):e.router=new vt(e)}};function yt(e){const t=e.app,r=Xe();if(e.resizableInitialized)return;ue(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});const a=s("html"),{$el:n}=e;if(!n)return;let o,i,l;const c={};let u,p,d,h;function f(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*t.width;const r=parseInt(e,10);return Number.isNaN(r)?null:r}function m(t){if(!(e.resizable&&n.hasClass("view-resizable")&&n.hasClass("view-master-detail")))return;c.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,c.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,l=!1,i=!0;const r=n.children(".page-master");d=f(r.css("min-width")),h=f(r.css("max-width"))}function g(r){if(!i)return;r.f7PreventSwipePanel=!0;const s="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX;l||(p=o[0].offsetLeft+o[0].offsetWidth,n.addClass("view-resizing"),a.css("cursor","col-resize")),l=!0,r.preventDefault(),u=s-c.x;let f=p+u;d&&!Number.isNaN(d)&&(f=Math.max(f,d)),h&&!Number.isNaN(h)&&(f=Math.min(f,h)),f=Math.min(Math.max(f,0),t.width),e.resizableWidth=f,a[0].style.setProperty("--f7-page-master-width",`${f}px`),n.trigger("view:resize",f),e.emit("local::resize viewResize",e,f)}function v(){if(s("html").css("cursor",""),!i||!l)return i=!1,void(l=!1);i=!1,l=!1,a[0].style.setProperty("--f7-page-master-width",`${e.resizableWidth}px`),n.removeClass("view-resizing")}function b(){e.resizableWidth&&(d=f(o.css("min-width")),h=f(o.css("max-width")),d&&!Number.isNaN(d)&&e.resizableWidth<d&&(e.resizableWidth=Math.max(e.resizableWidth,d)),h&&!Number.isNaN(h)&&e.resizableWidth>h&&(e.resizableWidth=Math.min(e.resizableWidth,h)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),a[0].style.setProperty("--f7-page-master-width",`${e.resizableWidth}px`))}o=e.$el.children(".view-resize-handler"),o.length||(e.$el.append('<div class="view-resize-handler"></div>'),o=e.$el.children(".view-resize-handler")),e.$resizeHandlerEl=o,n.addClass("view-resizable");const y=!!r.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,".view-resize-handler",m,y),t.on("touchmove:active",g),t.on("touchend:passive",v),t.on("resize",b),e.on("beforeOpen",b),e.once("viewDestroy",(()=>{n.removeClass("view-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,".view-resize-handler",m,y),t.off("touchmove:active",g),t.off("touchend:passive",v),t.off("resize",b),e.off("beforeOpen",b)}))}class wt extends Ke{constructor(e,t,r){void 0===r&&(r={}),super(r,[e]);const a=this;if(!a.params.routerId){if(!s(t).length){let e="Framework7: can't create a View instance because ";throw e+="string"==typeof t?`the selector "${t}" didn't match any element`:"el must be an HTMLElement or Dom7 object",new Error(e)}}let n;return a.params=ue({el:t},{routes:[],routesAdd:[]},e.params.view,r),a.params.routes.length>0?a.routes=a.params.routes:a.routes=[].concat(e.routes,a.params.routesAdd),ue(!1,a,{app:e,name:a.params.name,main:a.params.main,history:[],scrollHistory:{}}),a.useModules(),e.views.push(a),a.main&&(e.views.main=a),a.name&&(e.views[a.name]=a),a.index=e.views.indexOf(a),n=a.name?`view_${a.name}`:a.main?"view_main":`view_${a.index}`,a.id=n,a.params.init?(e.initialized?a.init():e.on("init",(()=>{a.init()})),a):a}destroy(){let e=this;const t=e.app;e.$el.trigger("view:beforedestroy"),e.emit("local::beforeDestroy viewBeforeDestroy",e),t.off("resize",e.checkMasterDetailBreakpoint),e.main?(t.views.main=null,delete t.views.main):e.name&&(t.views[e.name]=null,delete t.views[e.name]),e.$el[0].f7View=null,delete e.$el[0].f7View,t.views.splice(t.views.indexOf(e),1),e.params.router&&e.router&&e.router.destroy(),e.emit("local::destroy viewDestroy",e),Object.keys(e).forEach((t=>{e[t]=null,delete e[t]})),e=null}checkMasterDetailBreakpoint(e){const t=this,r=t.app,a=t.$el.hasClass("view-master-detail"),n=r.width>=t.params.masterDetailBreakpoint&&t.$el.children(".page-master").length;void 0===e&&n||!0===e?(t.$el.addClass("view-master-detail"),a||(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint"))):(t.$el.removeClass("view-master-detail"),a&&(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint")))}initMasterDetail(){const e=this,t=e.app;e.checkMasterDetailBreakpoint=e.checkMasterDetailBreakpoint.bind(e),e.checkMasterDetailBreakpoint(),e.params.masterDetailResizable&&yt(e),t.on("resize",e.checkMasterDetailBreakpoint)}mount(e){const t=this,r=t.app,a=t.params.el||e,n=s(a);let o,i;o="string"==typeof a?a:(n.attr("id")?`#${n.attr("id")}`:"")+(n.attr("class")?`.${n.attr("class").replace(/ /g,".").replace(".active","")}`:""),"ios"===r.theme&&t.params.iosDynamicNavbar&&(i=n.children(".navbars").eq(0),0===i.length&&(i=s('<div class="navbars"></div>'))),ue(t,{$el:n,el:n[0],main:t.main||n.hasClass("view-main"),$navbarsEl:i,navbarsEl:i?i[0]:void 0,selector:o}),t.main&&(r.views.main=t),n&&n[0]&&(n[0].f7View=t),t.emit("local::mount viewMount",t)}init(e){const t=this;t.mount(e),t.params.router&&(t.params.masterDetailBreakpoint>0&&t.initMasterDetail(),t.params.initRouterOnTabShow&&t.$el.hasClass("tab")&&!t.$el.hasClass("tab-active")?t.$el.once("tab:show",(()=>{t.router.init()})):t.router.init(),t.$el.trigger("view:init"),t.emit("local::init viewInit",t))}}wt.use(bt);var Ct={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init(){!function(e){e.on("click",(function(r){const a=t(),n=s(r.target),o=n.closest("a"),i=o.length>0,l=i&&o.attr("href");if(i&&(o.is(e.params.clicks.externalLinks)||l&&l.indexOf("javascript:")>=0)){const e=o.attr("target");return void(l&&a.cordova&&a.cordova.InAppBrowser&&("_system"===e||"_blank"===e)?(r.preventDefault(),a.cordova.InAppBrowser.open(l,e)):l&&a.Capacitor&&a.Capacitor.Plugins&&a.Capacitor.Plugins.Browser&&("_system"===e||"_blank"===e)&&(r.preventDefault(),a.Capacitor.Plugins.Browser.open({url:l})))}Object.keys(e.modules).forEach((t=>{const a=e.modules[t].clicks;a&&(r.preventF7Router||Object.keys(a).forEach((t=>{const o=n.closest(t).eq(0);o.length>0&&a[t].call(e,o,o.dataset(),r)})))}));let c={};if(i&&(r.preventDefault(),c=o.dataset()),c.clickedEl=o[0],!r.preventF7Router&&!o.hasClass("prevent-router")&&!o.hasClass("router-prevent")&&(l&&l.length>0&&"#"!==l[0]||o.hasClass("back"))){let t;if(c.view&&"current"===c.view?t=e.views.current:c.view?t=s(c.view)[0].f7View:(t=n.parents(".view")[0]&&n.parents(".view")[0].f7View,t&&t.params.linksView&&(!o.hasClass("back")||o.hasClass("back")&&1===t.router.history.length)&&("string"==typeof t.params.linksView?t=s(t.params.linksView)[0].f7View:t.params.linksView instanceof wt&&(t=t.params.linksView))),t||e.views.main&&(t=e.views.main),!t||!t.router)return;o[0].f7RouteProps&&(c.props=o[0].f7RouteProps),o.hasClass("back")?t.router.back(l,c):t.router.navigate(l,c)}}))}(this)}}},kt={name:"routerComponentLoader",proto:{openIn(e,t,r){const a={url:t,route:{path:t,options:{...r,openIn:void 0}}},n={...r};return"popup"===r.openIn&&(a.route.popup=n),"loginScreen"===r.openIn&&(a.route.loginScreen=n),"sheet"===r.openIn&&(a.route.sheet=n),"popover"===r.openIn&&(n.targetEl=r.clickedEl||r.targetEl,a.route.popover=n),r.openIn.indexOf("panel")>=0&&(n.targetEl=r.clickedEl||r.targetEl,a.route.panel=n),n.component=(a,n)=>{const{$h:o,$onMounted:s,$el:i,$f7:l}=n;return s((()=>{const a=i.value.find(".view");l.view.create(a,{linksView:e.view.selector,ignoreOpenIn:!0,loadInitialPage:!1}).router.navigate(t,{props:r.props,reloadAll:!0})})),()=>{if("popup"===r.openIn)return o`<div class="popup popup-router-open-in" data-url="${t}"><div class="view"></div></div>`;if("loginScreen"===r.openIn)return o`<div class="login-screen login-screen-router-open-in" data-url="${t}"><div class="view"></div></div>`;if("sheet"===r.openIn)return o`<div class="sheet-modal sheet-modal-router-open-in" data-url="${t}"><div class="sheet-modal-inner"><div class="view"></div></div></div>`;if("popover"===r.openIn)return o`<div class="popover popover-router-open-in" data-url="${t}"><div class="popover-inner"><div class="view"></div></div></div>`;if(r.openIn.indexOf("panel")>=0){const e=r.openIn.split(":"),a=e[1]||"left",n=e[2]||"cover";return o`<div class="panel panel-router-open-in panel-${a} panel-${n}" data-url="${t}"><div class="view"></div></div>`}}},e.navigate(a)},componentLoader(e,t,r,a,n){void 0===r&&(r={});const o=this,{app:s}=o,i="string"==typeof e?e:t,l=o.replaceRequestUrlParams(i,r);function c(e){let t=r.context||{};if("function"==typeof t)t=t.call(o);else if("string"==typeof t)try{t=JSON.parse(t)}catch(e){throw n(e),e}const i=ce({},t,{f7route:r.route,f7router:o}),l=ce(r.route&&r.route.params||{},r.props||{},r.routeProps||{});let c,u;r.componentOptions&&r.componentOptions.el&&(c=r.componentOptions.el),r.componentOptions&&r.componentOptions.root&&(u=r.componentOptions.root),s.component.create(e,l,{context:i,el:c,root:u}).then((e=>{a(e.el)})).catch((e=>{throw n(e),new Error(e,{cause:e})}))}let u;l&&o.params.componentCache&&o.cache.components.forEach((e=>{e.url===l&&(u=e.component)})),l&&u?c(u):l&&!u?(o.xhrAbortController&&(o.xhrAbortController.abort(),o.xhrAbortController=!1),o.xhrRequest(i,r).then((e=>{const t=s.component.parse(e);o.params.componentCache&&o.cache.components.push({url:l,component:t}),c(t)})).catch((e=>{throw n(),e}))):c(e)},modalComponentLoader(e){let{component:t,componentUrl:r,options:a,resolve:n,reject:o}=void 0===e?{}:e;this.componentLoader(t,r,a,(e=>{n(e)}),o)},tabComponentLoader(e){let{component:t,componentUrl:r,options:a,resolve:n,reject:o}=void 0===e?{}:e;this.componentLoader(t,r,a,(e=>{n(e)}),o)},pageComponentLoader(e){let{component:t,componentUrl:r,options:a,resolve:n,reject:o}=void 0===e?{}:e;this.componentLoader(t,r,a,(function(e,t){void 0===t&&(t={}),n(e,t)}),o)}}};const Pt=[!1,null,"",void 0],$t=o.bind((function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return{type:e,props:t||{},children:be(a.filter((e=>Pt.indexOf(e)<0)))}}));function xt(e,t,r,a,n){return{sel:e,data:t,children:r,text:a,elm:n,key:void 0===t?void 0:t.key}}var Et=Array.isArray;function Mt(e){return"string"==typeof e||"number"==typeof e}function Ot(e,t,r){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==t)for(var a=0;a<t.length;++a){var n=t[a].data;void 0!==n&&Ot(n,t[a].children,t[a].sel)}}function Rt(e,t,r){var a,n,o,s={};if(void 0!==r?(s=t,Et(r)?a=r:Mt(r)?n=r:r&&r.sel&&(a=[r])):void 0!==t&&(Et(t)?a=t:Mt(t)?n=t:t&&t.sel?a=[t]:s=t),Et(a))for(o=0;o<a.length;++o)Mt(a[o])&&(a[o]=xt(void 0,void 0,void 0,a[o],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||Ot(s,a,e),xt(e,s,a,n,void 0)}var Tt={};const St="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),Bt="hidden checked disabled readonly selected autofocus autoplay required multiple value indeterminate routeProps innerHTML".split(" "),_t="hidden checked disabled readonly selected autofocus autoplay required multiple readOnly indeterminate".split(" "),At=e=>"function"==typeof e.type?e.type.name||"CustomComponent":e.type,Lt=function(){const e={};for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach((function(t){void 0===t&&(t={}),Object.keys(t).forEach((r=>{var a;e[(a=r,a.split("-").map(((e,t)=>0===t?e.toLowerCase():e[0].toUpperCase()+e.substr(1))).join(""))]=t[r]}))})),e},Dt=e=>"function"==typeof e||e&&e.indexOf("-")>0&&Tt[e];function Ht(e,t,r,a,n){const o={},s=[],i=[],l=[],c=[];let u=!1,p=At(e);t&&t.attrs&&t.attrs.component&&(p=t.attrs.component,delete t.attrs.component,u=!0);const d=Dt(e.type);if(d&&(s.push((a=>{(a.sel===p||u)&&(e=>{let{f7:t,treeNode:r,vnode:a,data:n}=e;const o="function"==typeof r.type?r.type:Tt[r.type];t.component.create(o,Lt(n.attrs||{},n.props||{}),{el:a.elm,children:r.children}).then((e=>{a.data&&a.data.on&&e&&e.$el&&Object.keys(a.data.on).forEach((t=>{e.$el.on(t,a.data.on[t])})),a.elm.__component__=e}))})({f7:r,treeNode:e,vnode:a,data:t})})),i.push((e=>{(e=>{const t=e&&e.elm&&e.elm.__component__;if(t){const{el:r,$el:a}=t;e.data&&e.data.on&&a&&Object.keys(e.data.on).forEach((t=>{a.off(t,e.data.on[t])})),t.destroy&&t.destroy(),r&&r.parentNode&&r.parentNode.removeChild(r),delete e.elm.__component__}})(e)})),l.push(((e,t)=>{(e=>{const t=e&&e.elm&&e.elm.__component__;if(!t)return;const r=Lt(e.data.attrs||{},e.data.props||{});t.children=e.data.treeNode.children,Object.assign(t.props,r),t.update()})(t)}))),!d){if(!t||!t.attrs||!t.attrs.class)return o;t.attrs.class.split(" ").forEach((e=>{a||s.push(...r.getVnodeHooks("insert",e)),i.push(...r.getVnodeHooks("destroy",e)),l.push(...r.getVnodeHooks("update",e)),c.push(...r.getVnodeHooks("postpatch",e))}))}return n&&!a&&c.push(((e,t)=>{const r=t||e;r&&r.data&&r.data.component&&r.data.component.hook("onUpdated")})),0===s.length&&0===i.length&&0===l.length&&0===c.length||(s.length&&(o.insert=e=>{s.forEach((t=>t(e)))}),i.length&&(o.destroy=e=>{i.forEach((t=>t(e)))}),l.length&&(o.update=(e,t)=>{l.forEach((r=>r(e,t)))}),c.length&&(o.postpatch=(e,t)=>{c.forEach((r=>r(e,t)))})),o}const Nt=(e,t,r,a)=>{if(e&&e.type&&St.indexOf(e.type)>=0)return[];const n=[],o=e.children;for(let e=0;e<o.length;e+=1){const s=o[e],i=It(s,t,r,a,!1);Array.isArray(i)?n.push(...i):i&&n.push(i)}return n},It=(e,t,r,a,n)=>{if(!(e=>le(e)&&"props"in e&&"type"in e&&"children"in e)(e))return String(e);if("slot"===e.type)return((e,t,r,a)=>{const n=e.props.name||"default",o=(t.children||[]).filter((e=>{let t="default";return e.props&&(t=e.props.slot||"default"),t===n}));return 0===o.length?Nt(e,t,r,a):o.map((e=>It(e,t,r,a)))})(e,t,r,a);const o=((e,t,r,a,n)=>{const o={component:t,treeNode:e},s=At(e);Object.keys(e.props).forEach((t=>{const r=e.props[t];if(void 0!==r)if(Bt.indexOf(t)>=0)o.props||(o.props={}),"readonly"===t&&(t="readOnly"),"routeProps"===t&&(t="f7RouteProps"),"option"===s&&"value"===t&&(o.attrs||(o.attrs={}),o.attrs.value=r),_t.indexOf(t)>=0?o.props[t]=!1!==r:o.props[t]=r;else if("key"===t)o.key=r;else if(0===t.indexOf("@")||0===t.indexOf("on")&&t.length>2){o.on||(o.on={});let e=0===t.indexOf("@")?t.substr(1):ee(t.substr(2)),a=!1,n=!1,s=!1;e.indexOf(".")>=0&&e.split(".").forEach(((t,r)=>{0===r?e=t:("stop"===t&&(a=!0),"prevent"===t&&(n=!0),"once"===t&&(s=!0))})),o.on[e]=function(e,t){let{stop:r,prevent:a,once:n}=void 0===t?{}:t,o=!1;return function(){const t=arguments.length<=0?void 0:arguments[0];n&&o||(r&&t.stopPropagation(),a&&t.preventDefault(),o=!0,e(...arguments))}}(r,{stop:a,prevent:n,once:s})}else"style"===t?"string"!=typeof r?o.style=r:(o.attrs||(o.attrs={}),o.attrs.style=r):(o.attrs||(o.attrs={}),o.attrs[t]=r,"id"!==t||o.key||n||(o.key=r))}));const i=Ht(e,o,r,a,n);return i.prepatch=(e,t)=>{e&&t&&e&&e.data&&e.data.props&&Object.keys(e.data.props).forEach((r=>{_t.indexOf(r)<0||(t.data||(t.data={}),t.data.props||(t.data.props={}),!0!==e.data.props[r]||r in t.data.props||(t.data.props[r]=!1))}))},o.hook=i,o})(e,t,r,a,n),s=Dt(e.type)?[]:Nt(e,t,r,a);return Rt(At(e),o,s)};function jt(e,t,r){return void 0===e&&(e={}),It(e,t,t.f7,r,!0)}var Ft={createElement:function(e){return document.createElement(e)},createElementNS:function(e,t){return document.createElementNS(e,t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,r){r&&r.parentNode!==e&&r.__component__&&(r=r.__component__.el),e.insertBefore(t,r)},removeChild:function(e,t){e&&e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}};function Ut(e){return void 0===e}function qt(e){return void 0!==e}var Vt=xt("",{},[],void 0,void 0);function zt(e,t){return e.key===t.key&&e.sel===t.sel}function Wt(e,t,r){var a,n,o,s={};for(a=t;a<=r;++a)null!=(o=e[a])&&void 0!==(n=o.key)&&(s[n]=a);return s}var Xt=["create","update","remove","destroy","pre","post"];function Yt(e,t){var r,a=t.elm,n=e.data.attrs,o=t.data.attrs;if((n||o)&&n!==o){for(r in n=n||{},o=o||{}){var s=o[r];n[r]!==s&&(!0===s?a.setAttribute(r,""):!1===s?a.removeAttribute(r):120!==r.charCodeAt(0)?a.setAttribute(r,s):58===r.charCodeAt(3)?a.setAttributeNS("http://www.w3.org/XML/1998/namespace",r,s):58===r.charCodeAt(5)?a.setAttributeNS("http://www.w3.org/1999/xlink",r,s):a.setAttribute(r,s))}for(r in n)r in o||a.removeAttribute(r)}}var Qt={create:Yt,update:Yt};function Gt(e,t){var r,a,n=t.elm,o=e.data.props,s=t.data.props;if((o||s)&&o!==s){for(r in s=s||{},o=o||{})s[r]||delete n[r];for(r in s)a=s[r],o[r]===a||"value"===r&&n[r]===a||(n[r]=a)}}var Kt={create:Gt,update:Gt},Jt="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout;function Zt(e,t,r){var a;a=function(){e[t]=r},Jt((function(){Jt(a)}))}function er(e,t){var r,a,n=t.elm,o=e.data.style,s=t.data.style;if((o||s)&&o!==s){s=s||{};var i="delayed"in(o=o||{});for(a in o)s[a]||("-"===a[0]&&"-"===a[1]?n.style.removeProperty(a):n.style[a]="");for(a in s)if(r=s[a],"delayed"===a&&s.delayed)for(var l in s.delayed)r=s.delayed[l],i&&r===o.delayed[l]||Zt(n.style,l,r);else"remove"!==a&&r!==o[a]&&("-"===a[0]&&"-"===a[1]?n.style.setProperty(a,r):n.style[a]=r)}}var tr={create:er,update:er,destroy:function(e){var t,r,a=e.elm,n=e.data.style;if(n&&(t=n.destroy))for(r in t)a.style[r]=t[r]},remove:function(e,t){var r=e.data.style;if(r&&r.remove){var a,n=e.elm,o=0,s=r.remove,i=0,l=[];for(a in s)l.push(a),n.style[a]=s[a];for(var c=getComputedStyle(n)["transition-property"].split(", ");o<c.length;++o)-1!==l.indexOf(c[o])&&i++;n.addEventListener("transitionend",(function(e){e.target===n&&--i,0===i&&t()}))}else t()}};function rr(e,t){const r=e.data.on,a=e.listener,n=e.elm,o=t&&t.data.on,i=t&&t.elm;if(r!==o&&(r&&a&&(o?Object.keys(r).forEach((e=>{o[e]||s(n).off(e,a)})):Object.keys(r).forEach((e=>{s(n).off(e,a)}))),o)){const a=e.listener||function e(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];!function(e,t,r){const a=e.type,n=r.data.on;n&&n[a]&&function(e,t,r){"function"==typeof e&&e(t,...r)}(n[a],e,t)}(t,a,e.vnode)};t.listener=a,a.vnode=t,r?Object.keys(o).forEach((e=>{r[e]||s(i).on(e,a)})):Object.keys(o).forEach((e=>{s(i).on(e,a)}))}}const ar=function(e,t){var r,a,n={},o=void 0!==t?t:Ft;for(r=0;r<Xt.length;++r)for(n[Xt[r]]=[],a=0;a<e.length;++a){var s=e[a][Xt[r]];void 0!==s&&n[Xt[r]].push(s)}function i(e){var t=e.id?"#"+e.id:"",r=e.className?"."+e.className.split(" ").join("."):"";return xt(o.tagName(e).toLowerCase()+t+r,{},[],void 0,e)}function l(e,t){return function(){if(0==--t){var r=o.parentNode(e);o.removeChild(r,e)}}}function c(e,t){var r,a=e.data;void 0!==a&&qt(r=a.hook)&&qt(r=r.init)&&(r(e),a=e.data);var s=e.children,i=e.sel;if("!"===i)Ut(e.text)&&(e.text=""),e.elm=o.createComment(e.text);else if(void 0!==i){var l=i.indexOf("#"),u=i.indexOf(".",l),p=l>0?l:i.length,d=u>0?u:i.length,h=-1!==l||-1!==u?i.slice(0,Math.min(p,d)):i,f=e.elm=qt(a)&&qt(r=a.ns)?o.createElementNS(r,h):o.createElement(h);for(p<d&&f.setAttribute("id",i.slice(p+1,d)),u>0&&f.setAttribute("class",i.slice(d+1).replace(/\./g," ")),r=0;r<n.create.length;++r)n.create[r](Vt,e);if(Et(s))for(r=0;r<s.length;++r){var m=s[r];null!=m&&o.appendChild(f,c(m,t))}else Mt(e.text)&&o.appendChild(f,o.createTextNode(e.text));qt(r=e.data.hook)&&(r.create&&r.create(Vt,e),r.insert&&t.push(e))}else e.elm=o.createTextNode(e.text);return e.elm}function u(e,t,r,a,n,s){for(;a<=n;++a){var i=r[a];null!=i&&o.insertBefore(e,c(i,s),t)}}function p(e){var t,r,a=e.data;if(void 0!==a){for(qt(t=a.hook)&&qt(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(void 0!==e.children)for(r=0;r<e.children.length;++r)null!=(t=e.children[r])&&"string"!=typeof t&&p(t)}}function d(e,t,r,a){for(;r<=a;++r){var s=void 0,i=void 0,c=void 0,u=t[r];if(null!=u)if(qt(u.sel)){for(p(u),i=n.remove.length+1,c=l(u.elm,i),s=0;s<n.remove.length;++s)n.remove[s](u,c);qt(s=u.data)&&qt(s=s.hook)&&qt(s=s.remove)?s(u,c):c()}else o.removeChild(e,u.elm)}}function h(e,t,r){var a,s;qt(a=t.data)&&qt(s=a.hook)&&qt(a=s.prepatch)&&a(e,t);var i=t.elm=e.elm,l=e.children,p=t.children;if(e!==t){if(void 0!==t.data){for(a=0;a<n.update.length;++a)n.update[a](e,t);qt(a=t.data.hook)&&qt(a=a.update)&&a(e,t)}Ut(t.text)?qt(l)&&qt(p)?l!==p&&function(e,t,r,a){for(var n,s,i,l=0,p=0,f=t.length-1,m=t[0],g=t[f],v=r.length-1,b=r[0],y=r[v];l<=f&&p<=v;)null==m?m=t[++l]:null==g?g=t[--f]:null==b?b=r[++p]:null==y?y=r[--v]:zt(m,b)?(h(m,b,a),m=t[++l],b=r[++p]):zt(g,y)?(h(g,y,a),g=t[--f],y=r[--v]):zt(m,y)?(h(m,y,a),o.insertBefore(e,m.elm,o.nextSibling(g.elm)),m=t[++l],y=r[--v]):zt(g,b)?(h(g,b,a),o.insertBefore(e,g.elm,m.elm),g=t[--f],b=r[++p]):(void 0===n&&(n=Wt(t,l,f)),Ut(s=n[b.key])?(o.insertBefore(e,c(b,a),m.elm),b=r[++p]):((i=t[s]).sel!==b.sel?o.insertBefore(e,c(b,a),m.elm):(h(i,b,a),t[s]=void 0,o.insertBefore(e,i.elm,m.elm)),b=r[++p]));(l<=f||p<=v)&&(l>f?u(e,null==r[v+1]?null:r[v+1].elm,r,p,v,a):d(e,t,l,f))}(i,l,p,r):qt(p)?(qt(e.text)&&o.setTextContent(i,""),u(i,null,p,0,p.length-1,r)):qt(l)?d(i,l,0,l.length-1):qt(e.text)&&o.setTextContent(i,""):e.text!==t.text&&o.setTextContent(i,t.text),qt(s)&&qt(a=s.postpatch)&&a(e,t)}}return function(e,t){var r,a,s,l=[];for(r=0;r<n.pre.length;++r)n.pre[r]();for(function(e){return void 0!==e.sel}(e)||(e=i(e)),zt(e,t)?h(e,t,l):(a=e.elm,s=o.parentNode(a),c(t,l),null!==s&&(o.insertBefore(s,t.elm,o.nextSibling(a)),d(s,[e],0,0))),r=0;r<l.length;++r)l[r].data.hook.insert(l[r]);for(r=0;r<n.post.length;++r)n.post[r]();return t}}([Qt,Kt,tr,{create:rr,update:rr,destroy:rr}]),nr=[!1,null,"",void 0],or=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];const o=be((a||[]).filter((e=>nr.indexOf(e)<0)));return"Fragment"===e?o:{type:e,props:t||{},children:o}},sr=[{name:"array",init:e=>e,type:e=>[e].find(Array.isArray),update:(e,t)=>[t].filter(Array.isArray).find((()=>(e.length=0,e.push(...t)))),insert:function(e,t,r){return void 0===r&&(r=[]),e.splice(Math.max(t,0),0,...[r].flat())},replace:function(e,t,r){return void 0===r&&(r=[]),e.splice(Math.max(t,0),Math.min(++t,1),...[r].flat())},append:function(e,t){return void 0===t&&(t=[]),e.push(...[t].flat())},prepend:function(e,t){return void 0===t&&(t=[]),e.unshift(...[t].flat())},swap:(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},fromTo:function(e,t,r){return void 0===r&&(r=t),e.splice(Math.max(r,0),0,...e.splice(Math.max(t,0),1))},remove:function(e,t,r){return void 0===r&&(r=e.map(((e,t)=>t))),[t].flat().filter((e=>r.includes(e))).sort(((e,t)=>t-e)).forEach((t=>e.splice(t,1)))},clear:e=>e.length=0},{name:"object",init:e=>e,type:e=>[e].filter((e=>[null!==e,void 0!==e].every((e=>e)))).find((e=>Object.getPrototypeOf(e)===Object.prototype)),update:(e,t)=>Object.assign(e,t),insert:()=>{},replace:()=>{},append:()=>{},prepend:()=>{},swap:()=>({}),fromTo:()=>({}),remove:(e,t)=>[t].flat().forEach((t=>delete e[t])),clear:e=>Object.keys(e).forEach((t=>delete e[t]))},{name:"atoms",type:()=>!0,init:function(e,t){return void 0===t&&(t={}),Object.defineProperty(t,"value",{get:()=>e,set:t=>{e=t}}),t},update:function(e,t){void 0===t&&(t=e.value),e.value=t},insert:()=>({}),replace:()=>({}),append:()=>({}),prepend:()=>({}),swap:()=>({}),fromTo:()=>({}),remove:()=>({}),clear:e=>{e.value=void 0}}];class ir{constructor(e,t,a,n){void 0===a&&(a={});let{el:o,context:i,children:l}=void 0===n?{}:n;const c=r();ce(this,{f7:e,props:a||{},context:i||{},id:t.id||K(),children:l||[],theme:{ios:"ios"===e.theme,md:"md"===e.theme},style:t.style,__updateQueue:[],__eventHandlers:[],__onceEventHandlers:[],__onBeforeMount:[],__onMounted:[],__onBeforeUpdate:[],__onUpdated:[],__onBeforeUnmount:[],__onUnmounted:[]});const u=()=>t(this.props,this.getComponentContext(!0));return new Promise(((e,t)=>{(e=>new Promise(((t,r)=>{"function"==typeof e?t(e):e instanceof Promise?e.then((e=>{t(e)})).catch((e=>{r(e)})):r(new Error('Framework7: Component render function is not a "function" type. Didn\'t you forget to "return $render"?'))})))(u()).then((t=>{this.renderFunction=t;const r=this.render();if(o)return this.vnode=jt(r,this,!0),this.style&&(this.styleEl=c.createElement("style"),this.styleEl.innerHTML=this.style),this.el=o,ar(this.el,this.vnode),this.el=this.vnode.elm,this.$el=s(this.el),this.attachEvents(),this.el.f7Component=this,this.mount(),void e(this);r&&(this.vnode=jt(r,this,!0),this.el=c.createElement(this.vnode.sel||"div"),ar(this.el,this.vnode),this.$el=s(this.el)),this.style&&(this.styleEl=c.createElement("style"),this.styleEl.innerHTML=this.style),this.attachEvents(),this.el&&(this.el.f7Component=this),e(this)})).catch((e=>{t(e)}))}))}on(e,t){this.__eventHandlers&&this.__eventHandlers.push({eventName:e,handler:t})}once(e,t){this.__eventHandlers&&this.__onceEventHandlers.push({eventName:e,handler:t})}getComponentRef(){const e=this;return t=>{let r=t;const a={};return Object.defineProperty(a,"value",{get:()=>r,set(t){r=t,e.update()}}),a}}getComponentStore(){const{state:e,_gettersPlain:t,dispatch:r}=this.f7.store,a={state:e,dispatch:r};return a.getters=new Proxy(t,{get:(e,t)=>{const r=e[t];return r.onUpdated((e=>{r.value=e,this.update()})),r}}),a}getUseState(){var e=this;return t=>{const r=[t].reduce((function(t,r,a,n,o){return void 0===o&&(o=t.init(r)),{state:o,update:r=>(t.update(o,r),e.update()),remove:r=>(t.remove(o,r),e.update()),clear:()=>(t.clear(o),e.update()),insert:(r,a)=>(t.insert(o,r,a),e.update()),replace:(r,a)=>(t.replace(o,r,a),e.update()),append:r=>(t.append(o,r),e.update()),prepend:r=>(t.prepend(o,r),e.update()),swap:(r,a)=>(t.swap(o,r,a),e.update()),fromTo:(r,a)=>(t.fromTo(o,r,a),e.update()),method:function(t){return void 0===t&&(t=()=>({})),t(o),e.update()},async:function(t){return void 0===t&&(t=()=>Promise.reject(o)),t(o).then((()=>e.update()))}}}),sr.find((e=>e.type(t))));return r.length=12,r[Symbol.iterator]=function(){const e=Object.values(this);e.splice(e.indexOf(12),1);let t=0;return{next(){if(t<e.length){const r=e[t];return t+=1,{value:r,done:!1}}return{done:!0}}}},r}}getComponentContext(e){const t={$f7route:this.context.f7route,$f7router:this.context.f7router,$h:$t,$:s,$id:this.id,$f7:this.f7,$f7ready:this.f7ready.bind(this),$theme:this.theme,$tick:this.tick.bind(this),$update:this.update.bind(this),$emit:this.emit.bind(this),$store:this.getComponentStore(),$ref:this.getComponentRef(),$el:{},$useState:this.getUseState()};return Object.defineProperty(t.$el,"value",{get:()=>this.$el}),e&&Object.assign(t,{$on:this.on.bind(this),$once:this.once.bind(this),$onBeforeMount:e=>this.__onBeforeMount.push(e),$onMounted:e=>this.__onMounted.push(e),$onBeforeUpdate:e=>this.__onBeforeUpdate.push(e),$onUpdated:e=>this.__onUpdated.push(e),$onBeforeUnmount:e=>this.__onBeforeUnmount.push(e),$onUnmounted:e=>this.__onUnmounted.push(e)}),t}render(){return this.renderFunction(this.getComponentContext())}emit(e,t){this.el&&this.$el.trigger(e,t)}attachEvents(){const{$el:e}=this;this.__eventHandlers&&(this.__eventHandlers.forEach((t=>{let{eventName:r,handler:a}=t;e.on(ee(r),a)})),this.__onceEventHandlers.forEach((t=>{let{eventName:r,handler:a}=t;e.once(ee(r),a)})))}detachEvents(){const{$el:e}=this;this.__eventHandlers&&(this.__eventHandlers.forEach((t=>{let{eventName:r,handler:a}=t;e.on(ee(r),a)})),this.__onceEventHandlers.forEach((t=>{let{eventName:r,handler:a}=t;e.once(ee(r),a)})))}startUpdateQueue(){const e=t();if(this.__requestAnimationFrameId)return;const r=()=>{this.hook("onBeforeUpdate");const e=this.render();if(e){const t=jt(e,this,!1);this.vnode=ar(this.vnode,t)}};this.__requestAnimationFrameId=e.requestAnimationFrame((()=>{this.__updateIsPending&&r();let t=[...this.__updateQueue];this.__updateQueue=[],this.__updateIsPending=!1,e.cancelAnimationFrame(this.__requestAnimationFrameId),delete this.__requestAnimationFrameId,delete this.__updateIsPending,t.forEach((e=>e())),t=[]}))}tick(e){return new Promise((t=>{this.__updateQueue.push((function(){t(),e&&e()})),this.startUpdateQueue()}))}update(e){return this.__destroyed?new Promise((()=>{})):new Promise((t=>{this.__updateIsPending=!0,this.__updateQueue.push((()=>{t(),e&&e()})),this.startUpdateQueue()}))}setState(e){return this.update(e)}f7ready(e){this.f7.initialized?e(this.f7):this.f7.once("init",(()=>{e(this.f7)}))}mount(e){this.hook("onBeforeMount",this.$el),this.styleEl&&s("head").append(this.styleEl),e&&e(this.el),this.hook("onMounted",this.$el)}destroy(){if(this.__destroyed)return;const e=t();this.hook("onBeforeUnmount"),this.styleEl&&s(this.styleEl).remove(),this.detachEvents(),this.hook("onUnmounted"),this.el&&this.el.f7Component&&(this.el.f7Component=null,delete this.el.f7Component),this.vnode&&(this.vnode=ar(this.vnode,{sel:this.vnode.sel,data:{}})),e.cancelAnimationFrame(this.__requestAnimationFrameId),this.__updateQueue=[],this.__eventHandlers=[],this.__onceEventHandlers=[],this.__onBeforeMount=[],this.__onMounted=[],this.__onBeforeUpdate=[],this.__onUpdated=[],this.__onBeforeUnmount=[],this.__onUnmounted=[],te(this),this.__destroyed=!0}hook(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.__destroyed||this[`__${e}`].forEach((e=>{e(...r)}))}}function lr(e){const a=t(),n=r(),o=K(),i=`f7_component_create_callback_${o}`;let l;e.match(/<template([ ]?)([a-z0-9-]*)>/)&&(l=e.split(/<template[ ]?[a-z0-9-]*>/).filter(((e,t)=>t>0)).join("<template>").split("</template>").filter(((e,t,r)=>t<r.length-1)).join("</template>").replace(/{{#raw}}([ \n]*)<template/g,"{{#raw}}<template").replace(/\/template>([ \n]*){{\/raw}}/g,"/template>{{/raw}}").replace(/([ \n])<template/g,"$1{{#raw}}<template").replace(/\/template>([ \n])/g,"/template>{{/raw}}$1"));let c,u=null;if(e.indexOf("<style>")>=0&&(u=e.split("<style>")[1].split("</style>")[0]),e.indexOf("<style scoped>")>=0&&(u=e.split("<style scoped>")[1].split("</style>")[0]),e.indexOf("<script>")>=0){const t=e.split("<script>");c=t[t.length-1].split("<\/script>")[0].trim()}else c="return () => {return $render}";c&&c.trim()||(c="return () => {return $render}"),l&&(c=c.replace("$render",`function ($$ctx) {\n          var $ = $$ctx.$$;\n          var $h = $$ctx.$h;\n          var $root = $$ctx.$root;\n          var $f7 = $$ctx.$f7;\n          var $f7route = $$ctx.$f7route;\n          var $f7router = $$ctx.$f7router;\n          var $theme = $$ctx.$theme;\n          var $update = $$ctx.$update;\n          var $store = $$ctx.$store;\n          var $ref = $$ctx.$ref;\n          var $useState = $$ctx.$useState;\n\n          return $h\`${l}\`\n        }\n        `).replace(/export default/g,"return")),c=`window.${i} = function () {${c}}`;const p=n.createElement("script");p.innerHTML=c,s("head").append(p);const d=a[i]();return s(p).remove(),a[i]=null,delete a[i],u&&(d.style=u),d.id=o,d}function cr(e,t){Tt[e]=t}function ur(e){delete Tt[e]}ir.$jsx=or;var pr={name:"component",static:{Component:ir,parseComponent:lr,registerComponent:cr,unregisterComponent:ur},create(){const e=this;e.component={registerComponent:cr,unregisterComponent:ur,parse:e=>lr(e),create(t,r,a){let{root:n,el:o,context:s,children:i}=a;return new ir(e,t,r,{root:n,el:o,context:s,children:i})}}}},dr={name:"history",static:{history:st},on:{init(){st.init(this)}}};const hr={registrations:[],register(e,r){const a=this;return"serviceWorker"in t().navigator&&a.serviceWorker.container?new Promise(((t,n)=>{a.serviceWorker.container.register(e,r?{scope:r}:{}).then((e=>{hr.registrations.push(e),a.emit("serviceWorkerRegisterSuccess",e),t(e)})).catch((e=>{a.emit("serviceWorkerRegisterError",e),n(e)}))})):new Promise(((e,t)=>{t(new Error("Service worker is not supported"))}))},unregister(e){const r=this;if(!("serviceWorker"in t().navigator)||!r.serviceWorker.container)return new Promise(((e,t)=>{t(new Error("Service worker is not supported"))}));let a;return a=e?Array.isArray(e)?e:[e]:hr.registrations,Promise.all(a.map((e=>new Promise(((t,a)=>{e.unregister().then((()=>{hr.registrations.indexOf(e)>=0&&hr.registrations.splice(hr.registrations.indexOf(e),1),r.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((t=>{r.emit("serviceWorkerUnregisterError",e,t),a(t)}))})))))}};var fr={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create(){const e=this,r=t();ue(e,{serviceWorker:{container:"serviceWorker"in r.navigator?r.navigator.serviceWorker:void 0,registrations:hr.registrations,register:hr.register.bind(e),unregister:hr.unregister.bind(e)}})},on:{init(){const e=t();if(!("serviceWorker"in e.navigator))return;const r=this;if(r.device.cordova||e.Capacitor&&e.Capacitor.isNative)return;if(!r.serviceWorker.container)return;const a=r.params.serviceWorker.path,n=r.params.serviceWorker.scope;if(!a||Array.isArray(a)&&!a.length)return;(Array.isArray(a)?a:[a]).forEach((e=>{r.serviceWorker.register(e,n)}))}}};function mr(e){void 0===e&&(e={});const t={__store:!0},r={...e.state||{}},a={...e.actions||{}},n={...e.getters||{}},o=ue({},r);let s=[];const i={},l={};Object.keys(n).forEach((e=>{i[e]=[],l[e]=[]}));const c=e=>n[e]({state:t.state}),u=(e,t)=>{l[e]||(l[e]=[]),l[e].push(t)};t.__removeCallback=e=>{(e=>{Object.keys(l).forEach((t=>{const r=l[t];r.indexOf(e)>=0&&r.splice(r.indexOf(e),1)}))})(e)};const p=function(e,t){if(void 0===t&&(t=!0),"constructor"===e)return;s=[];const r=c(e);((e,t)=>{i[e]||(i[e]=[]),t.forEach((t=>{i[e].indexOf(t)<0&&i[e].push(t)}))})(e,s);const a={value:r,onUpdated:t=>{u(e,t)}};if(!t)return a;const n=e=>{a.value=e};return a.__callback=n,u(e,n),a};return t.state=new Proxy(o,{set:(e,t,r)=>{var a;return e[t]=r,a=t,Object.keys(i).filter((e=>i[e].indexOf(a)>=0)).forEach((e=>{l[e]&&l[e].length&&l[e].forEach((t=>{t(c(e))}))})),!0},get:(e,t)=>(s.push(t),e[t])}),t.getters=new Proxy(n,{set:()=>!1,get:(e,t)=>{if(e[t])return p(t,!0)}}),t._gettersPlain=new Proxy(n,{set:()=>!1,get:(e,t)=>{if(e[t])return p(t,!1)}}),t.dispatch=(e,r)=>new Promise(((n,o)=>{if(!a[e])throw o(),new Error(`Framework7: Store action "${e}" is not found`);n(a[e]({state:t.state,dispatch:t.dispatch},r))})),t}var gr={name:"store",static:{createStore:mr},proto:{createStore:mr}};const vr=()=>{const e=t();return e.Capacitor&&e.Capacitor.isNative&&e.Capacitor.Plugins&&e.Capacitor.Plugins.StatusBar},br={hide(){const e=t();Qe().cordova&&e.StatusBar&&e.StatusBar.hide(),vr()&&e.Capacitor.Plugins.StatusBar.hide()},show(){const e=t();Qe().cordova&&e.StatusBar&&e.StatusBar.show(),vr()&&e.Capacitor.Plugins.StatusBar.show()},onClick(){const e=this;let t;t=s(".popup.modal-in").length>0?s(".popup.modal-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):s(".panel.panel-in").length>0?s(".panel.panel-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):s(".views > .view.tab-active").length>0?s(".views > .view.tab-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):s(".views").length>0?s(".views").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):e.$el.children(".view").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"),t&&t.length>0&&(t.hasClass("tab")&&(t=t.parent(".tabs").children(".page-content.tab-active")),t.length>0&&t.scrollTop(0,300))},setTextColor(e){const r=t();Qe().cordova&&r.StatusBar&&("white"===e?r.StatusBar.styleLightContent():r.StatusBar.styleDefault()),vr()&&("white"===e?r.Capacitor.Plugins.StatusBar.setStyle({style:"DARK"}):r.Capacitor.Plugins.StatusBar.setStyle({style:"LIGHT"}))},setBackgroundColor(e){const r=t();Qe().cordova&&r.StatusBar&&r.StatusBar.backgroundColorByHexString(e),vr()&&r.Capacitor.Plugins.StatusBar.setBackgroundColor({color:e})},isVisible(){const e=t(),r=Qe();return new Promise((t=>{r.cordova&&e.StatusBar&&t(e.StatusBar.isVisible),vr()&&e.Capacitor.Plugins.StatusBar.getInfo().then((e=>{t(e.visible)})),t(!1)}))},overlaysWebView(e){void 0===e&&(e=!0);const r=t();Qe().cordova&&r.StatusBar&&r.StatusBar.overlaysWebView(e),vr()&&r.Capacitor.Plugins.StatusBar.setOverlaysWebView({overlay:e})},init(){const e=this,r=t(),a=Qe(),n=e.params.statusbar;if(!n.enabled)return;const o=a.cordova&&r.StatusBar,i=vr();(o||i)&&(n.scrollTopOnClick&&s(r).on("statusTap",br.onClick.bind(e)),a.ios&&(n.iosOverlaysWebView?br.overlaysWebView(!0):br.overlaysWebView(!1),"white"===n.iosTextColor?br.setTextColor("white"):br.setTextColor("black")),a.android&&(n.androidOverlaysWebView?br.overlaysWebView(!0):br.overlaysWebView(!1),"white"===n.androidTextColor?br.setTextColor("white"):br.setTextColor("black"))),n.iosBackgroundColor&&a.ios&&br.setBackgroundColor(n.iosBackgroundColor),n.androidBackgroundColor&&a.android&&br.setBackgroundColor(n.androidBackgroundColor)}};var yr={name:"statusbar",params:{statusbar:{enabled:!0,scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:"black",iosBackgroundColor:null,androidOverlaysWebView:!1,androidTextColor:"black",androidBackgroundColor:null}},create(){ve(this,{statusbar:br})},on:{init(){br.init.call(this)}}};var wr={name:"view",params:{view:{init:!0,initRouterOnTabShow:!1,name:void 0,main:!1,router:!0,linksView:null,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,componentCache:!0,preloadPreviousPage:!0,allowDuplicateUrls:!1,reloadPages:!1,reloadDetail:!1,masterDetailBreakpoint:0,masterDetailResizable:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,loadInitialPage:!0,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,browserHistory:!1,browserHistoryRoot:void 0,browserHistoryAnimate:!0,browserHistoryAnimateOnLoad:!1,browserHistorySeparator:"#!",browserHistoryOnLoad:!0,browserHistoryInitialMatch:!1,browserHistoryStoreHistory:!0,browserHistoryTabs:"replace",animate:!0,iosDynamicNavbar:!0,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,mdPageLoadDelay:0,routesBeforeEnter:null,routesBeforeLeave:null}},static:{View:wt},create(){const e=this;ue(e,{views:ue([],{create:(t,r)=>new wt(e,t,r),get(e){const t=s(e);if(t.length&&t[0].f7View)return t[0].f7View}})}),Object.defineProperty(e.views,"current",{enumerable:!0,configurable:!0,get:()=>function(e){const t=s(".popover.modal-in .view"),r=s(".popup.modal-in .view"),a=s(".panel.panel-in .view");let n=s(".views");0===n.length&&(n=e.$el);let o=n.children(".view");if(0===o.length&&(o=n.children(".tabs").children(".view")),o.length>1&&o.hasClass("tab")&&(o=n.children(".view.tab-active"),0===o.length&&(o=n.children(".tabs").children(".view.tab-active"))),t.length>0&&t[0].f7View)return t[0].f7View;if(r.length>0&&r[0].f7View)return r[0].f7View;if(a.length>0&&a[0].f7View)return a[0].f7View;if(o.length>0){if(1===o.length&&o[0].f7View)return o[0].f7View;if(o.length>1)return e.views.main}}(e)}),e.view=e.views},on:{init(){const e=this;s(".view-init").each((t=>{if(t.f7View)return;const r=s(t).dataset();e.views.create(t,r)}))},"modalOpen panelOpen":function(e){const t=this;e.$el.find(".view-init").each((e=>{if(e.f7View)return;const r=s(e).dataset();t.views.create(e,r)}))},"modalBeforeDestroy panelBeforeDestroy":function(e){e&&e.$el&&e.$el.find(".view-init").each((e=>{const t=e.f7View;t&&t.destroy()}))}},vnode:{"view-init":{insert(e){const t=e.elm;if(t.f7View)return;const r=s(t).dataset();this.views.create(t,r)},destroy(e){const t=e.elm.f7View;t&&t.destroy()}}}};const Cr={size(e){const t=this;let r=s(e);if(r.hasClass("navbars"))return void(r=r.children(".navbar").each((e=>{t.navbar.size(e)})));const a=r.children(".navbar-inner");if(!a.length)return;const n=a.hasClass("navbar-inner-centered-title")||t.params.navbar[`${t.theme}CenterTitle`],o="ios"===t.theme&&!t.params.navbar[`${t.theme}CenterTitle`];if(!n&&!o)return;if(r.parents(".tab:not(.tab-active)").length>0||r.parents(".popup:not(.modal-in)").length>0)return;"ios"!==t.theme&&t.params.navbar[`${t.theme}CenterTitle`]&&a.addClass("navbar-inner-centered-title"),"ios"!==t.theme||t.params.navbar.iosCenterTitle||a.addClass("navbar-inner-left-title");const i=r.parents(".view").eq(0),l=t.rtl?a.children(".right"):a.children(".left"),c=t.rtl?a.children(".left"):a.children(".right"),u=a.children(".title"),p=a.children(".subnavbar"),d=0===l.length,h=0===c.length,f=d?0:l.outerWidth(!0),m=h?0:c.outerWidth(!0),g=u.outerWidth(!0),v=a.styles(),b=a[0].offsetWidth-parseInt(v.paddingLeft,10)-parseInt(v.paddingRight,10),y=r.hasClass("navbar-previous"),w=a.hasClass("sliding");let C,k,P,$;i.length>0&&i[0].f7View&&(C=i[0].f7View.router,k=C&&C.dynamicNavbar),h&&(P=b-g),d&&(P=0),d||h||(P=(b-m-g+f)/2);let x=(b-g)/2;b-f-m>g?(x<f&&(x=f),x+g>b-m&&(x=b-m-g),$=x-P):$=0;const E=t.rtl?-1:1;if(k&&"ios"===t.theme){if(u.hasClass("sliding")||u.length>0&&w){let e=-(P+$)*E;const t=(b-P-$-g)*E;if(y&&C&&C.params.iosAnimateNavbarBackIcon){const t=r.parent().find(".navbar-current").children(".left.sliding").find(".back .icon ~ span");t.length>0&&(e+=t[0].offsetLeft)}u[0].f7NavbarLeftOffset=e,u[0].f7NavbarRightOffset=t}if(!d&&(l.hasClass("sliding")||w))if(t.rtl)l[0].f7NavbarLeftOffset=-(b-l[0].offsetWidth)/2*E,l[0].f7NavbarRightOffset=f*E;else if(l[0].f7NavbarLeftOffset=-f,l[0].f7NavbarRightOffset=(b-l[0].offsetWidth)/2,C&&C.params.iosAnimateNavbarBackIcon&&l.find(".back .icon").length>0&&l.find(".back .icon ~ span").length){const e=l[0].f7NavbarLeftOffset,t=l[0].f7NavbarRightOffset;l[0].f7NavbarLeftOffset=0,l[0].f7NavbarRightOffset=0,l.find(".back .icon ~ span")[0].f7NavbarLeftOffset=e,l.find(".back .icon ~ span")[0].f7NavbarRightOffset=t-l.find(".back .icon")[0].offsetWidth}h||!c.hasClass("sliding")&&!w||(t.rtl?(c[0].f7NavbarLeftOffset=-m*E,c[0].f7NavbarRightOffset=(b-c[0].offsetWidth)/2*E):(c[0].f7NavbarLeftOffset=-(b-c[0].offsetWidth)/2,c[0].f7NavbarRightOffset=m)),p.length&&(p.hasClass("sliding")||w)&&(p[0].f7NavbarLeftOffset=t.rtl?p[0].offsetWidth:-p[0].offsetWidth,p[0].f7NavbarRightOffset=-p[0].f7NavbarLeftOffset)}if(n){let e=$;t.rtl&&d&&h&&u.length>0&&(e=-e),u.css({left:`${e}px`})}},hide(e,t,r,a){void 0===t&&(t=!0),void 0===r&&(r=!1),void 0===a&&(a=!1);const n=this;let o=s(e);const i=o.hasClass("navbar")&&o.parent(".navbars").length&&!a;if(i&&(o=o.parents(".navbars")),!o.length)return;if(o.hasClass("navbar-hidden"))return;let l="navbar-hidden"+(t?" navbar-transitioning":"");(i?o.find(".navbar-current .title-large").length:o.find(".title-large").length)&&(l+=" navbar-large-hidden"),r&&(l+=" navbar-hidden-statusbar"),o.transitionEnd((()=>{o.removeClass("navbar-transitioning")})),o.addClass(l),i?o.children(".navbar").each((e=>{s(e).trigger("navbar:hide"),n.emit("navbarHide",e)})):(o.trigger("navbar:hide"),n.emit("navbarHide",o[0]))},show(e,t,r){void 0===e&&(e=".navbar-hidden"),void 0===t&&(t=!0),void 0===r&&(r=!1);const a=this;let n=s(e);const o=n.hasClass("navbar")&&n.parent(".navbars").length&&!r;o&&(n=n.parents(".navbars")),n.length&&n.hasClass("navbar-hidden")&&(t&&(n.addClass("navbar-transitioning"),n.transitionEnd((()=>{n.removeClass("navbar-transitioning")}))),n.removeClass("navbar-hidden navbar-large-hidden navbar-hidden-statusbar"),o?n.children(".navbar").each((e=>{s(e).trigger("navbar:show"),a.emit("navbarShow",e)})):(n.trigger("navbar:show"),a.emit("navbarShow",n[0])))},getElByPage(e){let t,r,a;if(e.$navbarEl||e.$el?(a=e,t=e.$el):(t=s(e),t.length>0&&(a=t[0].f7Page)),a&&a.$navbarEl&&a.$navbarEl.length>0?r=a.$navbarEl:t&&(r=t.children(".navbar")),r&&(!r||0!==r.length))return r[0]},getPageByEl(e){const t=s(e);if(t.parents(".page").length)return t.parents(".page")[0];let r;return t.parents(".view").find(".page").each((e=>{e&&e.f7Page&&e.f7Page.navbarEl&&t[0]===e.f7Page.navbarEl&&(r=e)})),r},collapseLargeTitle(e){const t=this;let r=s(e);if(r.hasClass("navbars")&&(r=r.find(".navbar"),r.length>1&&(r=s(e).find(".navbar-large.navbar-current")),r.length>1||!r.length))return;const a=s(t.navbar.getPageByEl(r));r.addClass("navbar-large-collapsed"),a.eq(0).addClass("page-with-navbar-large-collapsed").trigger("page:navbarlargecollapsed"),t.emit("pageNavbarLargeCollapsed",a[0]),r.trigger("navbar:collapse"),t.emit("navbarCollapse",r[0])},expandLargeTitle(e){const t=this;let r=s(e);if(r.hasClass("navbars")&&(r=r.find(".navbar-large"),r.length>1&&(r=s(e).find(".navbar-large.navbar-current")),r.length>1||!r.length))return;const a=s(t.navbar.getPageByEl(r));r.removeClass("navbar-large-collapsed"),a.eq(0).removeClass("page-with-navbar-large-collapsed").trigger("page:navbarlargeexpanded"),t.emit("pageNavbarLargeExpanded",a[0]),r.trigger("navbar:expand"),t.emit("navbarExpand",r[0])},toggleLargeTitle(e){const t=this;let r=s(e);r.hasClass("navbars")&&(r=r.find(".navbar-large"),r.length>1&&(r=s(e).find(".navbar-large.navbar-current")),r.length>1||!r.length)||(r.hasClass("navbar-large-collapsed")?t.navbar.expandLargeTitle(r):t.navbar.collapseLargeTitle(r))},initNavbarOnScroll(e,t,r,a,n){const o=this,i=Xe(),l=s(e),c=s(t),u=c.find(".title-large"),p=u.length||c.hasClass(".navbar-large");let d=44;const h=o.params.navbar.snapPageScrollToLargeTitle,f=o.params.navbar.snapPageScrollToTransparentNavbar;let m,g,v,b,y,w,C,k,P,$,x,E,M,O;(a||r&&p)&&(P=c.css("--f7-navbar-large-title-height"),P&&P.indexOf("px")>=0?(P=parseInt(P,10),Number.isNaN(P)&&u.length?P=u[0].offsetHeight:Number.isNaN(P)&&("ios"===o.theme?P=52:"md"===o.theme&&(P=88))):u.length?P=u[0].offsetHeight:"ios"===o.theme?P=52:"md"===o.theme&&(P=88)),r&&p&&(d+=P);function R(){l.find(".page-content").each((e=>{e.f7ScrollableDistance=e.scrollHeight-e.offsetHeight}))}function T(){c.hasClass("with-searchbar-expandable-enabled")||!E||g<0||(g>=P/2&&g<P?s(E).scrollTop(P,100):g<P&&s(E).scrollTop(0,200))}function S(){c.hasClass("with-searchbar-expandable-enabled")||!E||g<0||(g>=$/2&&g<$?s(E).scrollTop($,100):g<$&&s(E).scrollTop(0,200))}let B=null,_=null;function A(e){E=this,e&&e.target&&e.target!==E||(g=E.scrollTop,x=g,a?function(e){if(c.hasClass("navbar-hidden")||c.parent(".navbars").hasClass("navbar-hidden"))return;const t=c.hasClass("navbar-large-transparent")||c.hasClass("navbar-large")&&c.hasClass("navbar-transparent");B=_;const r=Math.min(P,e.f7ScrollableDistance||P);_=Math.min(Math.max(g/r,0),1);const a=B>0&&B<1;if(c.hasClass("with-searchbar-expandable-enabled"))return;k=c.hasClass("navbar-large-collapsed");const n=c.find(".navbar-bg");0===_&&k?o.navbar.expandLargeTitle(c[0]):1!==_||k||o.navbar.collapseLargeTitle(c[0]),0===_&&k||0===_&&a||1===_&&!k||1===_&&a?("md"===o.theme&&c.find(".navbar-inner").css("overflow",""),c.find(".title").css("opacity",""),c.find(".title-large-text, .subnavbar").css("transform",""),c.find(".title-large-text").css("opacity",""),t&&n.css("opacity",""),n.css("transform","")):_>0&&_<1&&("md"===o.theme&&c.find(".navbar-inner").css("overflow","visible"),c.find(".title").css("opacity",1.5*_-.5),c.find(".title-large-text, .subnavbar").css("transform",`translate3d(0px, ${-1*_*P}px, 0)`),c.find(".title-large-text").css("opacity",1-2*_),t&&n.css("opacity",_),n.css("transform",`translate3d(0px, ${-1*_*P}px, 0)`)),h&&(i.touch?O&&(clearTimeout(O),O=null,O=setTimeout((()=>{T(),clearTimeout(O),O=null}),70)):(clearTimeout(M),M=setTimeout((()=>{T()}),300)))}(E):n&&function(){const e=c.hasClass("navbar-hidden")||c.parent(".navbars").hasClass("navbar-hidden");if(c.hasClass("with-searchbar-expandable-enabled")||e)return;$||($=t.offsetHeight);let r=g/$;const a=c.hasClass("navbar-transparent-visible");if(r=Math.max(Math.min(r,1),0),a&&1===r||!a&&0===r)c.find(".navbar-bg, .title").css("opacity","");else{if(a&&0===r)return c.trigger("navbar:transparenthide"),o.emit("navbarTransparentHide",c[0]),c.removeClass("navbar-transparent-visible"),void c.find(".navbar-bg, .title").css("opacity","");if(!a&&1===r)return c.trigger("navbar:transparentshow"),o.emit("navbarTransparentShow",c[0]),c.addClass("navbar-transparent-visible"),void c.find(".navbar-bg, .title").css("opacity","");c.find(".navbar-bg, .title").css("opacity",r),f&&(i.touch?O&&(clearTimeout(O),O=null,O=setTimeout((()=>{S(),clearTimeout(O),O=null}),70)):(clearTimeout(M),M=setTimeout((()=>{S()}),300)))}}(),l.hasClass("page-previous")||r&&(l.hasClass("page-with-card-opened")||(v=E.scrollHeight,b=E.offsetHeight,y=g+b>=v,C=c.hasClass("navbar-hidden")||c.parent(".navbars").hasClass("navbar-hidden"),y?o.params.navbar.showOnPageScrollEnd&&(w="show"):w=m>g?o.params.navbar.showOnPageScrollTop||g<=d?"show":"hide":g>d?"hide":"show","show"===w&&C?(o.navbar.show(c,!0,!0),C=!1):"hide"!==w||C||(o.navbar.hide(c,!0,!1,!0),C=!0),m=g)))}function L(){x=!1}function D(){clearTimeout(O),O=null,O=setTimeout((()=>{!1!==x&&(n&&!a?S():T(),clearTimeout(O),O=null)}),70)}l.on("scroll",".page-content",A,!0),i.touch&&(a&&h||n&&f)&&(o.on("touchstart:passive",L),o.on("touchend:passive",D)),R(),(a||n)&&l.find(".page-content").each((e=>{e.scrollTop>0&&A.call(e)})),o.on("resize",R),l[0].f7DetachNavbarScrollHandlers=function(){o.off("resize",R),delete l[0].f7DetachNavbarScrollHandlers,l.off("scroll",".page-content",A,!0),i.touch&&(a&&h||n&&f)&&(o.off("touchstart:passive",L),o.off("touchend:passive",D))}}};var kr={name:"navbar",create(){ve(this,{navbar:Cr})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,mdCenterTitle:!1,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0,collapseLargeTitleOnScroll:!0,snapPageScrollToLargeTitle:!0,snapPageScrollToTransparentNavbar:!0}},on:{"panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint":function(){const e=this;s(".navbar").each((t=>{e.navbar.size(t)}))},pageBeforeRemove(e){e.$el[0].f7DetachNavbarScrollHandlers&&e.$el[0].f7DetachNavbarScrollHandlers()},pageBeforeIn(e){const t=this;if("ios"!==t.theme)return;let r;const a=e.$el.parents(".view")[0].f7View,n=t.navbar.getElByPage(e);if(r=n?s(n).parents(".navbars"):e.$el.parents(".view").children(".navbars"),e.$el.hasClass("no-navbar")||a.router.dynamicNavbar&&!n){const a=!!(e.pageFrom&&e.router.history.length>0);t.navbar.hide(r,a)}else t.navbar.show(r)},pageReinit(e){const t=s(this.navbar.getElByPage(e));t&&0!==t.length&&this.navbar.size(t)},pageInit(e){const t=this,r=s(t.navbar.getElByPage(e));if(!r||0===r.length)return;let a,n,o;t.navbar.size(r),r.find(".title-large").length>0&&r.addClass("navbar-large"),r.hasClass("navbar-large")&&(t.params.navbar.collapseLargeTitleOnScroll&&(a=!0),e.$el.addClass("page-with-navbar-large")),!a&&r.hasClass("navbar-transparent")&&(n=!0),(t.params.navbar.hideOnPageScroll||e.$el.find(".hide-navbar-on-scroll").length||e.$el.hasClass("hide-navbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll"))&&(o=!(e.$el.find(".keep-navbar-on-scroll").length||e.$el.hasClass("keep-navbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))),(a||o||n)&&t.navbar.initNavbarOnScroll(e.el,r[0],o,a,n)},"panelOpen panelSwipeOpen modalOpen":function(e){const t=this;e.$el.find(".navbar:not(.navbar-previous)").each((e=>{t.navbar.size(e)}))},tabShow(e){const t=this;s(e).find(".navbar:not(.navbar-previous)").each((e=>{t.navbar.size(e)}))}},clicks:{".navbar .title":function(e,t,r){if(!this.params.navbar.scrollTopOnTitleClick)return;if(s(r.target).closest("a, button").length>0)return;let a;const n=e.parents(".navbar"),o=n.parents(".navbars");a=n.parents(".page-content"),0===a.length&&(n.parents(".page").length>0&&(a=n.parents(".page").find(".page-content")),0===a.length&&o.length&&o.nextAll(".page-current").length>0&&(a=o.nextAll(".page-current").find(".page-content")),0===a.length&&n.nextAll(".page-current").length>0&&(a=n.nextAll(".page-current").find(".page-content"))),a&&a.length>0&&(a.hasClass("tab")&&(a=a.parent(".tabs").children(".page-content.tab-active")),a.length>0&&a.scrollTop(0,300))}},vnode:{navbar:{postpatch(e){this.navbar.size(e.elm)}}}};const Pr={setHighlight(e){const t=this,r=s(e);if("ios"===t.theme&&!r.hasClass("tabbar-highlight"))return;if(0===r.length||!r.hasClass("tabbar")&&!r.hasClass("tabbar-icons"))return;let a=r.find(".tab-link-highlight");const n=r.find(".tab-link").length;if(0===n)return void a.remove();0===a.length?(r.children(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),a=r.find(".tab-link-highlight")):a.next().length&&r.children(".toolbar-inner").append(a);const o=r.find(".tab-link-active");let i,l;if(r.hasClass("tabbar-scrollable")&&o&&o[0])i=`${o[0].offsetWidth}px`,l=`${o[0].offsetLeft}px`;else{const e=o.index();i=100/n+"%",l=100*(t.rtl?-e:e)+"%"}ne((()=>{a.css("width",i).transform(`translate3d(${l},0,0)`)}))},init(e){this.toolbar.setHighlight(e)},hide(e,t){void 0===t&&(t=!0);const r=s(e);if(r.hasClass("toolbar-hidden"))return;const a="toolbar-hidden"+(t?" toolbar-transitioning":"");r.transitionEnd((()=>{r.removeClass("toolbar-transitioning")})),r.addClass(a),r.trigger("toolbar:hide"),this.emit("toolbarHide",r[0])},show(e,t){void 0===t&&(t=!0);const r=s(e);r.hasClass("toolbar-hidden")&&(t&&(r.addClass("toolbar-transitioning"),r.transitionEnd((()=>{r.removeClass("toolbar-transitioning")}))),r.removeClass("toolbar-hidden"),r.trigger("toolbar:show"),this.emit("toolbarShow",r[0]))},initToolbarOnScroll(e){const t=this,r=s(e);let a,n,o,i,l,c,u,p=r.parents(".view").children(".toolbar");function d(e){if(r.hasClass("page-with-card-opened"))return;if(r.hasClass("page-previous"))return;const s=this;e&&e.target&&e.target!==s||(n=s.scrollTop,o=s.scrollHeight,i=s.offsetHeight,l=n+i>=o,u=p.hasClass("toolbar-hidden"),l?t.params.toolbar.showOnPageScrollEnd&&(c="show"):c=a>n?t.params.toolbar.showOnPageScrollTop||n<=44?"show":"hide":n>44?"hide":"show","show"===c&&u?(t.toolbar.show(p),u=!1):"hide"!==c||u||(t.toolbar.hide(p),u=!0),a=n)}0===p.length&&(p=r.find(".toolbar")),0===p.length&&(p=r.parents(".views").children(".tabbar, .tabbar-icons")),0!==p.length&&(r.on("scroll",".page-content",d,!0),r[0].f7ScrollToolbarHandler=d)}};var $r={name:"toolbar",create(){ve(this,{toolbar:Pr})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove(e){e.$el[0].f7ScrollToolbarHandler&&e.$el.off("scroll",".page-content",e.$el[0].f7ScrollToolbarHandler,!0)},pageBeforeIn(e){const t=this;let r=e.$el.parents(".view").children(".toolbar");0===r.length&&(r=e.$el.parents(".views").children(".tabbar, .tabbar-icons")),0===r.length&&(r=e.$el.find(".toolbar")),0!==r.length&&(e.$el.hasClass("no-toolbar")?t.toolbar.hide(r):t.toolbar.show(r))},pageInit(e){const t=this;if(e.$el.find(".tabbar, .tabbar-icons").each((e=>{t.toolbar.init(e)})),t.params.toolbar.hideOnPageScroll||e.$el.find(".hide-toolbar-on-scroll").length||e.$el.hasClass("hide-toolbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll")){if(e.$el.find(".keep-toolbar-on-scroll").length||e.$el.hasClass("keep-toolbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))return;t.toolbar.initToolbarOnScroll(e.el)}},init(){const e=this;e.$el.find(".tabbar, .tabbar-icons").each((t=>{e.toolbar.init(t)}))}},vnode:{tabbar:{insert(e){this.toolbar.init(e.elm)}}}},xr={name:"subnavbar",on:{pageInit(e){e.$navbarEl&&e.$navbarEl.length&&e.$navbarEl.find(".subnavbar").length&&e.$el.addClass("page-with-subnavbar");e.$el.find(".subnavbar").filter((t=>s(t).parents(".page")[0]===e.$el[0])).length&&e.$el.addClass("page-with-subnavbar")}}};class Er{constructor(e,t,r,a){const n=this;if(!t)return;const{left:o,top:i,width:l,height:c}=t[0].getBoundingClientRect(),u=r-o,p=a-i;let d=Math.max((c**2+l**2)**.5,48),h=!1;const f=e.params.touch.touchRippleInsetElements||"";if(f&&t.is(f)&&(h=!0),h&&(d=Math.max(Math.min(l,c),48)),h||"hidden"!==t.css("overflow"))n.rippleTransform=`translate3d(${l/2-u}px, ${c/2-p}px, 0) scale(1)`;else{const e=(d/2+((u-l/2)**2+(p-c/2)**2)**.5)/(d/2);n.rippleTransform=`translate3d(0px, 0px, 0) scale(${2*e})`}return h&&t.addClass("ripple-inset"),n.$rippleWaveEl=s(`<div class="ripple-wave${h?" ripple-wave-inset":""}" style="width: ${d}px; height: ${d}px; margin-top:-${d/2}px; margin-left:-${d/2}px; left:${u}px; top:${p}px; --f7-ripple-transform: ${n.rippleTransform}"></div>`),t.prepend(n.$rippleWaveEl),n.$rippleWaveEl.animationEnd((()=>{n.$rippleWaveEl&&(n.$rippleWaveEl.hasClass("ripple-wave-out")||(n.$rippleWaveEl.addClass("ripple-wave-in"),n.shouldBeRemoved&&n.out()))})),n}destroy(){let e=this;e.$rippleWaveEl&&e.$rippleWaveEl.remove(),Object.keys(e).forEach((t=>{e[t]=null,delete e[t]})),e=null}out(){const e=this,{$rippleWaveEl:t}=this;clearTimeout(e.removeTimeout),t.addClass("ripple-wave-out"),e.removeTimeout=setTimeout((()=>{e.destroy()}),300),t.animationEnd((()=>{clearTimeout(e.removeTimeout),e.destroy()}))}remove(){const e=this;e.shouldBeRemoved||(e.removeTimeout=setTimeout((()=>{e.destroy()}),400),e.shouldBeRemoved=!0,e.$rippleWaveEl.hasClass("ripple-wave-in")&&e.out())}}var Mr={name:"touch-ripple",static:{TouchRipple:Er},create(){this.touchRipple={create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Er(...t)}}}};const Or=[],Rr=[];class Tr extends Ke{constructor(e,t){super(t,[e]);const r=this,a={};r.useModulesParams(a),r.params=ue(a,t),r.opened=!1;let n=r.params.containerEl?s(r.params.containerEl).eq(0):e.$el;return n.length||(n=e.$el),r.$containerEl=n,r.containerEl=n[0],r.useModules(),this}onOpen(){const e=this;e.opened=!0,Or.push(e),s("html").addClass(`with-modal-${e.type.toLowerCase()}`),e.$el.trigger(`modal:open ${e.type.toLowerCase()}:open`),e.emit(`local::open modalOpen ${e.type}Open`,e)}onOpened(){const e=this;e.$el.trigger(`modal:opened ${e.type.toLowerCase()}:opened`),e.emit(`local::opened modalOpened ${e.type}Opened`,e)}onClose(){const e=this;e.opened=!1,e.type&&e.$el&&(Or.splice(Or.indexOf(e),1),s("html").removeClass(`with-modal-${e.type.toLowerCase()}`),e.$el.trigger(`modal:close ${e.type.toLowerCase()}:close`),e.emit(`local::close modalClose ${e.type}Close`,e))}onClosed(){const e=this;e.type&&e.$el&&(e.$el.removeClass("modal-out"),e.$el.hide(),e.params.backdrop&&(e.params.backdropUnique||e.forceBackdropUnique)&&e.$backdropEl&&e.$backdropEl.remove(),e.$el.trigger(`modal:closed ${e.type.toLowerCase()}:closed`),e.emit(`local::closed modalClosed ${e.type}Closed`,e))}open(e,t){const a=this,n=r(),o=a.app,i=a.$el,l=a.$backdropEl,c=a.type;let u=!0;if(void 0!==e?u=e:void 0!==a.params.animate&&(u=a.params.animate),(!i||i.hasClass("modal-in"))&&(!1===e&&i[0]&&"dialog"!==c&&(i[0].style.display="block"),!t))return a;if("dialog"===c&&o.params.modal.queueDialogs){let e;if(s(".dialog.modal-in").length>0?e=!0:Or.length>0&&Or.forEach((t=>{"dialog"===t.type&&(e=!0)})),e)return Rr.push(a),a}const p=i.parent(),d=i.parents(n).length>0;function h(){i.hasClass("modal-out")?a.onClosed():i.hasClass("modal-in")&&a.onOpened()}return p.is(a.$containerEl)||(a.$containerEl.append(i),a.once(`${c}Closed`,(()=>{d?p.append(i):i.remove()}))),i.show(),a.params.backdrop&&(a.params.backdropUnique||a.forceBackdropUnique)&&a.$backdropEl&&a.$backdropEl.insertBefore(i),a._clientLeft=i[0].clientLeft,u?(l&&(l.removeClass("not-animated"),l.addClass("backdrop-in")),i.animationEnd((()=>{h()})),i.transitionEnd((()=>{h()})),i.removeClass("modal-out not-animated").addClass("modal-in"),a.onOpen()):(l&&l.addClass("backdrop-in not-animated"),i.removeClass("modal-out").addClass("modal-in not-animated"),a.onOpen(),a.onOpened()),a}close(e){const t=this,r=t.$el,a=t.$backdropEl;let n=!0;if(void 0!==e?n=e:void 0!==t.params.animate&&(n=t.params.animate),!r||!r.hasClass("modal-in"))return Rr.indexOf(t)>=0&&Rr.splice(Rr.indexOf(t),1),t;if(a){let e=!0;"popup"===t.type&&t.$el.prevAll(".popup.modal-in").add(t.$el.nextAll(".popup.modal-in")).each((r=>{const a=r.f7Modal;a&&a.params.closeByBackdropClick&&a.params.backdrop&&a.backdropEl===t.backdropEl&&(e=!1)})),e&&(a[n?"removeClass":"addClass"]("not-animated"),a.removeClass("backdrop-in"))}function o(){r.hasClass("modal-out")?t.onClosed():r.hasClass("modal-in")&&t.onOpened()}return r[n?"removeClass":"addClass"]("not-animated"),n?(r.animationEnd((()=>{o()})),r.transitionEnd((()=>{o()})),r.removeClass("modal-in").addClass("modal-out"),t.onClose()):(r.addClass("not-animated").removeClass("modal-in").addClass("modal-out"),t.onClose(),t.onClosed()),"dialog"===t.type&&function(){if(0===Rr.length)return;Rr.shift().open()}(),t}destroy(){const e=this;e.destroyed||(e.emit(`local::beforeDestroy modalBeforeDestroy ${e.type}BeforeDestroy`,e),e.$el&&(e.$el.trigger(`modal:beforedestroy ${e.type.toLowerCase()}:beforedestroy`),e.$el.length&&e.$el[0].f7Modal&&delete e.$el[0].f7Modal),te(e),e.destroyed=!0)}}class Sr extends Tr{constructor(e,t){const r=ue({backdrop:!0,closeByBackdropClick:!0,on:{}},t);super(e,r);const a=this;let n,o;if(a.params=r,n=a.params.el?s(a.params.el):s(a.params.content),n&&n.length>0&&n[0].f7Modal)return n[0].f7Modal;if(0===n.length)return a.destroy();function i(e){a&&!a.destroyed&&o&&e.target===o[0]&&a.close()}return a.params.backdrop&&(o=e.$el.children(".custom-modal-backdrop"),0===o.length&&(o=s('<div class="custom-modal-backdrop"></div>'),e.$el.append(o))),a.on("customModalOpened",(()=>{a.params.closeByBackdropClick&&a.params.backdrop&&e.on("click",i)})),a.on("customModalClose",(()=>{a.params.closeByBackdropClick&&a.params.backdrop&&e.off("click",i)})),ue(a,{app:e,$el:n,el:n[0],$backdropEl:o,backdropEl:o&&o[0],type:"customModal"}),n[0].f7Modal=a,a}}var Br={name:"modal",static:{Modal:Tr,CustomModal:Sr},create(){const e=this;e.customModal={create:t=>new Sr(e,t)}},params:{modal:{queueDialogs:!0}}};vt.use([kt]),et.use([tt,rt,at,nt,ot,Ct,bt,dr,pr,fr,gr,yr,wr,kr,$r,xr,Mr,Br]);export{or as $jsx,ir as Component,s as Dom7,mr as createStore,et as default,Qe as getDevice,Xe as getSupport,ye as utils};
